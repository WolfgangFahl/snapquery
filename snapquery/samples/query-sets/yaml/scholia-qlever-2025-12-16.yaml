domain: scholia.toolforge.org
namespace: named_queries_qlever
target_graph_name: wikidata
queries:
- name: 404-chemical_related
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: 404-chemical-related--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX mwapi: <https://www.mediawiki.org/ontology#API/>
    SELECT ?mol ?molLabel ?InChIKey ?CAS ?ChemSpider ?PubChem_CID {
      {
        SELECT ?mol ?InChIKey WHERE {
          SERVICE <https://query.wikidata.org/sparql> {
            SERVICE wikibase:mwapi {
              bd:serviceParam wikibase:endpoint "www.wikidata.org" ;
                              wikibase:api "Search" ;
                              mwapi:srsearch "_shortkey_ haswbstatement:P235" ;
                              mwapi:srlimit "max" .
              ?mol wikibase:apiOutputItem mwapi:title.
            }
          }
          ?mol wdt:P235 ?InChIKey .
          FILTER (REGEX(STR(?InChIKey),"^_shortkey_"))
        }
      }
      OPTIONAL {
        ?mol wdt:P231 ?CAS
      }
      OPTIONAL {
        ?mol wdt:P661 ?ChemSpider
      }
      OPTIONAL {
        ?mol wdt:P662 ?PubChem_CID
      }
      {{ sparql_helpers.labels(["?mol"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/404-chemical_related.sparql
  title: 404-chemical_related
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/404-chemical_related.sparql'
- name: ask_author_retractions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ask-author-retractions--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    ASK {
      #    ?work wdt:P50 wd:{{q}} . BIND("author-retractions" AS ?aspectsubpage)
      {
        ?work wdt:P31 wd:Q45182324
      }
      UNION {
        ?work wdt:P793 wd:Q7316896 .
      }
      UNION {
        ?work wdt:P5824 [] .
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ask_author_retractions.sparql
  title: ask_author_retractions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ask_author_retractions.sparql'
- name: ask_venue_cito
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ask-venue-cito--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    ASK {
      [] pq:P3712 / wdt:P31 wd:Q96471816 ; ps:P2860 / wdt:P1433 wd:{{q}} . BIND("venue-cito" AS ?aspectsubpage)
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ask_venue_cito.sparql
  title: ask_venue_cito
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ask_venue_cito.sparql'
- name: ask_work_cito
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ask-work-cito--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    ASK {
      [] pq:P3712 / wdt:P31 wd:Q96471816 ; ps:P2860 wd:{{q}} . BIND("work-cito" AS ?aspectsubpage)
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ask_work_cito.sparql
  title: ask_work_cito
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ask_work_cito.sparql'
- name: ask_work_gallery
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ask-work-gallery--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    ASK {
      wd:{{q}} wdt:P373 ?gallery  .
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ask_work_gallery.sparql
  title: ask_work_gallery
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ask_work_gallery.sparql'
- name: author-curation_missing-author-resolving
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-curation-missing-author-resolving--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #title: Variants of author name strings
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(?work) AS ?count) ?string (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?string)) AS ?author_resolver_url) WHERE {
      # Find works that have "author name string" values equal to these normalized strings
      # This part is due to Dipsacus fullonum, as per https://w.wiki/5Brk
      {
        # Calculate capitalization variants of these raw strings
        SELECT DISTINCT ?string WHERE {
          {
            { # Find strings associated with the target author
              SELECT DISTINCT ?string_ WHERE {
                {
                  target: rdfs:label ?string_ .
                } # in label
                UNION {
                  target: skos:altLabel ?string_ .
                } # in alias
                UNION {
                  ?author_statement ps:P50 target: ;
                                    pq:P1932 ?string_ . # in "stated as" strings for "author" statements on work items
                }
              }
            }
            BIND (STR(?string_) AS ?string) # the raw strings
          }
          UNION {
            { # Find strings associated with the target author
              SELECT DISTINCT ?string_ WHERE {
                {
                  target: rdfs:label ?string_ .
                } # in label
                UNION {
                  target: skos:altLabel ?string_ .
                } # in alias
                UNION {
                  ?author_statement ps:P50 target: ;
                                    pq:P1932 ?string_ . # in "stated as" strings for "author" statements on work items
                }
              }
            }
            BIND (UCASE(STR(?string_)) AS ?string) # uppercased versions of the raw strings
          }
          UNION {
            { # Find strings associated with the target author
              SELECT DISTINCT ?string_ WHERE {
                {
                  target: rdfs:label ?string_ .
                } # in label
                UNION {
                  target: skos:altLabel ?string_ .
                } # in alias
                UNION {
                  ?author_statement ps:P50 target: ;
                                    pq:P1932 ?string_ . # in "stated as" strings for "author" statements on work items
                }
              }
            }
            BIND (LCASE(STR(?string_)) AS ?string) # lowercased versions of the raw strings
          }
        }
      }
      OPTIONAL {
        ?work wdt:P2093 ?string .
      }
    }
    GROUP BY ?string
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author-curation_missing-author-resolving.sparql
  title: author-curation_missing-author-resolving
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author-curation_missing-author-resolving.sparql'
- name: author-curation_missing-citing-author-items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-curation-missing-citing-author-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?citing_author (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?citing_author)) AS ?resolver_url) ?example_citing_work ?example_citing_workLabel (CONCAT("/work/", SUBSTR(STR(?example_citing_work),32)) AS ?example_citing_workUrl) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?citing_author (SAMPLE(?citing_work) AS ?example_citing_work) WHERE {
          ?work wdt:P50 target: .
          ?citing_work wdt:P2860 ?work .
          ?citing_work wdt:P2093 ?citing_author .
        }
        GROUP BY ?citing_author
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    ORDER BY DESC(?count)
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author-curation_missing-citing-author-items.sparql
  title: author-curation_missing-citing-author-items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author-curation_missing-citing-author-items.sparql'
- name: author-curation_missing-coauthor-items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-curation-missing-coauthor-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT
    # Number of works with the coauthor
    ?count
    # The coauthor as a string, - rather than as an item
    ?coauthor
    # Build URL to the Author disambiguator tool
    (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?coauthor)) AS ?resolver_url) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?coauthor WHERE {
          ?work wdt:P50 target: .
          ?work wdt:P2093 ?coauthor .
        }
        GROUP BY ?coauthor
      }
      # Label the results
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author-curation_missing-coauthor-items.sparql
  title: author-curation_missing-coauthor-items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author-curation_missing-coauthor-items.sparql'
- name: author-curation_missing-topic
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-curation-missing-topic--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?citations ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) (?work AS ?wikidata_url) WHERE {
      {
        SELECT (COUNT(?work1) AS ?citations) ?work WHERE {
          {
            SELECT (COUNT(?work) AS ?count) ?work WHERE {
              # Works by author
              ?work wdt:P50 target: .
              # Work does not have a main subject statement
              FILTER NOT EXISTS {
                ?work wdt:P921 ?topic .
              }
            }
            GROUP BY ?work
            ORDER BY DESC(?count)
            LIMIT 2000
          }
          # Works cited
          OPTIONAL {
            ?work1 wdt:P2860 ?work
          } .
        }
        GROUP BY ?work
        ORDER BY DESC(?citations)
        LIMIT 200
      }
      # Label the results
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author-curation_missing-topic.sparql
  title: author-curation_missing-topic
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author-curation_missing-topic.sparql'
- name: author-curation_missing-use-as-reference
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-curation-missing-use-as-reference--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?citations ?work (REPLACE(STR(?work), ".*/", "") AS ?workLabel) (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) WHERE {
      {
        SELECT (COUNT(?work1) AS ?citations) ?work WHERE {
          {
            SELECT ?work (COUNT(DISTINCT ?statement) AS ?count) WHERE {
              ?work wdt:P50 target: .
              OPTIONAL {
                ?statement prov:wasDerivedFrom/pr:P248 ?work .
              }
            }
            GROUP BY ?work
          }
          FILTER (?count = 0)
          # Works cited
          OPTIONAL {
            ?work1 wdt:P2860 ?work
          } .
        }
        GROUP BY ?work
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    ORDER BY DESC(?citations)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author-curation_missing-use-as-reference.sparql
  title: author-curation_missing-use-as-reference
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author-curation_missing-use-as-reference.sparql'
- name: author-use_works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-use-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) WHERE {
      ?work wdt:P50 target1: ;
            wdt:P4510 target2: .
      OPTIONAL {
        ?work wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?publication_date)
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en,da,de,es,fr,jp,nl,no,ru,sv,zh". }
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author-use_works.sparql
  title: author-use_works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author-use_works.sparql'
- name: author_academic-tree
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-academic-tree--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\n#defaultView:Graph\n\
    PREFIX target: <http://www.wikidata.org/entity/{{q}}>\n# Doctoral student/supervisor\
    \ network with a source from a specific researcher\nPREFIX gas: <http://www.bigdata.com/rdf/gas#>\n\
    PREFIX bd: <http://www.bigdata.com/rdf#>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT DISTINCT ?student1 ?student1Label\
    \ ?rgb ?supervisor1 ?supervisor1Label WHERE {\n  {\n    {\n      SELECT ?student1\
    \ (MIN(?supervisor) AS ?supervisor1) WHERE {\n        # Forward traversal: all\
    \ reachable students and their predecessor (closest supervisor)\n        # compute\
    \ all reachable students\n        target: wdt:P185+ ?student1 .\n        # compute\
    \ all of their supervisors\n        ?supervisor wdt:P185 ?student1 .\n       \
    \ # ensure that the supervisor is a predecessor\n        target:  wdt:P185* ?supervisor\
    \ .\n      } GROUP BY ?student1\n    }\n\n# previous implementation using gas\n\
    #   SELECT ?student1 ?supervisor1 (MIN(?depth1) AS ?depth) WHERE {\n#     SERVICE\
    \ gas:service {\n#       gas:program gas:gasClass \"com.bigdata.rdf.graph.analytics.BFS\"\
    \ ;\n#                   gas:in target: ;\n#                   gas:traversalDirection\
    \ \"Forward\" ;  # \"Reverse\" for reverse cases\n#                   gas:out\
    \ ?student1 ;\n#                   gas:out1 ?depth1 ;\n#                   gas:out2\
    \ ?supervisor1 ;\n#                   gas:linkType wdt:P185 ;\n#     }    \n\n\
    \  }\n  UNION {\n    SELECT (MIN(?student) AS ?student1) ?supervisor1 WHERE {\n\
    \      # Reverse traversal: all reachable supervisors and there direct predecessors\n\
    \      # compute all reachable supervisors\n      ?supervisor1 wdt:P185+ target:\
    \ .\n      # compute all of their students\n      ?supervisor1 wdt:P185 ?student\
    \ .\n      # then make sure the student is a predecessor\n      ?student wdt:P185*\
    \ target: .\n    } GROUP BY ?supervisor1\n  }\n  UNION {\n    SELECT (MIN(?student)\
    \ AS ?student1) ?supervisor1 WHERE {\n      # Forward traversal: all reachable\
    \ supervisors and their students\n      # compute all reachable supervisors\n\
    \      target: wdt:P184+ ?supervisor1 .\n      # compute all of their students\n\
    \      ?student wdt:P184 ?supervisor1 .\n      # ensure that the student is a\
    \ predecessor\n      target:  wdt:P184* ?student .\n    } GROUP BY ?supervisor1\n\
    \  }\n  UNION {\n      SELECT ?student1 (MIN(?supervisor) AS ?supervisor1) WHERE\
    \ {\n      # Reverse traversal: all reachable students and their direct predecessors\n\
    \      # compute all reachable students\n      ?student1 wdt:P184+ target: .\n\
    \      # compute all of their supervisors\n      ?student1 wdt:P184 ?supervisor\
    \ .\n      # ensure the supervisor is a predecessor\n      ?supervisor wdt:P184*\
    \ target: .\n    } GROUP BY ?student1\n  }\n  BIND (IF(?student1 = target:,\"\
    3080BB\",\"ffffff\") AS ?rgb)\n  {{ sparql_helpers.labels([\"?student1\", \"?supervisor1\"\
    ], languages) }}\n}\n\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_academic-tree.sparql
  title: author_academic-tree
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_academic-tree.sparql'
- name: author_associated-images
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-associated-images--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:ImageGrid
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?image WHERE {
      {
        # Images of the person
        target: wdt:P18 ?image .
      }
      UNION {
        # Images from whatever property value is linked.
        # Excluded "different from" property and take all other properties
        target: !wdt:P1889 ?item .
        ?item wdt:P18 ?image .
        # All people are humans, so these images are excluded.
        FILTER (?item != wd:Q5)
      }
      UNION {
        # Images associated with works of the author, both direct images,
        # images of topics of the works and images of coauthors.
        target: ^wdt:P50/(wdt:P921* | wdt:P50)/wdt:P18 ?image .
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_associated-images.sparql
  title: author_associated-images
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_associated-images.sparql'
- name: author_citations-by-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-citations-by-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (COUNT(DISTINCT ?citing_work) AS ?count) ?kind WHERE {
      ?work wdt:P50 target: .
      ?citing_work wdt:P2860 ?work .
      BIND (IF(EXISTS {
        ?citing_work wdt:P50 target:
      },"self-citations","citations from others") AS ?kind)
      ?citing_work wdt:P577 ?date .
      BIND (STR(YEAR(?date)) AS ?year)
    }
    GROUP BY ?year ?kind
    ORDER BY DESC(?year)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_citations-by-year.sparql
  title: author_citations-by-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_citations-by-year.sparql'
- name: author_coauthor-map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-coauthor-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Map
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?organization ?organizationLabel ?geo ?count ?layer WHERE {
      {
        SELECT DISTINCT ?organization ?geo (COUNT(DISTINCT ?work) AS ?count) WHERE {
          ?work wdt:P50 target: ;
                wdt:P50 ?author .
          FILTER (?author != target:)
          ?author (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* ?organization .
          ?organization (wdt:P625 | ((wdt:P276 | wdt:P159)/wdt:P625)) ?geo .
        }
        GROUP BY ?organization ?geo ?count
        ORDER BY DESC(?count)
        LIMIT 2000
      }
      BIND (IF((?count < 1),"No results",IF((?count < 2),"1 result",IF((?count < 11),"1 < results ‚â§ 10",IF((?count < 101),"10 < results ‚â§ 100",IF((?count < 1001),"100 < results ‚â§ 1000",IF((?count < 10001),"1000 < results ‚â§ 10000","over 10000 results")))))) AS ?layer)
      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_coauthor-map.sparql
  title: author_coauthor-map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_coauthor-map.sparql'
- name: author_coauthors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-coauthors--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\n#defaultView:Graph\n\
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>\n# Egocentric co-author\
    \ graph for an author\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:\
    \ <http://www.wikidata.org/prop/direct/>\nSELECT ?author1 ?author1Label ?rgb ?author2\
    \ ?author2Label WHERE {\n  {\n    SELECT ?author1 ?author2 ?rgb WHERE {\n    \
    \  {\n        SELECT (COUNT(?work) AS ?count) ?author1 ?author2 WHERE {\n    \
    \      # Find co-authors\n          ?work wdt:P50 target:, ?author1, ?author2\
    \ .\n          # Filtering \n          # Only journal and conference articles,\
    \ books, not (yet?) software\n          # VALUES ?publication_type { wd:Q13442814\
    \ wd:Q571 wd:Q26973022}  \n          # ?work wdt:P31 ?publication_type .\n   \
    \     }\n        GROUP BY ?author1 ?author2\n        ORDER BY DESC(?count)\n \
    \       # Limit the size of the graph, to avoid overburdening the browser\n  \
    \      LIMIT 1000\n      }\n      # Exclude self-links\n      FILTER (?author1\
    \ != ?author2)\n      # Color according to gender\n      OPTIONAL {\n        ?author1\
    \ wdt:P21 ?gender1 .\n        BIND (IF(?gender1 = wd:Q6581097,\"3182BD\",\"E6550D\"\
    ) AS ?rgb)\n      }\n    }\n  }\n  # Label the results \n  {{ sparql_helpers.labels([\"\
    ?author1\", \"?author2\"], languages) }}\n}\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_coauthors.sparql
  title: author_coauthors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_coauthors.sparql'
- name: author_events
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-events--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT (xsd:date(MIN(?start)) AS ?date) ?event ?eventLabel (CONCAT("/event/", SUBSTR(STR(?event),32)) AS ?eventUrl) (GROUP_CONCAT(DISTINCT ?role; SEPARATOR=", ") AS ?roles) (GROUP_CONCAT(DISTINCT ?location_label; SEPARATOR=", ") AS ?locations) WHERE {
      BIND (target: AS ?person)
      { # speaker
        ?event wdt:P823 ?person .
        BIND ("speaker" AS ?role)
      }
      UNION { # organizer
        ?event wdt:P664 ?person .
        BIND ("organizer" AS ?role)
      }
      UNION { # participant
        ?person wdt:P1344 | ^wdt:P710 ?event .
        BIND ("participant" AS ?role)
      }
      UNION { # editor
        ?person ^wdt:P98/wdt:P4745 ?event .
        BIND ("editor of proceedings" AS ?role)
      }
      UNION { # author
        ?person ^wdt:P50/wdt:P1433/wdt:P4745 ?event .
        BIND ("author" AS ?role)
      }
      UNION { # program committee member
        ?event wdt:P5804 ?person .
        BIND ("program committee member" AS ?role)
      }
      OPTIONAL {
        ?event wdt:P276 ?location .
        ?location rdfs:label ?location_label . FILTER (LANG(?location_label) = 'en')
      }
      OPTIONAL {
        ?event wdt:P580 | wdt:P585 ?start
      }
      {{ sparql_helpers.labels(["?event"], languages) }}
    }
    GROUP BY ?event ?eventLabel
    ORDER BY DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_events.sparql
  title: author_events
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_events.sparql'
- name: author_list-of-publications
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-list-of-publications--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT (MIN(?dates) AS ?date) ?work ?workLabel (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) (SAMPLE(?pages_) AS ?pages) ?venue ?venueLabel (GROUP_CONCAT(DISTINCT ?author_label; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) WHERE {
      ?work wdt:P50 wd:{{ q }} .
      { # By standard GROUP_CONCAT does not sort, but BlazeGraph seems to sort.
        SELECT ?work ?author ?author_label WHERE {
          ?work wdt:P50 wd:{{ q }} .
          ?work p:P50 [
            ps:P50 ?author ;
            pq:P1545 ?order
          ] .
          BIND (xsd:integer(?order) AS ?n)
          OPTIONAL {
            ?author rdfs:label ?author_label_ . FILTER (LANG(?author_label_) = 'en')
          }
          BIND (COALESCE(?author_label_, SUBSTR(STR(?author),32)) AS ?author_label)
        }
        ORDER BY ?n
      }
      OPTIONAL {
        ?work wdt:P31 ?type_ .
        ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
      }
      ?work wdt:P577 ?datetimes .
      BIND (xsd:date(?datetimes) AS ?dates)
      OPTIONAL {
        ?work wdt:P1104 ?pages_
      }
      OPTIONAL {
        ?work wdt:P1433 ?venue
      }
      {{ sparql_helpers.labels(["?work", "?venue"], languages) }}
    }
    GROUP BY ?work ?workLabel ?venue ?venueLabel
    ORDER BY DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_list-of-publications.sparql
  title: author_list-of-publications
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_list-of-publications.sparql'
- name: author_list-of-retracted-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-list-of-retracted-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT (MIN(?dates) AS ?date) ?work ?workLabel (CONCAT("../retraction/", SUBSTR(STR(?work),32)) AS ?workUrl) (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) (SAMPLE(?pages_) AS ?pages) ?venue ?venueLabel (GROUP_CONCAT(DISTINCT ?author_label; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) WHERE {
      ?work wdt:P50 target: .
      ?work wdt:P50 ?author .
      {
        ?work wdt:P31 wd:Q45182324
      }
      UNION {
        ?work wdt:P793 wd:Q7316896 .
      }
      UNION {
        ?work wdt:P5824 [] .
      }
      OPTIONAL {
        ?author rdfs:label ?author_label_ . FILTER (LANG(?author_label_) = 'en')
      }
      BIND (COALESCE(?author_label_, SUBSTR(STR(?author),32)) AS ?author_label)
      OPTIONAL {
        ?work wdt:P31 ?type_ .
        ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
      }
      ?work wdt:P577 ?datetimes .
      BIND (xsd:date(?datetimes) AS ?dates)
      OPTIONAL {
        ?work wdt:P1104 ?pages_
      }
      OPTIONAL {
        ?work wdt:P1433 ?venue
      }
      {{ sparql_helpers.labels(["?work", "?venue"], languages) }}
    }
    GROUP BY ?work ?workLabel ?workUrl ?venue ?venueLabel
    ORDER BY DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_list-of-retracted-articles.sparql
  title: author_list-of-retracted-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_list-of-retracted-articles.sparql'
- name: author_most-cited-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-most-cited-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Author's most cited works
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?work ?workLabel WHERE {
      {
        SELECT (COUNT(?citing_work) AS ?count) ?work WHERE {
          ?work wdt:P50 target: .
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_most-cited-works.sparql
  title: author_most-cited-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_most-cited-works.sparql'
- name: author_most-citing-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-most-citing-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?citing_author ?citing_authorLabel
    # Either show the ORCID iD or construct part of a URL to search on the ORCID homepage
    (COALESCE(?orcid_, CONCAT("orcid-search/search/?searchQuery=", ENCODE_FOR_URI(?citing_authorLabel))) AS ?orcid) WHERE {
      { # An author might have multiple ORCID iDs
        SELECT ?count ?citing_author (SAMPLE(?orcids) AS ?orcid_) WHERE {
          {
            SELECT (COUNT(?citing_work) AS ?count) ?citing_author WHERE {
              ?work wdt:P50 target: .
              ?citing_work wdt:P2860 ?work .
              MINUS {
                ?citing_work wdt:P50 target:
              }
              ?citing_work wdt:P50 ?citing_author .
            }
            GROUP BY ?citing_author
            ORDER BY DESC(?count)
            LIMIT 500
          }
          OPTIONAL {
            ?citing_author wdt:P496 ?orcids
          }
        }
        GROUP BY ?count ?citing_author
      }
      {{ sparql_helpers.labels(["?citing_author"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_most-citing-authors.sparql
  title: author_most-citing-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_most-citing-authors.sparql'
- name: author_other-locations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-other-locations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?image ?item ?itemLabel ?geo (?property_item_label AS ?layer) WHERE {
      target: ?property ?item .
      ?item p:P159/pq:P625 | wdt:P276*/wdt:P625 ?geo .
      ?property_item wikibase:directClaim ?property .
      OPTIONAL {
        ?item wdt:P18 ?image .
      }
      {{ sparql_helpers.labels(["?item"], languages) }}
      # No automatic labeling on the property, - for some reason.
      ?property_item rdfs:label ?property_item_label . FILTER (LANG(?property_item_label) = 'en')
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_other-locations.sparql
  title: author_other-locations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_other-locations.sparql'
- name: author_pages-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-pages-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year ?number_of_pages ?work_label WHERE {
      {
        SELECT ?year (SAMPLE(?pages) AS ?number_of_pages) ?work_label WHERE {
          {
            SELECT (STR(?year_) AS ?year) (0 AS ?pages) ("_" AS ?work_label) WHERE {
              ?year_item wdt:P31 wd:Q577 .
              ?year_item wdt:P585 ?date .
              BIND (YEAR(?date) AS ?year_)
              {
                SELECT (MIN(?year_) AS ?earliest_year) (MAX(?year_) AS ?latest_year) WHERE {
                  ?work wdt:P50 target: .
                  ?work wdt:P577 ?publication_date .
                  BIND (YEAR(?publication_date) AS ?year_)
                }
              }
              FILTER (?year_ >= ?earliest_year && ?year_ <= ?latest_year)
            }
          }
          UNION {
            ?work wdt:P50 target: .
            ?work wdt:P1104 ?pages .
            ?work wdt:P577 ?date .
            ?work rdfs:label ?long_work_label . FILTER (LANG(?long_work_label) = 'en')
            BIND (SUBSTR(?long_work_label,1,20) AS ?work_label)
            BIND (STR(YEAR(?date)) AS ?year)
          }
        }
        GROUP BY ?year ?work ?work_label
        ORDER BY ?year
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_pages-per-year.sparql
  title: author_pages-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_pages-per-year.sparql'
- name: author_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu\
    \ Mishra, Vetle Torvik\nPREFIX p: <http://www.wikidata.org/prop/>\nPREFIX pq:\
    \ <http://www.wikidata.org/prop/qualifier/>\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nSELECT ?year (COUNT(?work) AS\
    \ ?number_of_publications) ?role WHERE {\n  {\n    SELECT (STR(?year_) AS ?year)\
    \ (0 AS ?pages) (\"_\" AS ?role) WHERE {\n      # default values = 0\n      ?year_item\
    \ wdt:P31 wd:Q577 .\n      ?year_item wdt:P585 ?date .\n      BIND (YEAR(?date)\
    \ AS ?year_)\n      {\n        SELECT (MIN(?year_) AS ?earliest_year) (MAX(?year_)\
    \ AS ?latest_year) WHERE {\n          ?work wdt:P50 target: .\n          ?work\
    \ wdt:P577 ?publication_date .\n          BIND (YEAR(?publication_date) AS ?year_)\n\
    \        }\n      }\n      BIND (YEAR(NOW() \n    ) + 1 AS ?next_year ) FILTER\
    \ ( ?year_ >= ?earliest_year && ?year_ <= ?latest_year )}\n  }\n  UNION {\n  \
    \  {\n      SELECT ?work (MIN(?years) AS ?year) (COUNT(?coauthors) AS ?number_of_authors)\
    \ ?author_number WHERE {\n        ?work (p:P50 | p:P2093) ?author_statement .\n\
    \        ?author_statement ps:P50 target: .\n        OPTIONAL {\n          ?author_statement\
    \ pq:P1545 ?author_number .\n        }\n        ?work (wdt:P50 | wdt:P2093) ?coauthors\
    \ .\n        ?work wdt:P577 ?dates .\n        BIND (STR(YEAR(?dates)) AS ?years)\
    \ .\n      }\n      GROUP BY ?work ?author_number\n    }\n    BIND (COALESCE(IF(?number_of_authors\
    \ = 1,'Solo author',IF(xsd:integer(?author_number) = 1,'First author',IF(xsd:integer(?author_number)\
    \ = ?number_of_authors,'Last author','Middle author'))), 'Unknown') AS ?role)\n\
    \  }\n}\nGROUP BY ?year ?role\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_publications-per-year.sparql
  title: author_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_publications-per-year.sparql'
- name: author_retracted-articles-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-retracted-articles-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu\
    \ Mishra, Vetle Torvik\nPREFIX p: <http://www.wikidata.org/prop/>\nPREFIX pq:\
    \ <http://www.wikidata.org/prop/qualifier/>\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nSELECT ?year (COUNT(?work) AS\
    \ ?number_of_publications) ?role WHERE {\n  {\n    SELECT (STR(?year_) AS ?year)\
    \ (0 AS ?pages) (\"_\" AS ?role) WHERE {\n      # default values = 0\n      ?year_item\
    \ wdt:P31 wd:Q577 .\n      ?year_item wdt:P585 ?date .\n      BIND (YEAR(?date)\
    \ AS ?year_)\n      {\n        SELECT (MIN(?year_) AS ?earliest_year) (MAX(?year_)\
    \ AS ?latest_year) WHERE {\n          ?work wdt:P50 target: .\n          ?work\
    \ wdt:P577 ?publication_date .\n          {\n            ?work wdt:P31 wd:Q45182324\n\
    \          }\n          UNION {\n            ?work wdt:P793 wd:Q7316896 .\n  \
    \        }\n          UNION {\n            ?work wdt:P5824 [] .\n          }\n\
    \          BIND (YEAR(?publication_date) AS ?year_)\n        }\n      }\n    \
    \  BIND (YEAR(NOW() \n    ) + 1 AS ?next_year ) FILTER ( ?year_ >= ?earliest_year\
    \ && ?year_ <= ?latest_year )}\n  }\n  UNION {\n    {\n      SELECT ?work (MIN(?years)\
    \ AS ?year) (COUNT(?coauthors) AS ?number_of_authors) ?author_number WHERE {\n\
    \        ?work (p:P50 | p:P2093) ?author_statement .\n        ?author_statement\
    \ ps:P50 target: .\n        OPTIONAL {\n          ?author_statement pq:P1545 ?author_number\
    \ .\n        }\n        ?work (wdt:P50 | wdt:P2093) ?coauthors .\n        ?work\
    \ wdt:P577 ?dates .\n        {\n          ?work wdt:P31 wd:Q45182324\n       \
    \ }\n        UNION {\n          ?work wdt:P793 wd:Q7316896 .\n        }\n    \
    \    UNION {\n          ?work wdt:P5824 [] .\n        }\n        BIND (STR(YEAR(?dates))\
    \ AS ?years) .\n      }\n      GROUP BY ?work ?author_number\n    }\n    BIND\
    \ (COALESCE(IF(?number_of_authors = 1,'Solo author',IF(xsd:integer(?author_number)\
    \ = 1,'First author',IF(xsd:integer(?author_number) = ?number_of_authors,'Last\
    \ author','Middle author'))), 'Unknown') AS ?role)\n  }\n}\nGROUP BY ?year ?role\n\
    ORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_retracted-articles-per-year.sparql
  title: author_retracted-articles-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_retracted-articles-per-year.sparql'
- name: author_review-statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-review-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # Venue statistics for a specific reviewer
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count (SAMPLE(?short_name_) AS ?short_name) ?venue ?venueLabel ?topics ?topicsUrl WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?venue (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=", ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            ?work wdt:P4032 target: ;
                  wdt:P1433 ?venue .
          }
          UNION {
            # program committee member for event in a series (work is here the event)
            ?work wdt:P179 ?venue ;
                  wdt:P5804 target:
          }
          UNION {
            # program committee member for event not in a series
            ?venue wdt:P5804 target: .
            MINUS {
              ?venue wdt:P179 []
            }
            BIND ("dummy" AS ?work)
          }
          OPTIONAL {
            ?venue wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
          }
        }
        GROUP BY ?venue
      }
      OPTIONAL {
        ?venue wdt:P1813 ?short_name_ .
      }
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    GROUP BY ?count ?venue ?venueLabel ?topics ?topicsUrl
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_review-statistics.sparql
  title: author_review-statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_review-statistics.sparql'
- name: author_timeline
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-timeline--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:Timeline
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Timeline for an author
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?label ?beginning ?ending ?education_degree_label WHERE {
      # { Birth target: wdt:P569 ?beginning . BIND("Birth" AS ?label) } UNION
      {
        {
          SELECT ?work ?beginning WHERE {
            {
              SELECT ?work ?beginning (COUNT(?citing_article) AS ?number_of_citations) WHERE {
                {
                  SELECT ?work (MIN(?publication_date) AS ?beginning) WHERE {
                    ?work wdt:P50 target: .
                    ?work wdt:P577 ?publication_date .
                  }
                  GROUP BY ?work
                }
                OPTIONAL {
                  ?citing_article wdt:P2860 ?work .
                }
              }
              GROUP BY ?work ?beginning
            }
          }
          ORDER BY DESC(?number_of_citations)
          LIMIT 1
        }
        BIND ("üìñ publication of most cited article" AS ?label)
      }
      UNION {
        {
          SELECT ?work ?beginning WHERE {
            {
              SELECT ?work ?beginning (COUNT(?citing_article) AS ?number_of_citations) WHERE {
                {
                  SELECT ?work (MIN(?publication_date) AS ?beginning) WHERE {
                    ?work wdt:P50 target: .
                    ?work wdt:P577 ?publication_date .
                  }
                  GROUP BY ?work
                }
                OPTIONAL {
                  ?citing_article wdt:P2860 ?work .
                }
              }
              GROUP BY ?work ?beginning
            }
          }
          ORDER BY ?beginning
          LIMIT 1
        }
        BIND ("üìñ first publication" AS ?label)
      }
      UNION {
        {
          SELECT ?work ?beginning WHERE {
            {
              SELECT ?work ?beginning (COUNT(?citing_article) AS ?number_of_citations) WHERE {
                {
                  SELECT ?work (MIN(?publication_date) AS ?beginning) WHERE {
                    ?work wdt:P50 target: .
                    ?work wdt:P577 ?publication_date .
                  }
                  GROUP BY ?work
                }
                OPTIONAL {
                  ?citing_article wdt:P2860 ?work .
                }
              }
              GROUP BY ?work ?beginning
            }
          }
          ORDER BY DESC(?beginning)
          LIMIT 1
        }
        BIND ("üìñ latest publication" AS ?label)
      }
      UNION {
        # Education
        target: p:P69 ?education_statement .
        ?education_statement ps:P69 ?education .
        ?education rdfs:label ?education_label .
        FILTER (LANG(?education_label) = 'en')
        BIND (CONCAT("ü¶â ", ?education_label) AS ?label)
        OPTIONAL {
          ?education_statement pq:P580 ?beginning .
        }
        OPTIONAL {
          ?education_statement pq:P582 ?ending .
        }
        OPTIONAL {
          ?education_statement pq:P512 ?education_degree .
          ?education_degree rdfs:label ?education_degree_label .
          FILTER (LANG(?education_degree_label) = 'en')
        }
      }
      UNION {
        # Affiliation
        target: p:P1416 | p:P108 ?affiliation_statement .
        ?affiliation_statement ps:P1416 | ps:P108 ?affiliation .
        ?affiliation rdfs:label ?affiliation_label .
        FILTER (LANG(?affiliation_label) = 'en')
        BIND (CONCAT("üè† ", ?affiliation_label) AS ?label)
        # OPTIONAL { ?affiliation wdt:P18 ?image }
        OPTIONAL {
          ?affiliation_statement pq:P580 ?beginning .
        }
        OPTIONAL {
          ?affiliation_statement pq:P582 ?ending .
        }
        OPTIONAL {
          ?affiliation_statement pq:P512 ?affiliation_degree .
          ?affiliation_degree rdfs:label ?affiliation_degree_label .
          FILTER (LANG(?affiliation_degree_label) = 'en')
        }
      }
      UNION {
        target: p:P166 ?award_statement .
        ?award_statement ps:P166 ?award .
        ?award rdfs:label ?award_label .
        FILTER (LANG(?award_label) = 'en')
        BIND (CONCAT("üèÜ ", ?award_label) AS ?label)
        ?award_statement pq:P585 ?beginning .
      }
      UNION {
        target: wdt:P569 ?beginning .
        BIND (CONCAT("üë∂ born ") AS ?label) .
      }
      UNION {
        target: wdt:P570 ?beginning .
        BIND (CONCAT("ü•Ä died") AS ?label) .
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_timeline.sparql
  title: author_timeline
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_timeline.sparql'
- name: author_topic-scores
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-topic-scores--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT ?score ?topic (COALESCE(?topicLabel_, REPLACE(STR(?topic), ".*/", "")) AS ?topicLabel) WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          {
            target: wdt:P101 ?topic .
            BIND (20 AS ?score_)
          }
          UNION {
            SELECT (3 AS ?score_) ?topic WHERE {
              ?work wdt:P50 target: ;
                    wdt:P921 ?topic .
            }
          }
          UNION {
            SELECT (1 AS ?score_) ?topic WHERE {
              ?work wdt:P50 target: .
              ?citing_work wdt:P2860 ?work .
              ?citing_work wdt:P921 ?topic .
            }
          }
        }
        GROUP BY ?topic
      }
      OPTIONAL {
        ?topic rdfs:label ?topicLabel_ FILTER (LANG(?topicLabel_) = "en")
      }
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_topic-scores.sparql
  title: author_topic-scores
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_topic-scores.sparql'
- name: author_topics-works-matrix
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-topics-works-matrix--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?work ?workLabel ?topic ?topicLabel WHERE {
      ?work wdt:P50 target: .
      ?work wdt:P921 ?topic .
      OPTIONAL {
        ?work wdt:P577 ?publication_date
      }
      {{ sparql_helpers.labels(["?work", "?topic"], languages) }}
    }
    ORDER BY ?publication_date
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_topics-works-matrix.sparql
  title: author_topics-works-matrix
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_topics-works-matrix.sparql'
- name: author_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?theme ?themeLabel ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?theme (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P50 target: .
          ?work wdt:P921 ?theme .
        }
        GROUP BY ?theme
      }
      {{ sparql_helpers.labels(["?theme", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_topics.sparql
  title: author_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_topics.sparql'
- name: author_use
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-use--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?use ?useLabel (CONCAT("/use/", SUBSTR(STR(?use),32)) AS ?useUrl) ("üîé" AS ?zoom)
      (CONCAT("{{ q }}/use/", SUBSTR(STR(?use), 32)) AS ?zoomUrl)
    ?useDescription ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?use (SAMPLE(?work) AS ?example_work) {
          ?work wdt:P50 target: ;
                wdt:P4510 ?use .
        }
        GROUP BY ?use
      }
      {{ sparql_helpers.labels(["?use", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_use.sparql
  title: author_use
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_use.sparql'
- name: author_venue-statistics-chart
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-venue-statistics-chart--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?venue (SAMPLE(?venue_label_) AS ?venue_label) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?venue WHERE {
          ?work wdt:P50 target: .
          ?work wdt:P1433 ?venue .
        }
        GROUP BY ?venue
      }
      ?venue rdfs:label ?long_venue_label FILTER (LANG(?long_venue_label) = 'en')
      OPTIONAL {
        ?venue wdt:P1813 ?short_name .
      }
      BIND (COALESCE(?short_name, ?long_venue_label) AS ?venue_label_)
    }
    GROUP BY ?venue ?count
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_venue-statistics-chart.sparql
  title: author_venue-statistics-chart
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_venue-statistics-chart.sparql'
- name: author_venue-statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: author-venue-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Venue statistics for a specific author
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count (SAMPLE(?short_name_) AS ?short_name) ?venue ?venueLabel (CONCAT("/venue/", SUBSTR(STR(?venue),32)) AS ?venueUrl) ?topics ?topicsUrl WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?venue (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=", ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          ?work wdt:P50 target: .
          ?work wdt:P1433 ?venue .
          OPTIONAL {
            ?venue wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
          }
        }
        GROUP BY ?venue
      }
      OPTIONAL {
        ?venue wdt:P1813 ?short_name_ .
      }
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    GROUP BY ?count ?venue ?venueLabel ?topics ?topicsUrl
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/author_venue-statistics.sparql
  title: author_venue-statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/author_venue-statistics.sparql'
- name: authors_citations-per-publication-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: authors-citations-per-publication-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year ?number_of_citations ?author_label WHERE {
      {
        SELECT ?year ?number_of_citations ?author ?author_label_ WHERE {
          {
            SELECT ?author ?year
            # DISTINCT to avoid count citations whether ther are multiple
            # publication dates
            (COUNT(DISTINCT ?citation) AS ?number_of_citations) WHERE {
              # hint:Query hint:optimizer "None".
              #          VALUES ?author {  {% for q in qs %} wd:{{ q }} {% endfor %}  }
              ?work wdt:P50 ?author ;
                    wdt:P577 ?publication_date .
              ?citing_work wdt:P2860 ?work
              BIND (STR(YEAR(?publication_date)) AS ?year)
              # We want to count the number of citations rather than the number of
              # citing works or the number of cited works
              BIND (CONCAT(STR(?work), STR(?citing_work)) AS ?citation)
            }
            GROUP BY ?author ?year
          }
          ?author rdfs:label ?author_label_ .
          FILTER (LANG(?author_label_) = 'en')
        }
      }
      # Represent the author by name and Q identifier
      BIND (CONCAT(?author_label_, " (", SUBSTR(STR(?author),32), ")") AS ?author_label)
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/authors_citations-per-publication-year.sparql
  title: authors_citations-per-publication-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/authors_citations-per-publication-year.sparql'
- name: authors_co-author
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: authors-co-author--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:Graph
    PREFIX gas: <http://www.bigdata.com/rdf/gas#>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author (REPLACE(STR(?author), ".*/", "") AS ?authorLabel) ?work (REPLACE(STR(?work), ".*/", "") AS ?workLabel) WHERE {
      {
        SELECT ?work ?author WHERE {
          {}
          {% for q1 in qs %}
          {% for q2 in qs %}
          {% if q1 < q2 %}
          UNION {
            SELECT ?work ?author WHERE {
              SERVICE gas:service {
                gas:program gas:gasClass "com.bigdata.rdf.graph.analytics.BFS" ;
                #           gas:in wd:{{ q1 }} ;
                #           gas:target wd:{{ q2 }} ;
                            gas:traversalDirection "Undirected" ;
                            gas:out ?work ;
                            gas:linkType wdt:P50 ;
                            gas:maxVisited 5000 .
              }
              ?work wdt:P50 ?author
            }
          } # UNION END
          {% endif %}
          {% endfor %}
          {% endfor %}
        }
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/authors_co-author.sparql
  title: authors_co-author
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/authors_co-author.sparql'
- name: authors_list-of-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: authors-list-of-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author (REPLACE(STR(?author), ".*/", "") AS ?authorLabel) ?authorDescription ?example_work (REPLACE(STR(?example_work), ".*/", "") AS ?example_workLabel) WHERE {
      {
        SELECT ?author (SAMPLE(?work) AS ?example_work) WHERE {
          VALUES ?author { {% for q in qs %} wd:{{ q }} {% endfor %} }
          OPTIONAL {
            ?work wdt:P50 ?author
          }
        }
        GROUP BY ?author
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/authors_list-of-authors.sparql
  title: authors_list-of-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/authors_list-of-authors.sparql'
- name: authors_list-of-jointly-authored-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: authors-list-of-jointly-authored-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?coauthor_count ?work ?workLabel ?authors ?authorsUrl WHERE {
      {
        SELECT (COUNT(?author) AS ?coauthor_count) ?work (GROUP_CONCAT(?author_label; SEPARATOR=", ") AS ?authors) (GROUP_CONCAT(SUBSTR(STR(?author),32); SEPARATOR=",") AS ?authorsUrl) {
          #    VALUES ?author { {% for q in qs %} wd:{{ q }} {% endfor %} }
          ?work wdt:P50 ?author .
          OPTIONAL {
            ?author rdfs:label ?author_label . FILTER (LANG(?author_label) = 'en')
          }
        }
        GROUP BY ?work
        HAVING (?coauthor_count > 1)
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    ORDER BY DESC(?coauthor_count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/authors_list-of-jointly-authored-works.sparql
  title: authors_list-of-jointly-authored-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/authors_list-of-jointly-authored-works.sparql'
- name: authors_works-per-publication-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: authors-works-per-publication-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year ?number_of_works ?author_label WHERE {
      {
        SELECT ?year ?number_of_works ?author ?author_label_ WHERE {
          {
            SELECT ?author ?year (COUNT(DISTINCT ?work) AS ?number_of_works) WHERE {
              # hint:Query hint:optimizer "None".
              #          VALUES ?author {   {% for q in qs %} wd:{{ q }} {% endfor %}   }
              ?work wdt:P50 ?author .
              ?work wdt:P577 ?publication_date .
              BIND (STR(YEAR(?publication_date)) AS ?year)
            }
            GROUP BY ?author ?year
          }
          ?author rdfs:label ?author_label_ .
          FILTER (LANG(?author_label_) = 'en')
        }
      }
      # Represent the author by name and Q identifier
      BIND (CONCAT(?author_label_, " (", SUBSTR(STR(?author),32), ")") AS ?author_label)
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/authors_works-per-publication-year.sparql
  title: authors_works-per-publication-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/authors_works-per-publication-year.sparql'
- name: award-curation_missing-author-items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-curation-missing-author-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(?work) AS ?count) ?string (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?string)) AS ?author_resolver_url) WHERE {
      # This part is due to Dipsacus fullonum, as per https://w.wiki/5Brk
      {
        # Calculate capitalization variants of these raw strings
        SELECT DISTINCT ?string WHERE {
          {
            {
              SELECT DISTINCT ?author_name {
                ?recipient p:P166 ?award_statement .
                ?award_statement ps:P166 target: .
                ?recipient skos:altLabel | rdfs:label ?author_name_ .
                # The SELECT-DISTINCT-BIND trick here is due to Stanislav Kralin
                # https://stackoverflow.com/questions/53933564
                BIND (STR(?author_name_) AS ?author_name)
              }
              LIMIT 2000
            }
            BIND (STR(?author_name) AS ?string) # the raw strings
          }
          UNION {
            {
              SELECT DISTINCT ?author_name {
                ?recipient p:P166 ?award_statement .
                ?award_statement ps:P166 target: .
                ?recipient skos:altLabel | rdfs:label ?author_name_ .
                # The SELECT-DISTINCT-BIND trick here is due to Stanislav Kralin
                # https://stackoverflow.com/questions/53933564
                BIND (STR(?author_name_) AS ?author_name)
              }
              LIMIT 2000
            }
            BIND (UCASE(STR(?author_name)) AS ?string) # uppercased versions of the raw strings
          }
          UNION {
            {
              SELECT DISTINCT ?author_name {
                ?recipient p:P166 ?award_statement .
                ?award_statement ps:P166 target: .
                ?recipient skos:altLabel | rdfs:label ?author_name_ .
                # The SELECT-DISTINCT-BIND trick here is due to Stanislav Kralin
                # https://stackoverflow.com/questions/53933564
                BIND (STR(?author_name_) AS ?author_name)
              }
              LIMIT 2000
            }
            BIND (LCASE(STR(?author_name)) AS ?string) # lowercased versions of the raw strings
          }
        }
      }
      # Find works that have "author name string" values equal to these normalized strings
      ?work wdt:P2093 ?string .
    }
    GROUP BY ?string
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award-curation_missing-author-items.sparql
  title: award-curation_missing-author-items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award-curation_missing-author-items.sparql'
- name: award-curation_missing-coauthor-items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-curation-missing-coauthor-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT
    # Number of works with the coauthor
    ?count
    # The coauthor as a string, - rather than as an item
    ?coauthor
    # Build URL to the Author disambiguator tool
    (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?coauthor)) AS ?resolver_url) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?coauthor WHERE {
          ?work wdt:P50 ?author .
          ?author wdt:P166 target: .
          ?work wdt:P2093 ?coauthor .
        }
        GROUP BY ?coauthor
        LIMIT 2000
      }
      # Label the results
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award-curation_missing-coauthor-items.sparql
  title: award-curation_missing-coauthor-items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award-curation_missing-coauthor-items.sparql'
- name: award-curation_missing-topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-curation-missing-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?citations ?work ?workLabel (?work AS ?wikidata_url) WHERE {
      {
        SELECT (COUNT(?work1) AS ?citations) ?work WHERE {
          {
            SELECT (COUNT(?author) AS ?count) ?work WHERE {
              # Works by author
              ?work wdt:P50 ?author .
              # Author who received an award
              ?author wdt:P166 target: .
              # Work does not have a main subject statement
              FILTER NOT EXISTS {
                ?work wdt:P921 ?topic .
              }
            }
            GROUP BY ?work
            ORDER BY DESC(?count)
            LIMIT 2000
          }
          # Works cited
          OPTIONAL {
            ?work1 wdt:P2860 ?work
          } .
        }
        GROUP BY ?work
        ORDER BY DESC(?citations)
        LIMIT 200
      }
      # Label the results
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award-curation_missing-topics.sparql
  title: award-curation_missing-topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award-curation_missing-topics.sparql'
- name: award-index_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-index-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # tool: scholia
    #defaultView:ScatterChart
    # Statistics on number of recipients for award wrt. gender
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?males ?females ?award ?awardLabel WHERE {
      {
        SELECT (COUNT(?recipient_male) AS ?males) (COUNT(?recipient_female) AS ?females) ?award WHERE {
          ?award wdt:P31 wd:Q11448906 .
          {
            ?recipient_male wdt:P166 ?award .
            ?recipient_male wdt:P21 wd:Q6581097 .
          }
          UNION {
            ?recipient_female wdt:P166 ?award .
            ?recipient_female wdt:P21 wd:Q6581072 .
          }
        }
        GROUP BY ?award
      }
      UNION {
        VALUES (?males ?females ?award ?awardLabel) {
          (2000 2000 wd:Q10578722 "Fictive Award Label for axis")
        }
      }
      {{ sparql_helpers.labels(["?award"], languages) }}
    }
    ORDER BY DESC(?males) DESC(?female)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award-index_statistics.sparql
  title: award-index_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award-index_statistics.sparql'
- name: award_coawards
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-coawards--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_corecipients ?award ?awardLabel ?awardDescription WHERE {
      {
        SELECT DISTINCT ?award (COUNT(?recipient) AS ?number_of_corecipients) WHERE {
          ?recipient wdt:P166 target: .
          ?recipient wdt:P166 ?award .
          FILTER (?award != target:)
        }
        GROUP BY ?award
      }
      {{ sparql_helpers.labels(["?award"], languages) }}
      {{ sparql_helpers.descriptions(["?award"], languages) }}
    }
    ORDER BY DESC(?number_of_corecipients)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_coawards.sparql
  title: award_coawards
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_coawards.sparql'
- name: award_gender-distribution
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-gender-distribution--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?gender ?genderLabel WHERE {
      {
        SELECT (COUNT(DISTINCT ?recipient) AS ?count) ?gender WHERE {
          ?recipient wdt:P166 target: .
          ?recipient wdt:P21 ?gender .
        }
        GROUP BY ?gender
      }
      {{ sparql_helpers.labels(["?gender"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_gender-distribution.sparql
  title: award_gender-distribution
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_gender-distribution.sparql'
- name: award_images-of-recipients
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-images-of-recipients--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:ImageGrid
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year ?recipient ?recipientLabel ?image WHERE {
      {
        SELECT ?recipient ?year (SAMPLE(?image_) AS ?image) WHERE {
          ?recipient p:P166 ?award_statement .
          ?award_statement ps:P166 target: .
          OPTIONAL {
            ?award_statement pq:P585 ?time .
            BIND (YEAR(?time) AS ?year)
          }
          ?recipient wdt:P18 ?image_ .
        }
        GROUP BY ?recipient ?year
      }
      {{ sparql_helpers.labels(["?recipient"], languages) }}
    }
    ORDER BY DESC(?year)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_images-of-recipients.sparql
  title: award_images-of-recipients
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_images-of-recipients.sparql'
- name: award_list-of-recipients
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-list-of-recipients--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year ?recipient ?recipientLabel ?recipientDescription ?example_work ?example_workLabel WHERE {
      {
        SELECT DISTINCT ?recipient ?year (SAMPLE(?work) AS ?example_work) WHERE {
          ?recipient p:P166 ?award_statement .
          ?award_statement ps:P166 target: .
          OPTIONAL {
            {
              ?award_statement pq:P585 ?time
            }
            UNION {
              ?award_statement pq:P580 ?time
            }
            BIND (YEAR(?time) AS ?year)
          }
          OPTIONAL {
            ?work wdt:P50 ?recipient .
          }
        }
        GROUP BY ?recipient ?year
      }
      {{ sparql_helpers.labels_unbound(["?example_work"], languages) }}
      {{ sparql_helpers.labels(["?recipient"], languages) }}
      {{ sparql_helpers.descriptions(["?recipient"], languages) }}
    }
    ORDER BY DESC(?year)
    LIMIT 10000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_list-of-recipients.sparql
  title: award_list-of-recipients
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_list-of-recipients.sparql'
- name: award_locations-of-recipients
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-locations-of-recipients--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?recipient ?itemLabel ?geo ?layer WHERE {
      {
        SELECT DISTINCT ?recipient ?image ?item ?geo (?property_item_label AS ?layer) WHERE {
          ?recipient wdt:P166 target: .
          ?recipient ?property ?item .
          ?item wdt:P625 ?geo .
          ?property_item wikibase:directClaim ?property .
          ?property_item rdfs:label ?property_item_label . FILTER (LANG(?property_item_label) = 'en')
          OPTIONAL {
            ?item wdt:P18 ?image .
          }
        }
      }
      {{ sparql_helpers.labels(["?item"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_locations-of-recipients.sparql
  title: award_locations-of-recipients
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_locations-of-recipients.sparql'
- name: award_recent-publications-by-recipients
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-recent-publications-by-recipients--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel ?recipient ?recipientLabel WHERE {
      {
        SELECT (MAX(?publication_datetimes) AS ?publication_datetime) ?work ?recipient WHERE {
          ?recipient wdt:P166 target: .
          ?work wdt:P50 ?recipient .
          OPTIONAL {
            ?work wdt:P577 ?publication_datetimes .
          }
        }
        GROUP BY ?work ?recipient
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?recipient","?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_recent-publications-by-recipients.sparql
  title: award_recent-publications-by-recipients
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_recent-publications-by-recipients.sparql'
- name: award_topics-of-works-by-recipients
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: award-topics-of-works-by-recipients--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Count the number of time works by award recipients have set a main topic
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?topic ?topicLabel WHERE {
      {
        SELECT ?topic (COUNT(?work) AS ?count) WHERE {
          ?recipient wdt:P166 target: .
          ?work wdt:P50 ?recipient .
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 50
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/award_topics-of-works-by-recipients.sparql
  title: award_topics-of-works-by-recipients
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/award_topics-of-works-by-recipients.sparql'
- name: catalogue_images
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: catalogue-images--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:ImageGrid
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?image ?item ?itemLabel WHERE {
      ?item wdt:P972 target: ;
            wdt:P18 ?image .
      {{ sparql_helpers.labels(["?item"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/catalogue_images.sparql
  title: catalogue_images
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/catalogue_images.sparql'
- name: catalogue_items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: catalogue-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?number ?code ?item ?itemLabel ?itemDescription WHERE {
      # Find catalogue items
      ?item p:P972 ?catalogue_statement .
      ?catalogue_statement ps:P972 target: .
      # Optionally the catalogue code or the serial order
      OPTIONAL {
        ?catalogue_statement pq:P528 | pq:P1545 ?code
      }
      # For numerical sorting the catalogue code should be converted to an integer
      BIND (xsd:integer(?code) AS ?number)
      # Label the result
      {{ sparql_helpers.labels(["?item"], languages) }}
      {{ sparql_helpers.descriptions(["?item"], languages) }}
    }
    ORDER BY ?number ?code
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/catalogue_items.sparql
  title: catalogue_items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/catalogue_items.sparql'
- name: chemical-class_class-hierarchy
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-class-class-hierarchy--named_queries_qlever@scholia.toolforge.org
  sparql: |
    # title: network depiction of the class hierarchy
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?child ?childLabel ?rgb ?parent ?parentLabel WHERE {
      {
        SELECT ?child ?rgb ?parent WHERE {
          {
            # SELECT ?child ?rgb ?parent WHERE {
            #   SERVICE gas:service {
            #     gas:program gas:gasClass "com.bigdata.rdf.graph.analytics.BFS" ;
            #                 gas:in target: ;
            #                 gas:traversalDirection "Forward" ;
            #                 gas:out ?child ;
            #                 gas:out1 ?depth ;
            #                 gas:out2 ?parent1 ;
            #                 gas:linkType wdt:P279 ;
            #   }
            #   ?child wdt:P279 ?parent .
            #   BIND (IF(?child = target:,"FF0000","FFFFFF") AS ?rgb)
            # }
            SELECT ?child ?rgb ?parent WHERE {
              {
                SELECT ?parent ?child  WHERE {
                  # Forward traversal: all parent classes and their direct subclasses
                  # compute all reachable parent classes
                  target: wdt:P279+ ?parent .
                  # compute all of their direct children
                  ?child wdt:P279 ?parent .
                  # ensure that the child class is a parent class to the target
                  target: wdt:P279* ?child .
                } GROUP BY ?parent ?child
              }
              BIND (IF(?child = target:,"FF0000","FFFFFF") AS ?rgb)
            }
          }
          UNION {
            SELECT ?child ?rgb ?parent WHERE {
              BIND (target: AS ?parent)
              ?child wdt:P279 ?parent .
              BIND ("DDDDDD" AS ?rgb)
            }
            LIMIT 10
          }
        }
      }
      VALUES ?classes { wd:Q15711994 # group of isomeric entities
      wd:Q17339814 # group or class of chemical substances
      wd:Q47154513 # structural class of chemical entities
      wd:Q55640599 # group of chemical entities
      wd:Q56256173 # class of chemical entities with similar applications or functions
      wd:Q56256178 # class of chemical entities with similar source or occurrence
      wd:Q55662456 # group of ortho, meta, para isomers
      wd:Q59199015 # group of stereoisomers
      wd:Q72070508 # group or class of chemical entities
      wd:Q74892521 # imprecise class of chemical entities
    }
      ?parent wdt:P31 ?classes . # hint:Prior hint:runFirst TRUE.
      ?child rdfs:label ?childLabel . FILTER (LANG(?childLabel) = "en")
      ?parent rdfs:label ?parentLabel . FILTER (LANG(?parentLabel) = "en")
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-class_class-hierarchy.sparql
  title: chemical-class_class-hierarchy
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-class_class-hierarchy.sparql'
- name: chemical-class_found-in-taxon
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-class-found-in-taxon--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: taxons in which this chemical class is found
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?chemicals ?example_chemical ?example_chemicalLabel (CONCAT("/chemical/", SUBSTR(STR(?example_chemical),32)) AS ?example_chemicalUrl) ?taxon ?taxonLabel (CONCAT("/taxon/", SUBSTR(STR(?taxon),32)) AS ?taxonUrl) ?taxonDescription WHERE {
      {
        SELECT DISTINCT (COUNT(DISTINCT (?chemical)) AS ?chemicals) ?taxon (SAMPLE(?chemical) AS ?example_chemical) WHERE {
          ?chemical wdt:P279* target: ;
                    p:P703 ?taxonStatement .
          ?taxonStatement ps:P703 ?taxon .
        }
        GROUP BY ?taxon
        ORDER BY DESC(?chemicals)
        LIMIT 250
      }
      {{ sparql_helpers.labels(["?example_chemical", "?taxon"], languages) }}
      {{ sparql_helpers.descriptions(["?taxon"], languages) }}
    }
    ORDER BY DESC(?chemicals)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-class_found-in-taxon.sparql
  title: chemical-class_found-in-taxon
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-class_found-in-taxon.sparql'
- name: chemical-class_identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-class-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: identifiers for this chemical class
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?IDpred ?IDpredLabel ?id ?idUrl ?IDpredDescription {
      target: ?IDdir ?id .
      ?IDpred wikibase:directClaim ?IDdir ;
              wdt:P31 wd:Q19833835 .
      OPTIONAL {
        ?IDpred wdt:P1630 ?formatterurl .
      }
      BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?id))) AS ?idUrl) .
      {{ sparql_helpers.labels(["?IDpred"], languages) }}
      {{ sparql_helpers.descriptions(["?IDpred"], languages) }}
    }
    ORDER BY ASC(?IDpredLabel)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-class_identifiers.sparql
  title: chemical-class_identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-class_identifiers.sparql'
- name: chemical-class_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-class-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "# title: histogram of the number of articles per year about this chemical\
    \ class\n#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu\
    \ Mishra, Vetle Torvik\nPREFIX pr: <http://www.wikidata.org/prop/reference/>\n\
    PREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX wd: <http://www.wikidata.org/entity/>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    SELECT ?year (COUNT(?work) AS ?number_of_publications) WHERE {\n  {\n    SELECT\
    \ (STR(?year_) AS ?year) (0 AS ?pages) WHERE {\n      # default values = 0\n \
    \     ?year_item wdt:P31 wd:Q577 .\n      ?year_item wdt:P585 ?date .\n      BIND\
    \ (YEAR(?date) AS ?year_)\n      {\n        SELECT (MIN(?year_) AS ?earliest_year)\
    \ WHERE {\n          {\n            ?work wdt:P921/wdt:P279* target: .\n     \
    \     }\n          UNION {\n            ?work wdt:P921/wdt:P361+ target: .\n \
    \         }\n          UNION {\n            ?work wdt:P921/wdt:P1269+ target:\
    \ .\n          }\n          UNION {\n            target: ?propp ?statement .\n\
    \            ?statement a wikibase:BestRank ;\n                       prov:wasDerivedFrom/pr:P248\
    \ ?work .\n          }\n          ?work wdt:P577 ?publication_date .\n       \
    \   BIND (YEAR(?publication_date) AS ?year_)\n        }\n      }\n      BIND (YEAR(NOW()\
    \ \n    ) AS ?next_year ) FILTER ( ?year_ >= ?earliest_year && ?year_ <= ?next_year\
    \ )}\n  }\n  UNION {\n    SELECT ?work (MIN(?years) AS ?year) WHERE {\n      {\n\
    \        ?work wdt:P921/wdt:P279* target: .\n      }\n      UNION {\n        ?work\
    \ wdt:P921/wdt:P361+ target: .\n      }\n      UNION {\n        ?work wdt:P921/wdt:P1269+\
    \ target: .\n      }\n      UNION {\n        target: ?propp ?statement .\n   \
    \     ?statement a wikibase:BestRank ;\n                   prov:wasDerivedFrom/pr:P248\
    \ ?work .\n      }\n      ?work wdt:P577 ?dates .\n      BIND (STR(YEAR(?dates))\
    \ AS ?years) .\n    }\n    GROUP BY ?work\n  }\n}\nGROUP BY ?year\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-class_publications-per-year.sparql
  title: chemical-class_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-class_publications-per-year.sparql'
- name: chemical-class_recent-literature
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-class-recent-literature--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: recent literature for this chemical class
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel ?type ?via ?topics WHERE {
      {
        SELECT ?publication_date ?work (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) ?via (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=" // ") AS ?topics) WHERE {
          {
            SELECT DISTINCT (MAX(?publication_datetime_) AS ?publication_datetime) ?work ?via WHERE {
              {
                ?work wdt:P921 target: .
                BIND ("main topic" AS ?via)
              }
              UNION {
                ?work wdt:P921/wdt:P361+ target: .
                BIND ("part" AS ?via)
              }
              UNION {
                ?work wdt:P921/wdt:P279+ target: .
                BIND ("subclass" AS ?via)
                FILTER (?topic != target:)
              }
              UNION {
                ?work wdt:P921/wdt:P1269+ target: .
                BIND ("facet" AS ?via)
              }
              # This seems to be expensive
              # UNION
              # {
              #    target: ?propp ?statement .
              #    ?statement a wikibase:BestRank ;
              #               prov:wasDerivedFrom / pr:P248 ?work .
              #    BIND ("statement" AS ?via)
              # }
              # Force the UNION before the publication datetime
              # hint:Prior hint:runFirst true .
              ?work wdt:P577 ?publication_datetime_ .
            }
            GROUP BY ?work ?via
            ORDER BY DESC(?publication_datetime)
            LIMIT 250
          }
          ?work wdt:P921 ?topic .
          BIND (xsd:date(?publication_datetime) AS ?publication_date)
          OPTIONAL {
            ?work wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
          }
          ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
        }
        GROUP BY ?publication_date ?work ?via
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-class_recent-literature.sparql
  title: chemical-class_recent-literature
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-class_recent-literature.sparql'
- name: chemical-class_related-chemicals
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-class-related-chemicals--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: lists related chemicals for this class
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?mol ?molLabel ?InChIKey ?CAS ?CASUrl ?ChemSpider ?ChemSpiderUrl ?PubChem_CID ?PubChem_CIDUrl WHERE {
      {
        SELECT DISTINCT ?mol WHERE {
          ?mol wdt:P279* target: .
          MINUS {
            [] wdt:P279 ?mol
          }
        }
        LIMIT 500
      }
      OPTIONAL {
        ?mol wdt:P235 ?InChIKey
      }
      OPTIONAL {
        VALUES ?CASIDdir { wdt:P231 }
        ?mol ?CASIDdir ?CAS .
        OPTIONAL {
          ?CASIDpred wikibase:directClaim ?CASIDdir .
          ?CASIDpred wdt:P1630 ?CASformatterurl .
        }
        BIND (IRI(REPLACE(?CASformatterurl, '\\\\$1', STR(?CAS))) AS ?CASUrl) .
      }
      OPTIONAL {
        VALUES ?IDdir { wdt:P661 }
        ?mol ?IDdir ?ChemSpider .
        OPTIONAL {
          ?IDpred wikibase:directClaim ?IDdir .
          ?IDpred wdt:P1630 ?formatterurl .
        }
        BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?ChemSpider))) AS ?ChemSpiderUrl) .
      }
      OPTIONAL {
        ?mol wdt:P662 ?PubChem_CID
      }
      OPTIONAL {
        VALUES ?PCIDdir { wdt:P662 }
        ?mol ?PCIDdir ?PubChem_CID .
        OPTIONAL {
          ?PCIDpred wikibase:directClaim ?PCIDdir .
          ?PCIDpred wdt:P1630 ?PCformatterurl .
        }
        BIND (IRI(REPLACE(?PCformatterurl, '\\\\$1', STR(?PubChem_CID))) AS ?PubChem_CIDUrl) .
      }
      {{ sparql_helpers.labels(["?mol"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-class_related-chemicals.sparql
  title: chemical-class_related-chemicals
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-class_related-chemicals.sparql'
- name: chemical-curation_missing-main-subjects
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-curation-missing-main-subjects--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX target:\
    \ <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX mwapi: <https://www.mediawiki.org/ontology#API/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT DISTINCT ?work ?workLabel\
    \ (CONCAT(\"/work/\", SUBSTR(STR(?work),32)) AS ?workUrl) ?chemicalname\n  (CONCAT(SUBSTR(STR(?work),32),\
    \ \"\\tP921\\t{{ q }}\\tS887\\tQ69652283\") AS ?quickStatements)\n  (CONCAT(\"\
    https://quickstatements.toolforge.org/#/v1=\", \n          SUBSTR(STR(?work),32),\
    \ \"%7CP921%7C{{ q }}%7CS887%7CQ69652283\") AS ?quickStatementsUrl)\nWHERE {\n\
    \  SELECT ?work ?chemicalname WHERE {\n    VALUES ?chemicalType { wd:Q113145171\
    \ # type of a chemical entity\n    wd:Q59199015 # group of stereoisomers\n  }\n\
    \    target: wdt:P31 ?chemicalType ;\n            rdfs:label ?chemicalname .\n\
    \    FILTER (LANG(?chemicalname) = \"en\")\n    SERVICE <https://query.wikidata.org/sparql>\
    \ {\n      SERVICE wikibase:mwapi {\n        bd:serviceParam wikibase:endpoint\
    \ \"www.wikidata.org\" ;\n                        wikibase:api \"Generator\" ;\n\
    \                        mwapi:generator \"search\" ;\n                      \
    \  mwapi:gsrsearch ?chemicalname ;\n                        mwapi:gsrlimit \"\
    max\" .\n        ?work wikibase:apiOutputItem mwapi:title.\n      }\n    }\n \
    \   ?work wdt:P1476 ?title .\n    MINUS {\n      ?work wdt:P921 target:\n    }\n\
    \    FILTER (REGEX(LCASE(?title),LCASE(CONCAT(\"\\\\\\\\\", \"b\", ?chemicalname,\
    \ \"\\\\\\\\\", \"b\"))))\n    {{ sparql_helpers.labels([\"?work\"], languages)\
    \ }}\n  }\n  LIMIT 200\n}\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-curation_missing-main-subjects.sparql
  title: chemical-curation_missing-main-subjects
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-curation_missing-main-subjects.sparql'
- name: chemical-curation_missing-properties
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-curation-missing-properties--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?property ?propertyLabel WHERE {
      VALUES ?property { wdt:P2177 wdt:P2102 wdt:P2101 wdt:p3078 wdt:P2119 wdt:P3071 wdt:P2054 wdt:P2128 wdt:P1117 }
      MINUS {
        wd:{{q}} ?property []
      }
      ?property ^wikibase:directClaim/wdt:P1629/rdfs:label ?propertyLabel .
      FILTER (LANG(?propertyLabel) = "en")
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-curation_missing-properties.sparql
  title: chemical-curation_missing-properties
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-curation_missing-properties.sparql'
- name: chemical-element_allotropes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-element-allotropes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: list known allotropes
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?allotrope ?allotropeLabel ?density ?densityUnit ?densityUnitLabel {
      {
        SELECT ?allotrope (SAMPLE(?densityStats) AS ?densityStat) WHERE {
          ?allotrope wdt:P31 | wdt:P279 ?allotropeType .
          ?allotropeType p:P279 ?allotropeSpecsStatement .
          ?allotropeSpecsStatement ps:P279 wd:Q21198401 ;
                                   pq:P642 target: .
          OPTIONAL {
            ?allotrope p:P2054 ?densityStats .
          }
        }
        GROUP BY ?allotrope
      }
      OPTIONAL {
        ?allotrope p:P2054 ?densityStat .
        ?densityStat psv:P2054 ?densityValNode .
        ?densityValNode wikibase:quantityAmount ?density ;
                        wikibase:quantityUnit ?densityUnit .
      }
      {{ sparql_helpers.labels(["?allotrope", "?densityUnit"], languages) }}
    }
    ORDER BY ASC(?allotropeLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-element_allotropes.sparql
  title: chemical-element_allotropes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-element_allotropes.sparql'
- name: chemical-element_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-element-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    # title: data for this chemical element
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      {
        SELECT (1 AS ?order) ("Named after" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../topic/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P138 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (2 AS ?order) ("Discoverer" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../topic/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P61 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (3 AS ?order) ("Oxidation states" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) {
          BIND (1 AS ?dummy)
          target: wdt:P1121 ?value_ .
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (4 AS ?order) ("Electron configuration" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) {
          BIND (1 AS ?dummy)
          target: wdt:P8000 ?value_ .
        }
        GROUP BY ?dummy
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-element_data.sparql
  title: chemical-element_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-element_data.sparql'
- name: chemical-element_isotopes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-element-isotopes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: list the isotopes for this chemical element
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?isotope ?isotopeLabel ?protons ?neutrons ?mass ?massUnit ?massUnitLabel ?halflife ?halflifeUnit ?halflifeUnitLabel WHERE {
      VALUES ?element { target: }
      ?element wdt:P1086 ?protons .
      ?isotope wdt:P279 ?element ;
               wdt:P1148 ?neutrons ;
               p:P2067 ?massStat ;
               p:P2114 ?halflifeStat .
      ?massStat psv:P2067 ?massValNode .
      ?massValNode wikibase:quantityAmount ?mass ;
                   wikibase:quantityUnit ?massUnit .
      ?halflifeStat psv:P2114 ?halflifeValNode .
      ?halflifeValNode wikibase:quantityAmount ?halflife ;
                       wikibase:quantityUnit ?halflifeUnit .
      {{ sparql_helpers.labels(["?isotope", "?massUnit", "?halflifeUnit"], languages) }}
    }
    ORDER BY ?neutrons
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-element_isotopes.sparql
  title: chemical-element_isotopes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-element_isotopes.sparql'
- name: chemical-element_recent-literature
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-element-recent-literature--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: recent literature about this chemical element
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel ?type ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=" // ") AS ?topics) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              {
                ?work wdt:P921/(wdt:P527+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
              }
              UNION {
                target: ?propp ?statement .
                ?statement a wikibase:BestRank ;
                           prov:wasDerivedFrom/pr:P248 ?work .
              }
            }
          }
          ?work wdt:P921 ?topic .
          OPTIONAL {
            ?work wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
          }
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
          ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
        }
        GROUP BY ?work
      }
      BIND (xsd:date(?datetime) AS ?date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-element_recent-literature.sparql
  title: chemical-element_recent-literature
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-element_recent-literature.sparql'
- name: chemical-index-curation_missing-boiling-points
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-boiling-points--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          MINUS {
            ?compound wdt:P2113 []
          } # compounds sublimates
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2102 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-boiling-points.sparql
  title: chemical-index-curation_missing-boiling-points
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-boiling-points.sparql'
- name: chemical-index-curation_missing-chemical-structure
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-chemical-structure--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P117 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-chemical-structure.sparql
  title: chemical-index-curation_missing-chemical-structure
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-chemical-structure.sparql'
- name: chemical-index-curation_missing-combustion-enthalpy
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-combustion-enthalpy--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2117 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-combustion-enthalpy.sparql
  title: chemical-index-curation_missing-combustion-enthalpy
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-combustion-enthalpy.sparql'
- name: chemical-index-curation_missing-density
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-density--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2054 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-density.sparql
  title: chemical-index-curation_missing-density
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-density.sparql'
- name: chemical-index-curation_missing-enthalpy-of-formation
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-enthalpy-of-formation--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P3078 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-enthalpy-of-formation.sparql
  title: chemical-index-curation_missing-enthalpy-of-formation
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-enthalpy-of-formation.sparql'
- name: chemical-index-curation_missing-flash-point
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-flash-point--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2128 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-flash-point.sparql
  title: chemical-index-curation_missing-flash-point
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-flash-point.sparql'
- name: chemical-index-curation_missing-idlh
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-idlh--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2129 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-idlh.sparql
  title: chemical-index-curation_missing-idlh
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-idlh.sparql'
- name: chemical-index-curation_missing-mass
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-mass--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 30)
          FILTER (NOT EXISTS {
              ?compound wdt:P2067 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-mass.sparql
  title: chemical-index-curation_missing-mass
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-mass.sparql'
- name: chemical-index-curation_missing-melting-points
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-melting-points--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2101 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-melting-points.sparql
  title: chemical-index-curation_missing-melting-points
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-melting-points.sparql'
- name: chemical-index-curation_missing-molar-entropy
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-molar-entropy--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P3071 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-molar-entropy.sparql
  title: chemical-index-curation_missing-molar-entropy
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-molar-entropy.sparql'
- name: chemical-index-curation_missing-pKa
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-pka--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P1117 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-pKa.sparql
  title: chemical-index-curation_missing-pKa
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-pKa.sparql'
- name: chemical-index-curation_missing-solubility
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-solubility--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2177 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-solubility.sparql
  title: chemical-index-curation_missing-solubility
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-solubility.sparql'
- name: chemical-index-curation_missing-vapor-pressure
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-curation-missing-vapor-pressure--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wikis ?compound ?compoundLabel ?formula WHERE {
      {
        SELECT ?wikis ?compound WHERE {
          ?compound wdt:P31 wd:Q113145171 ;
                    wikibase:sitelinks ?wikis . # hint:Prior hint:rangeSafe true .
          FILTER (?wikis >= 40)
          FILTER (NOT EXISTS {
              ?compound wdt:P2119 []
            })
        }
        ORDER BY DESC(?wikis)
        LIMIT 100
      }
      OPTIONAL {
        ?compound wdt:P274 ?formula
      }
      {{ sparql_helpers.labels(["?compound"], languages) }}
    }
    ORDER BY DESC(?wikis)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index-curation_missing-vapor-pressure.sparql
  title: chemical-index-curation_missing-vapor-pressure
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index-curation_missing-vapor-pressure.sparql'
- name: chemical-index_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-index-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX mwapi: <https://www.mediawiki.org/ontology#API/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

    SELECT
      (xsd:integer(?count_) AS ?count)
      (CONCAT("Total chemicals with ", ?description_) AS ?description)
    WHERE {
      SERVICE <https://query.wikidata.org/sparql> {
        BIND("haswbstatement:P31=Q113145171|P31=Q59199015" AS ?constraint)
        VALUES (?description_ ?property_query_term) {
          ("or without stereochemistry" "")
          ("fully defined stereochemistry" "P31=Q113145171")
          ("undefined stereochemistry" "P31=Q59199015")
          ("CAS registry number" "P231")
          ("canonical SMILES" "P233")
          ("InChI" "P234")
          ("InChIKey" "P235")
          ("chemical formula" "P274")
          # ("ChEMBL ID" "P592") # limit IDs
          # ("ChemSpider ID" "P661") # limit IDs
          ("PubChem ID" "P662")
          # ("KEGG ID" "P665") # limit IDs
          ("ChEBI ID" "P683")
          ("found in taxon" "P703")
          ("isomeric SMILES" "P2017")
          # ("ZINC ID" "P2084") # limit IDs
          ("crystal structure" "haswbstatement:P3636|P11375")
          ("safety classification and labelling" "P4952")
          ("mass spectrum" "haswbstatement:P4964|P6689|P12472")
          # ("SMARTS notation" "P8533") # not for now
          ("NMR spectrum" "P9405")
          # hacky way to get quantity properties.
          ("pKa" "linksto:Property:P1117")
          ("mass" "linksto:Property:P2067")
          ("solubility" "linksto:Property:P2177")
          ("melting point" "linksto:Property:P2101")
          ("boiling point" "linksto:Property:P2102")
          ("electric dipole moment" "linksto:Property:P2201")
          ("ionization energy" "linksto:Property:P2260")
          # ("minimum explosive concentration" "linksto:Property:P2204") # safety
          # ("time-weighted average exposure limit" "linksto:Property:P2404") # safety
          # ("ceiling exposure limit" "linksto:Property:P2405") # safety
          # ("maximum peak exposure limit" "linksto:Property:P2406") # safety
          # ("short-term exposure limit" "linksto:Property:P2407") # safety
          # ("solubility product constant" "linksto:Property:P11813") # less than 5 statements
        }
        BIND(CONCAT(?property_query_term, " ", ?constraint) AS ?search_query)
        SERVICE wikibase:mwapi {
          bd:serviceParam wikibase:endpoint "www.wikidata.org" ;
                          wikibase:api "Search" ;
                          wikibase:limit "once" ;
                          mwapi:srsearch ?search_query;
                          mwapi:srlimit "1".
          ?count_ wikibase:apiOutput "//searchinfo[1]/@totalhits".
        }
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical-index_statistics.sparql
  title: chemical-index_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical-index_statistics.sparql'
- name: chemical_biological-processes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-biological-processes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: biological processes in which this chemical is involved
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?pathway ?pathwayLabel (CONCAT("/pathway/", SUBSTR(STR(?pathway),32)) AS ?pathwayUrl) ?pathwayDescription WHERE {
      ?pathway wdt:P527 target: ;
               wdt:P31 wd:Q2996394 .
      target: wdt:P361 ?pathway .
      {{ sparql_helpers.labels(["?pathway"], languages) }}
      {{ sparql_helpers.descriptions(["?pathway"], languages) }}
    }
    ORDER BY ASC(?pathwayLabel)
    LIMIT 250
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_biological-processes.sparql
  title: chemical_biological-processes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_biological-processes.sparql'
- name: chemical_found-in-matrix-np
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-found-in-matrix-np--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?matrix ?taxon ?taxonLabel (CONCAT("/taxon/", SUBSTR(STR(?taxon),32)) AS ?taxonUrl) WHERE {
      VALUES ?chemical { target: }
      ?chemical wdt:P361 ?matrix .
      ?matrix (wdt:P279*/wdt:P1582) ?taxon .
      ?matrix wdt:P527 ?chemical .
      {{ sparql_helpers.labels(["?taxon"], languages) }}
    }
    ORDER BY ASC(?taxonLabel)
    LIMIT 250
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_found-in-matrix-np.sparql
  title: chemical_found-in-matrix-np
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_found-in-matrix-np.sparql'
- name: chemical_found-in-taxon
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-found-in-taxon--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: lists the taxons in which this chemical is found
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?taxon ?taxonLabel (CONCAT("/taxon/", SUBSTR(STR(?taxon),32)) AS ?taxonUrl) ?source ?sourceLabel (CONCAT("/work/", SUBSTR(STR(?source),32)) AS ?sourceUrl) ?doi WHERE {
      wd:{{ q }} p:P703 ?taxonStatement .
      ?taxonStatement ps:P703 wd:{{ q }} .
      OPTIONAL {
        ?taxonStatement prov:wasDerivedFrom/pr:P248 ?source .
        OPTIONAL {
          ?source wdt:P356 ?doi .
        }
      }
      {{ sparql_helpers.labels(["?taxon"], languages) }}
      {{ sparql_helpers.labels_unbound(["?source"], languages) }}
    }
    ORDER BY ASC(?taxonLabel)
    LIMIT 250
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_found-in-taxon.sparql
  title: chemical_found-in-taxon
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_found-in-taxon.sparql'
- name: chemical_identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: identifiers for this chemical
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?Value (SAMPLE(?idUrls) AS ?ValueUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q19833835 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
              FILTER (?Identifier != wd:P233)
              FILTER (?Identifier != wd:P234)
              FILTER (?Identifier != wd:P2017)
            }
            LIMIT 500
          }
          FILTER (?Identifier = wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', ENCODE_FOR_URI(STR(?Value)))) AS ?idUrls) .
        }
      }
      UNION {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q19833835 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
              FILTER (?Identifier != wd:P233)
              FILTER (?Identifier != wd:P234)
              FILTER (?Identifier != wd:P2017)
            }
            LIMIT 500
          }
          FILTER (?Identifier != wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?Value))) AS ?idUrls) .
        }
      }
      {{ sparql_helpers.labels(["?Identifier"], languages) }}
      {{ sparql_helpers.descriptions(["?Identifier"], languages) }}
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?Value
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_identifiers.sparql
  title: chemical_identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_identifiers.sparql'
- name: chemical_physchem-properties
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-physchem-properties--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: physicochemical properties of this chemical
    PREFIX owl: <http://www.w3.org/2002/07/owl#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>

    SELECT DISTINCT ?propEntity ?propEntityLabel ?value ?units ?unitsLabel ?qualifiers ?source ?sourceLabel ?doi WHERE {
      {
        SELECT DISTINCT ?propEntity ?value ?units ?source ?doi (GROUP_CONCAT(?qualifierStr; SEPARATOR=", ") AS ?qualifiers) WHERE {
          target: ?propp ?statement .
          ?statement a wikibase:BestRank ;
                     ?proppsv [
            wikibase:quantityAmount ?value ; wikibase:quantityUnit ?units
          ] .
          OPTIONAL {
            ?statement prov:wasDerivedFrom/pr:P248 ?source .
            OPTIONAL {
              ?source wdt:P356 ?doi .
            }
          }
          ?property wikibase:claim ?propp ;
                    wikibase:statementValue ?proppsv ;
                    wdt:P1629 ?propEntity ;
                    wdt:P31 wd:Q21077852 .
          OPTIONAL {
            {
              ?qualifierProp wikibase:qualifier ?qualifier ;
                             rdfs:label ?qProplabel ; FILTER (LANG(?qProplabel) = "en") .
              ?qualifier a owl:DatatypeProperty .
              ?statement ?qualifier ?qualifierVal .
              BIND (CONCAT(STR(?qProplabel), ": ", STR(?qualifierVal)) AS ?qualifierStr)
            }
            UNION {
              ?qualifierProp wikibase:qualifier ?qualifier ;
                             rdfs:label ?qProplabel ; FILTER (LANG(?qProplabel) = "en") .
              ?qualifier a owl:ObjectProperty .
              ?statement ?qualifier ?qualifierVal .
              ?qualifierVal rdfs:label ?qVallabel ; FILTER (LANG(?qVallabel) = "en") .
              BIND (CONCAT(STR(?qProplabel), ": ", STR(?qVallabel)) AS ?qualifierStr)
            }
          }
        }
        GROUP BY ?propEntity ?value ?units ?source ?doi
      }
      {{ sparql_helpers.labels(["?propEntity", "?units"], languages) }}
      {{ sparql_helpers.labels_unbound(["?source"], languages) }}
    }
    ORDER BY ASC(?propEntityLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_physchem-properties.sparql
  title: chemical_physchem-properties
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_physchem-properties.sparql'
- name: chemical_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# title: publications per year for this chemical\n# Inspired from LEGOLAS\
    \ - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu Mishra, Vetle Torvik\n\
    PREFIX pr: <http://www.wikidata.org/prop/reference/>\nPREFIX prov: <http://www.w3.org/ns/prov#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT ?year (COUNT(?work) AS ?number_of_publications)\
    \ WHERE {\n  {\n    SELECT (STR(?year_) AS ?year) (0 AS ?pages) WHERE {\n    \
    \  # default values = 0\n      ?year_item wdt:P31 wd:Q577 .\n      ?year_item\
    \ wdt:P585 ?date .\n      BIND (YEAR(?date) AS ?year_)\n      {\n        SELECT\
    \ (MIN(?year_) AS ?earliest_year) WHERE {\n          {\n            ?work wdt:P921/wdt:P31*/wdt:P279*\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/(^wdt:P361)+\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P1269+\
    \ target: .\n          }\n          UNION {\n            target: ?propp ?statement\
    \ .\n            ?statement a wikibase:BestRank ;\n                       prov:wasDerivedFrom/pr:P248\
    \ ?work .\n          }\n          ?work wdt:P577 ?publication_date .\n       \
    \   BIND (YEAR(?publication_date) AS ?year_)\n        }\n      }\n      BIND (YEAR(NOW()\
    \ \n    ) AS ?next_year ) FILTER ( ?year_ >= ?earliest_year && ?year_ <= ?next_year\
    \ )}\n  }\n  UNION {\n    SELECT ?work (MIN(?years) AS ?year) WHERE {\n      {\n\
    \        ?work wdt:P921/wdt:P31*/wdt:P279* target: .\n      }\n      UNION {\n\
    \        ?work wdt:P921/wdt:P527+ target: .\n      }\n      UNION {\n        ?work\
    \ wdt:P921/wdt:P1269+ target: .\n      }\n      UNION {\n        target: ?propp\
    \ ?statement .\n        ?statement a wikibase:BestRank ;\n                   prov:wasDerivedFrom/pr:P248\
    \ ?work .\n      }\n      ?work wdt:P577 ?dates .\n      BIND (STR(YEAR(?dates))\
    \ AS ?years) .\n    }\n    GROUP BY ?work\n  }\n}\nGROUP BY ?year\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_publications-per-year.sparql
  title: chemical_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_publications-per-year.sparql'
- name: chemical_recent-literature
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-recent-literature--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: recent literature about this chemical
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel ?type ?via ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) ?via (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=" // ") AS ?topics) WHERE {
          {
            SELECT DISTINCT ?work ?via ?topic WHERE {
              {
                VALUES ?topic { target: }
                ?work wdt:P921 ?topic .
                BIND ("main topic" AS ?via)
              }
              UNION {
                ?work wdt:P921 ?topic .
                ?topic ((^wdt:P361)+) target: .
                BIND ("part" AS ?via)
              }
              UNION {
                ?work wdt:P921 ?topic .
                ?topic (wdt:P31*/wdt:P279*) target: .
                BIND ("subclass" AS ?via) .
                FILTER (?topic != target:)
              }
              UNION {
                ?work wdt:P921 ?topic .
                ?topic (wdt:P1269+) target: .
                BIND ("facet" AS ?via)
              }
              UNION {
                target: ?propp ?statement .
                ?statement a wikibase:BestRank ;
                           prov:wasDerivedFrom/pr:P248 ?work .
                BIND ("statement" AS ?via)
              }
            }
          }
          ?work wdt:P921 ?topic .
          OPTIONAL {
            ?work wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
          }
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
          ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
        }
        GROUP BY ?work ?via
      }
      BIND (xsd:date(?datetime) AS ?date)
      {{ sparql_helpers.labels_unbound(["?work"], languages) }}
    }
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_recent-literature.sparql
  title: chemical_recent-literature
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_recent-literature.sparql'
- name: chemical_related
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-related--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: related chemical structures
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX mwapi: <https://www.mediawiki.org/ontology#API/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?mol ?molLabel ?InChIKey ?CAS ?ChemSpider ?PubChem_CID {
      SERVICE <https://query.wikidata.org/sparql> {
        wd:{{ q }} wdt:P235 ?queryKey .
        BIND (CONCAT(SUBSTR($queryKey,1,14), " haswbstatement:P235") AS ?srsearch)
        BIND (CONCAT("^", SUBSTR($queryKey,1,14)) AS ?filter)
        SERVICE wikibase:mwapi {
          bd:serviceParam wikibase:endpoint "www.wikidata.org" ;
                          wikibase:api "Search" ;
                          mwapi:srsearch ?srsearch ;
                          mwapi:srlimit "max" .
          ?mol wikibase:apiOutputItem mwapi:title.
        }
      }
      ?mol wdt:P235 ?InChIKey .
      FILTER (REGEX(STR(?InChIKey),?filter))
      FILTER (?InChIKey != ?queryKey)
      OPTIONAL {
        ?mol wdt:P231 ?CAS
      }
      OPTIONAL {
        ?mol wdt:P661 ?ChemSpider
      }
      OPTIONAL {
        ?mol wdt:P662 ?PubChem_CID
      }
      {{ sparql_helpers.labels(["?mol"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_related.sparql
  title: chemical_related
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_related.sparql'
- name: chemical_structural-identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: chemical-structural-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: structural identifiers for this chemical structure
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Structural_identifier ?Structural_identifierLabel ?idLit (SAMPLE(?idUrls) AS ?idUrl) {
      {
        SELECT ?Structural_identifier ?idLit ?formatterurl WHERE {
          VALUES ?Structural_identifier { wd:P233 wd:P234 wd:P2017 }
          target: ?IDdir ?idLit .
          ?Structural_identifier wikibase:directClaim ?IDdir ;
                                 wdt:P31 wd:Q19833835 .
          OPTIONAL {
            ?Structural_identifier wdt:P1630 ?formatterurl .
          }
        }
        LIMIT 500
      }
      BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?idLit))) AS ?idUrls) .
      {{ sparql_helpers.labels(["?Structural_identifier"], languages) }}
    }
    GROUP BY ?Structural_identifier ?Structural_identifierLabel ?idLit
    ORDER BY ASC(?ID_TypeLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/chemical_structural-identifiers.sparql
  title: chemical_structural-identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/chemical_structural-identifiers.sparql'
- name: cito-index_article-counts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-index-article-counts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?intention ?intentionLabel (CONCAT("/cito/", SUBSTR(STR(?intention),32)) AS ?intentionUrl) (COUNT(DISTINCT ?citationStatement) AS ?citations) (COUNT(DISTINCT ?citingArticle) AS ?articles) WHERE {
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?intention wdt:P31 wd:Q96471816 ;
                 wdt:P2888 ?cito .
      ?intention rdfs:label ?intentionLabel . FILTER(LANG(?intentionLabel) = 'en' || LANG(?intentionLabel) = 'mul')
    }
    GROUP BY ?cito ?intention ?intentionLabel
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito-index_article-counts.sparql
  title: cito-index_article-counts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito-index_article-counts.sparql'
- name: cito-index_articles-by-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-index-articles-by-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?year (COUNT(?work) AS ?number_of_publications) ?role WHERE {
      {
        SELECT ?work (MIN(?years) AS ?year) ?type_ ?venue WHERE {
          ?work wdt:P577 ?dates ;
                p:P2860 ?citesStatement .
          ?citesStatement pq:P3712/wdt:P31 wd:Q96471816 .
          BIND (STR(YEAR(?dates)) AS ?years) .
          OPTIONAL {
            ?work wdt:P31 wd:Q109229154 .
            BIND ("explicit" AS ?type_)
            ?work wdt:P1433 ?venue_ .
            ?venue_ rdfs:label ?venue . FILTER (LANG(?venue) = "en" || LANG(?venue) = "mul")
            MINUS {
              ?venue_ wdt:P31 wd:Q1143604
            }
          }
          OPTIONAL {
            BIND ("nanopub" AS ?type_)
            BIND ("Nanopublication" AS ?venue)
            ?citesStatement prov:wasDerivedFrom ?reference .
            ?reference pr:P854 | pr:P12545 ?referenceURL .
            FILTER (STRSTARTS(STR(?referenceURL),"https://w3id.org/np/") || STRSTARTS(STR(?referenceURL),"http://purl.org/np/"))
          }
        }
        GROUP BY ?work ?type_ ?venue
      }
      BIND (COALESCE(IF(BOUND(?type_),?venue,'other source')) AS ?role)
    }
    GROUP BY ?year ?role
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito-index_articles-by-year.sparql
  title: cito-index_articles-by-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito-index_articles-by-year.sparql'
- name: cito-index_cited-journal-counts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-index-cited-journal-counts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?citedJournal ?citedJournalLabel (CONCAT("/venue/", SUBSTR(STR(?citedJournal),32), "#cito") AS ?journalUrl) (COUNT(DISTINCT ?citationStatement) AS ?citations) (COUNT(DISTINCT ?citedArticle) AS ?articles) WHERE {
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?citedArticle wdt:P1433 ?citedJournal .
      ?intention wdt:P31 wd:Q96471816 .
      ?citedJournal rdfs:label ?citedJournalLabel . FILTER(LANG(?citedJournalLabel) = 'en' || LANG(?citedJournalLabel) = 'mul')
    }
    GROUP BY ?citedJournal ?citedJournalLabel
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito-index_cited-journal-counts.sparql
  title: cito-index_cited-journal-counts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito-index_cited-journal-counts.sparql'
- name: cito-index_journal-counts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-index-journal-counts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?journal ?journalLabel (CONCAT("/venue/", SUBSTR(STR(?journal),32), "#cito") AS ?journalUrl) (COUNT(DISTINCT ?citationStatement) AS ?citations) (COUNT(DISTINCT ?citingArticle) AS ?articles) WHERE {
      ?citingArticle p:P2860 ?citationStatement ;
                     wdt:P1433 ?journal .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?intention wdt:P31 wd:Q96471816 .
      ?journal rdfs:label ?journalLabel . FILTER(LANG(?journalLabel) = 'en' || LANG(?journalLabel) = 'mul')
    }
    GROUP BY ?journal ?journalLabel
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito-index_journal-counts.sparql
  title: cito-index_journal-counts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito-index_journal-counts.sparql'
- name: cito-index_recent-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-index-recent-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?date ?work ?workLabel ?venue ?venueLabel WHERE {
      {
        SELECT DISTINCT ?date ?work (SAMPLE(?venue_) AS ?venue) WHERE {
          ?work wdt:P577 ?dates ;
                p:P2860/pq:P3712/wdt:P31 wd:Q96471816 .
          BIND (xsd:date(?dates) AS ?date)
          ?work wdt:P31 wd:Q109229154 .
          BIND ("explicit" AS ?type_)
          ?work wdt:P1433 ?venue_ .
        }
        GROUP BY ?date ?work
      }
      ?work rdfs:label ?workLabel . FILTER(LANG(?workLabel) = 'en' || LANG(?workLabel) = 'mul')
      ?venue rdfs:label ?venueLabel . FILTER(LANG(?venueLabel) = 'en' || LANG(?venueLabel) = 'mul')
    }
    ORDER BY DESC(?date)
    LIMIT 50
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito-index_recent-articles.sparql
  title: cito-index_recent-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito-index_recent-articles.sparql'
- name: cito-index_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-index-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?description WHERE {
      {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 .
          }
        }
        BIND ("Total number of annotations" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citationStatement) AS ?count) WHERE {
            [] p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 .
          }
        }
        BIND ("Total number of annotated citations" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citingArticle) AS ?count) WHERE {
            ?citingArticle p:P2860/pq:P3712/wdt:P31 wd:Q96471816 .
          }
        }
        BIND ("Total number of articles providing annotated citations" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citedArticle) AS ?count) WHERE {
            ?citingArticle p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 ;
                               ps:P2860 ?citedArticle .
          }
        }
        BIND ("Total number of articles receiving annotated citations" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?venue) AS ?count) WHERE {
            ?citingArticle p:P2860/pq:P3712/wdt:P31 wd:Q96471816 ;
                           wdt:P1433 ?venue .
          }
        }
        BIND ("Number of citing venues with annotated citations" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?venue) AS ?count) WHERE {
            ?citingArticle p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 ;
                               ps:P2860 ?citedArticle .
            ?citedArticle wdt:P1433 ?venue .
          }
        }
        BIND ("Number of cited venues with annotated citations" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citoArticle) AS ?count) WHERE {
            ?citoArticle wdt:P31 wd:Q109229154 .
          }
        }
        BIND ("Number of articles with explicit CiTO annotation" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citoDataset) AS ?count) WHERE {
            ?citoDataset wdt:P31 wd:Q117357566 .
          }
        }
        BIND ("Number of data sets with explicit CiTO annotation" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?venue) AS ?count) WHERE {
            ?citoArticle wdt:P31 wd:Q109229154 ;
                         wdt:P1433 ?venue .
          }
        }
        BIND ("Number of venues with explicit CiTO annotation" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citationStatement) AS ?count) WHERE {
            ?citoNanopub p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 ;
                               prov:wasDerivedFrom/(pr:P854 | pr:P12545) ?referenceURL .
            FILTER (STRSTARTS(STR(?referenceURL),"https://w3id.org/np/") || STRSTARTS(STR(?referenceURL),"http://purl.org/np/"))
          }
        }
        BIND ("Number of annotations defined in nanopublications" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?citoNanopub) AS ?count) WHERE {
            ?citoNanopub p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 ;
                               prov:wasDerivedFrom/(pr:P854 | pr:P12545) ?referenceURL .
            FILTER (STRSTARTS(STR(?referenceURL),"https://w3id.org/np/") || STRSTARTS(STR(?referenceURL),"http://purl.org/np/"))
          }
        }
        BIND ("Number of articles with annotations defined in nanopublications" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?referenceURL) AS ?count) WHERE {
            ?citoNanopub p:P2860 ?citationStatement .
            ?citationStatement pq:P3712/wdt:P31 wd:Q96471816 ;
                               prov:wasDerivedFrom/(pr:P854 | pr:P12545) ?referenceURL .
            FILTER (STRSTARTS(STR(?referenceURL),"https://w3id.org/np/") || STRSTARTS(STR(?referenceURL),"http://purl.org/np/"))
          }
        }
        BIND ("Number of nanopublications that define explicit CiTO annotations" AS ?description)
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito-index_statistics.sparql
  title: cito-index_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito-index_statistics.sparql'
- name: cito_articles-by-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-articles-by-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (STR(?year_) AS ?year) (SUM(?count_) AS ?count) WHERE {
      {
        VALUES ?year_ { 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 }
        BIND (0 AS ?count_)
      }
      UNION {
        SELECT ?year_ (COUNT(DISTINCT ?citing_work) AS ?count_) ?kind WHERE {
          VALUES ?INTENTION { target: }
          ?citing_work wdt:P2860 ?citedArticle ;
                       p:P2860/pq:P3712 ?INTENTION .
          # Year of citation
          ?citing_work wdt:P577 ?date .
          BIND (YEAR(?date) AS ?year_)
        }
        GROUP BY ?year_ ?kind
      }
    }
    GROUP BY ?year_
    ORDER BY DESC(?year_)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito_articles-by-year.sparql
  title: cito_articles-by-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito_articles-by-year.sparql'
- name: cito_articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (COUNT(?citingArticle) AS ?count) ?citedArticle ?citedArticleLabel (CONCAT("/work/", SUBSTR(STR(?citedArticle),32)) AS ?citedArticleUrl) WHERE {
      VALUES ?INTENTION { target: }
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement ps:P2860 ?citedArticle ;
                         pq:P3712 ?INTENTION .
      {{ sparql_helpers.labels(["?citedArticle"], languages) }}
    }
    GROUP BY ?citedArticle ?citedArticleLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito_articles.sparql
  title: cito_articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito_articles.sparql'
- name: cito_journals
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: cito-journals--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (COUNT(DISTINCT ?citingArticle) AS ?count) ?journal ?journalLabel (CONCAT("/venue/", SUBSTR(STR(?journal),32)) AS ?journalUrl) WHERE {
      VALUES ?INTENTION { target: }
      ?citingArticle p:P2860 ?citationStatement ;
                     wdt:P1433 ?journal .
      ?citationStatement pq:P3712 ?INTENTION .
      {{ sparql_helpers.labels(["?journal"], languages) }}
    }
    GROUP BY ?journal ?journalLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/cito_journals.sparql
  title: cito_journals
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/cito_journals.sparql'
- name: clinical-trial-index_interventions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-index-interventions--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?intervention ?interventionLabel ?as_chemical ?as_chemicalLabel ?example_trial ?example_trialLabel WHERE {
      {
        SELECT (COUNT(?trial) AS ?count) ?intervention (SAMPLE(?trial) AS ?example_trial) WHERE {
          ?trial wdt:P31 wd:Q30612 .
          ?trial wdt:P4844 ?intervention
        }
        GROUP BY ?intervention
        ORDER BY DESC(?count)
        LIMIT 500
      }
      BIND (IF(EXISTS {
        ?intervention wdt:P31 wd:Q11173
      },?intervention,"") AS ?as_chemical)
      {{ sparql_helpers.labels(["?intervention", "?as_chemical", "?example_trial"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial-index_interventions.sparql
  title: clinical-trial-index_interventions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial-index_interventions.sparql'
- name: clinical-trial-index_medical-conditions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-index-medical-conditions--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?medical_condition ?medical_conditionLabel (CONCAT("/disease/", SUBSTR(STR(?medical_condition),32)) AS ?medical_conditionUrl) ?example_trial ?example_trialLabel WHERE {
      {
        SELECT (COUNT(?trial) AS ?count) ?medical_condition (SAMPLE(?trial) AS ?example_trial) WHERE {
          ?trial wdt:P31 wd:Q30612 .
          ?trial wdt:P1050 ?medical_condition
        }
        GROUP BY ?medical_condition
        ORDER BY DESC(?count)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?example_trial", "?medical_condition"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial-index_medical-conditions.sparql
  title: clinical-trial-index_medical-conditions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial-index_medical-conditions.sparql'
- name: clinical-trial-index_phases
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-index-phases--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BarChart
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (STR(?year_) AS ?year) ?count ?phase ?phaseLabel WHERE {
      {
        SELECT ?year_ (COUNT(*) AS ?count) ?phase WHERE {
          ?trial wdt:P6099 ?phase .
          ?trial wdt:P580 ?start_datetime .
          BIND (YEAR(?start_datetime) AS ?year_)
        }
        GROUP BY ?year_ ?phase
      }
      {{ sparql_helpers.labels(["?phase"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial-index_phases.sparql
  title: clinical-trial-index_phases
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial-index_phases.sparql'
- name: clinical-trial-index_recent-clinical-trials
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-index-recent-clinical-trials--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Clinical trials sorted according to date
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?start_date ?trial ?trialLabel WHERE {
      {
        SELECT * WHERE {
          ?trial wdt:P31 wd:Q30612 .
          ?trial wdt:P580 ?start_datetime .
          # hint:Prior hint:rangeSafe true .
        }
        ORDER BY DESC(?start_datetime)
        LIMIT 500
      }
      BIND (xsd:date(?start_datetime) AS ?start_date)
      {{ sparql_helpers.labels(["?trial"], languages) }}
    }
    ORDER BY DESC(?start_datetime)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial-index_recent-clinical-trials.sparql
  title: clinical-trial-index_recent-clinical-trials
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial-index_recent-clinical-trials.sparql'
- name: clinical-trial-index_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-index-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?description WHERE {
      {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P31 wd:Q30612 .
          }
        }
        BIND ("Number of clinical trials" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P3098 [] .
          }
        }
        BIND ("Links to ClinicalTrials.gov" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P6099 [] .
          }
        }
        BIND ("Number of clinical trial phases links" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P6220 [] .
          }
        }
        BIND ("Links to OpenTrials" AS ?description)
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial-index_statistics.sparql
  title: clinical-trial-index_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial-index_statistics.sparql'
- name: clinical-trial_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?description ?value ?valueUrl WHERE {
      BIND (target: AS ?trial)
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        ?trial wdt:P1476 ?value .
      }
      UNION {
        BIND (10 AS ?order)
        BIND ("Number of participants" AS ?description)
        ?trial wdt:P1132 ?value .
      }
      UNION {
        BIND (11 AS ?order)
        BIND ("Clinical trial phase" AS ?description)
        ?trial wdt:P6099 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (COALESCE(?value_string, ?q) AS ?value)
        BIND (CONCAT("../topic/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (12 AS ?order)
        BIND ("Medical condition" AS ?description)
        ?trial wdt:P1050 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (COALESCE(?value_string, ?q) AS ?value)
        BIND (CONCAT("../disease/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (13 AS ?order)
        BIND ("Research intervention" AS ?description)
        ?trial wdt:P4844 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (COALESCE(?value_string, ?q) AS ?value)
        BIND (CONCAT("../topic/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (20 AS ?order)
        BIND ("Sponsor" AS ?description)
        ?trial wdt:P859 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (COALESCE(?value_string, ?q) AS ?value)
        BIND (CONCAT("../sponsor/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (100 AS ?order)
        BIND ("ClinicalTrials.gov" AS ?description)
        ?trial wdt:P3098 ?value_ .
        BIND (CONCAT(?value_, " ‚Üó") AS ?value)
        BIND (CONCAT("https://clinicaltrials.gov/show/", ?value_) AS ?valueUrl)
      }
      UNION {
        BIND (101 AS ?order)
        BIND ("ClinWiki" AS ?description)
        ?trial wdt:P3098 ?value_ .
        BIND (CONCAT(?value_, " ‚Üó") AS ?value)
        BIND (CONCAT("https://www.clinwiki.org/study/", ?value_) AS ?valueUrl)
      }
      UNION {
        BIND (103 AS ?order)
        BIND ("OpenTrials" AS ?description)
        ?trial wdt:P6220 ?value_ .
        BIND (CONCAT(?value_, " ‚Üó") AS ?value)
        BIND (CONCAT("https://explorer.opentrials.net/trials/", ?value_) AS ?valueUrl)
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial_data.sparql
  title: clinical-trial_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial_data.sparql'
- name: clinical-trial_related-trials
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: clinical-trial-related-trials--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?trial ?trialLabel WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?trial WHERE {
          ?trial wdt:P31 wd:Q30612 .
          {
            target: wdt:P1050/^wdt:P1050 ?trial .
            BIND (3 AS ?score_)
          }
          UNION {
            target: wdt:P4844/^wdt:P4844 ?trial .
            BIND (2 AS ?score_)
          }
          UNION {
            target: wdt:P859/^wdt:P859 ?trial .
            BIND (1 AS ?score_)
          }
        }
        GROUP BY ?trial
        ORDER BY DESC(?score)
        LIMIT 500
      }
      FILTER (target: != ?trial)
      {{ sparql_helpers.labels(["?trial"], languages) }}
    }
    ORDER BY DESC(?score)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/clinical-trial_related-trials.sparql
  title: clinical-trial_related-trials
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/clinical-trial_related-trials.sparql'
- name: complex-index_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: complex-index-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?description WHERE {
      {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P31/wdt:P279* wd:Q22325163 ;
               wdt:P7718 [] .
          }
        }
        BIND ("Total number of Complex Portal complexes" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P31/wdt:P279* wd:Q22325163 ;
               wdt:P3937 [] .
          }
        }
        BIND ("Total number of Reactome complexes" AS ?description)
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/complex-index_statistics.sparql
  title: complex-index_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/complex-index_statistics.sparql'
- name: complex_articles-by-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: complex-articles-by-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX wd: <http://www.wikidata.org/entity/>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\
    SELECT (STR(?year_) AS ?year) (COUNT(?work) AS ?number_of_publications)\n# Work\
    \ type used to color the bar chart\n?type WHERE {\n  {\n    { # Find works with\
    \ the topic. Also report the year\n      SELECT ?work (MIN(?years) AS ?year_)\
    \ (1 AS ?dummy) (SAMPLE(?article_type_) AS ?article_type) WHERE {\n        VALUES\
    \ ?complex { target: }\n        ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+\
    \ | wdt:P1269+) ?complex .\n        ?work wdt:P577 ?dates .\n        BIND (YEAR(?dates)\
    \ AS ?years) .\n        ?work wdt:P31 ?article_type_ .\n      }\n      GROUP BY\
    \ ?work\n    }\n    ?article_type rdfs:label ?type . FILTER (LANG(?type) = \"\
    en\")\n  }\n  UNION {\n    {\n      SELECT ?year_ WHERE {\n        # default values\
    \ = 0\n        ?year_item wdt:P31 wd:Q577 .\n        ?year_item wdt:P585 ?date\
    \ .\n        BIND (YEAR(?date) AS ?year_)\n      }\n    }\n    BIND (\"_\" AS\
    \ ?type)\n  }\n  { # Find earliest publication year\n    SELECT (MIN(?year_) AS\
    \ ?earliest_year) WHERE {\n      { # Find works with the topic. Also report the\
    \ year\n        SELECT ?work (MIN(?years) AS ?year_) (1 AS ?dummy) (SAMPLE(?article_type_)\
    \ AS ?article_type) WHERE {\n          VALUES ?complex { target: }\n         \
    \ ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) ?complex .\n  \
    \        ?work wdt:P577 ?dates .\n          BIND (YEAR(?dates) AS ?years) .\n\
    \          ?work wdt:P31 ?article_type_ .\n        }\n        GROUP BY ?work\n\
    \      }\n    }\n    GROUP BY ?dummy\n  }\n  BIND (YEAR(NOW() \n) AS ?this_year\
    \ ) FILTER ( ?year_ >= ?earliest_year && ?year_ <= ?this_year && ?year_ >= YEAR\
    \ ( \"1900-01-01\" ^^ xsd:dateTime ) )}\nGROUP BY ?year_ ?type\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/complex_articles-by-year.sparql
  title: complex_articles-by-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/complex_articles-by-year.sparql'
- name: complex_articles-recent
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: complex-articles-recent--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work (REPLACE(STR(?work), ".*/", "") AS ?workLabel) ?topicsUrl ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=" // ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              VALUES ?complex { target: }
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) ?complex .
            }
          }
          ?work wdt:P921 ?topic .
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
          ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
        }
        GROUP BY ?work
      }
      # There is a problem with BC dates
      # BIND(xsd:date(?datetime) AS ?date)
      BIND (REPLACE(STR(?datetime), 'T.*', '') AS ?date)
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    GROUP BY ?date ?work ?workLabel ?topicsUrl ?topics
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/complex_articles-recent.sparql
  title: complex_articles-recent
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/complex_articles-recent.sparql'
- name: complex_identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: complex-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    # tool: scholia
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?id (SAMPLE(?idUrls) AS ?idUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?id ?formatterurl WHERE {
              VALUES ?complex { target: }
              ?complex ?IDdir ?id .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31/wdt:P279* wd:Q19847637 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
              FILTER (?Identifier != wd:P233)
              FILTER (?Identifier != wd:P234)
              FILTER (?Identifier != wd:P2017)
            }
            LIMIT 500
          }
          FILTER (?Identifier = wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', ENCODE_FOR_URI(STR(?id)))) AS ?idUrls) .
        }
      }
      UNION {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?id ?formatterurl WHERE {
              VALUES ?complex { target: }
              ?complex ?IDdir ?id .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31/wdt:P279* wd:Q19847637 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
              FILTER (?Identifier != wd:P233)
              FILTER (?Identifier != wd:P234)
              FILTER (?Identifier != wd:P2017)
            }
            LIMIT 500
          }
          FILTER (?Identifier != wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?id))) AS ?idUrls) .
        }
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en". }
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?id
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/complex_identifiers.sparql
  title: complex_identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/complex_identifiers.sparql'
- name: complex_participants
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: complex-participants--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?quantity ?part (REPLACE(STR(?part), ".*/", "") AS ?partLabel) ?partDescription ?type WHERE {
      {
        SELECT ?part ?quantity (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) WHERE {
          VALUES ?complex { target: }
          ?complex p:P527 ?partStatement .
          ?partStatement ps:P527 ?part .
          OPTIONAL {
            ?partStatement pq:P1114 ?quantity
          }
          OPTIONAL {
            ?part wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label .
            FILTER (LANG(?type_label) = 'en')
          }
        }
        GROUP BY ?part ?quantity
      }
      # SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],mul,en" . }
    }
    ORDER BY ASC(?partLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/complex_participants.sparql
  title: complex_participants
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/complex_participants.sparql'
- name: countries_list-of-countries
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: countries-list-of-countries--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_publications ?country ?countryLabel ?example_author ?example_authorLabel ?example_work ?example_workLabel WHERE {
      {
        SELECT ?country (COUNT(DISTINCT ?work) AS ?number_of_publications) (SAMPLE(?work) AS ?example_work) (SAMPLE(?author) AS ?example_author) WHERE {
          {
            SELECT ?country WHERE {
              #    VALUES ?country { {% for q in qs %} wd:{{ q }} {% endfor %} }
            }
          }
          OPTIONAL {
            ?organization wdt:P17 ?country .
            ?author wdt:P108 | wdt:P463 | wdt:P1416/wdt:P361* ?organization .
            ?work wdt:P50 ?author .
          }
        }
        GROUP BY ?country
      }
      {{ sparql_helpers.labels(["?example_author", "?country", "?example_work"], languages) }}
    }
    ORDER BY DESC(?number_of_publications)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/countries_list-of-countries.sparql
  title: countries_list-of-countries
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/countries_list-of-countries.sparql'
- name: countries_tmp
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: countries-tmp--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?country ?countryLabel ?countryDescription WHERE {
      {
        SELECT ?country WHERE {
          #    VALUES ?country { {% for q in qs %} wd:{{ q }} {% endfor %} }
        }
        GROUP BY ?country
      }
      {{ sparql_helpers.labels(["?country"], languages) }}
      {{ sparql_helpers.descriptions(["?country"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/countries_tmp.sparql
  title: countries_tmp
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/countries_tmp.sparql'
- name: country-topic_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-topic-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_works ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT ?author (COUNT(DISTINCT ?work) AS ?number_of_works) (SAMPLE(?work) AS ?example_work) WHERE {
          {
            SELECT DISTINCT ?author WHERE {
              ?author (wdt:P108 | wdt:P1416)/wdt:P17 target1: .
            }
          }
          ?work wdt:P50 ?author .
          ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target2: .
        }
        GROUP BY ?author
      }
      {{ sparql_helpers.labels(["?example_work", "?author"], languages) }}
    }
    ORDER BY DESC(?number_of_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country-topic_authors.sparql
  title: country-topic_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country-topic_authors.sparql'
- name: country-topic_coauthors-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-topic-coauthors-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Graph
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author1 ?author1Label ?author2 ?author2Label WHERE {
      {
        SELECT DISTINCT ?author1 ?author2 WHERE {
          ?author1 (wdt:P108 | wdt:P1416)/wdt:P17 target1: .
          ?author2 (wdt:P108 | wdt:P1416)/wdt:P17 target1: .
          ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target2: .
          ?work wdt:P50 ?author1 .
          ?work wdt:P50 ?author2 .
          FILTER (?author1 != ?author2)
        }
      }
      {{ sparql_helpers.labels(["?author2", "?author1"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country-topic_coauthors-graph.sparql
  title: country-topic_coauthors-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country-topic_coauthors-graph.sparql'
- name: country-topic_cocitations-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-topic-cocitations-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Graph
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author1 ?author1Label ?author2 ?author2Label WHERE {
      {
        SELECT DISTINCT ?author1 ?author2 WHERE {
          ?author1 (wdt:P108 | wdt:P1416)/wdt:P17 target1: .
          ?author2 (wdt:P108 | wdt:P1416)/wdt:P17 target1: .
          ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target2: .
          ?work wdt:P50 ?author1 .
          ?work wdt:P50 ?author2 .
          FILTER (?author1 != ?author2)
        }
      }
      {{ sparql_helpers.labels(["?author2", "?author1"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country-topic_cocitations-graph.sparql
  title: country-topic_cocitations-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country-topic_cocitations-graph.sparql'
- name: country-topic_organizations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-topic-organizations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_works ?number_of_authors ?organization ?organizationLabel (CONCAT("/organization/", SUBSTR(STR(?organization),32)) AS ?organizationUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT ?organization (COUNT(DISTINCT ?work) AS ?number_of_works) (COUNT(DISTINCT ?author) AS ?number_of_authors) (SAMPLE(?work) AS ?example_work) WHERE {
          {
            SELECT ?work WHERE {
              ?work wdt:P921/(wdt:P361 | wdt:P1269 | wdt:P31 | wdt:P279)* target2:
            }
          }
          ?work wdt:P50 ?author .
          ?author (wdt:P108 | wdt:P1416) ?organization .
          ?organization wdt:P17 target1: .
        }
        GROUP BY ?organization
      }
      {{ sparql_helpers.labels(["?organization", "?example_work"], languages) }}
    }
    ORDER BY DESC(?number_of_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country-topic_organizations.sparql
  title: country-topic_organizations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country-topic_organizations.sparql'
- name: country_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-authors--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX target:\
    \ <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    SELECT ?number_of_citing_works ?author ?authorLabel ?organization ?organizationLabel\
    \ ?example_work ?example_workLabel WHERE {\n  {\n    SELECT ?author (COUNT(DISTINCT\
    \ ?citing_work) AS ?number_of_citing_works) ?organization ?organizationLabel (SAMPLE(?work)\
    \ AS ?example_work) WHERE {\n      {\n        SELECT DISTINCT ?author WHERE {\n\
    \          ?author wdt:P27 | wdt:P1416/wdt:P17 | wdt:P108/wdt:P17 target: .\n\
    \        }\n      } \n      UNION\n      {\n        SELECT DISTINCT ?author ?organization\
    \ ?organizationLabel WHERE {\n          {\n            SELECT DISTINCT ?author\
    \ (SAMPLE (?organization_) AS ?organization) WHERE {\n              ?author wdt:P27\
    \ | wdt:P1416/wdt:P17 | wdt:P108/wdt:P17 target: .\n \t      ?author wdt:P1416\
    \ | wdt:P108 ?organization_ .\n \t      ?organization_ wdt:P17 target:\n     \
    \       } GROUP BY ?author\n          }\n \t  {{ sparql_helpers.labels([\"?organization\"\
    ], languages) }}\n        }\n      }\n      ?work wdt:P50 ?author .\n      OPTIONAL\
    \ {\n        ?citing_work wdt:P2860 ?work .\n      }\n      OPTIONAL {\n     \
    \   ?author wdt:P1416 | wdt:P108 ?organization_ .\n        ?organization_ wdt:P17\
    \ target:\n      }\n    } GROUP BY ?author ?organization ?organizationLabel\n\
    \  }\n  {{ sparql_helpers.labels([\"?author\", \"?example_work\"], languages)\
    \ }}\n}\nORDER BY DESC(?number_of_citing_works)\nLIMIT 1000\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country_authors.sparql
  title: country_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country_authors.sparql'
- name: country_co-organizations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-co-organizations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Co-organizations for a specific country
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Map
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?coorganization ?geocoordinates ?example_coauthorLabel ?example_workLabel WHERE {
      {
        SELECT ?coorganization (SAMPLE(?geocoordinates_) AS ?geocoordinates) (SAMPLE(?coauthor) AS ?example_coauthor) (SAMPLE(?work) AS ?example_work) WHERE {
          ?organization wdt:P17 target: .
          ?author wdt:P108 | wdt:P463 | wdt:P1416/wdt:P361* ?organization .
          ?work wdt:P50 ?author, ?coauthor .
          ?coauthor wdt:P108 | wdt:P463 | wdt:P1416/wdt:P361* ?coorganization .
          FILTER NOT EXISTS {
            ?coorganization wdt:P17 target:
          }
          ?coorganization wdt:P625 ?geocoordinates_ .
        }
        GROUP BY ?coorganization
      }
      {{ sparql_helpers.labels(["?example_work", "?example_coauthor"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country_co-organizations.sparql
  title: country_co-organizations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country_co-organizations.sparql'
- name: country_locations-as-topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-locations-as-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Locations as topics for a specific country
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Map{"markercluster":true}.
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?location ?locationLabel ?work ?workLabel ?geo ?layer WHERE {
      {
        SELECT ?location ?work ?geo ?type WHERE {
          ?location wdt:P17 target: .
          # Geocoordinates may possible be under a headquarter property
          ?location wdt:P159?/wdt:P625 ?geo .
          ?work wdt:P921 ?location .
          # Filter encyclopedic articles - that may not be so relevant
          FILTER NOT EXISTS {
            ?work wdt:P31 wd:Q17329259
          }
        }
      }
      # Move here for speed of query
      OPTIONAL {
        ?work wdt:P31/rdfs:label ?layer .
        FILTER (LANG(?layer) = 'en')
      }
      {{ sparql_helpers.labels(["?location", "?work"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country_locations-as-topics.sparql
  title: country_locations-as-topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country_locations-as-topics.sparql'
- name: country_narrative-locations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-narrative-locations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Narrative locations for a specific country
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Map{"markercluster":true}.
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?location ?locationLabel ?work ?workLabel ?geo ?layer WHERE {
      {
        SELECT DISTINCT ?location ?work ?geo ?layer WHERE {
          ?location wdt:P17 target: .
          # Geocoordinates may possible be under a headquarter property
          ?location wdt:P159?/wdt:P625 ?geo .
          ?work wdt:P840 ?location .
          # Filter encyclopedic articles - that may not be so relevant
          FILTER NOT EXISTS {
            ?work wdt:P31 wd:Q17329259
          }
          OPTIONAL {
            ?work wdt:P31/rdfs:label ?layer . FILTER (LANG(?layer) = 'en')
          }
        }
      }
      {{ sparql_helpers.labels(["?location", "?work"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country_narrative-locations.sparql
  title: country_narrative-locations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country_narrative-locations.sparql'
- name: country_organizations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: country-organizations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Organizations for a specific country
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_authors ?number_of_works ?organization ?organizationLabel WHERE {
      {
        SELECT ?organization (COUNT(DISTINCT ?author) AS ?number_of_authors) (COUNT(DISTINCT ?work) AS ?number_of_works) WHERE {
          ?organization wdt:P17 target: .
          ?author wdt:P108 | wdt:P463 | wdt:P1416/wdt:P361* ?organization .
          ?work wdt:P50 ?author .
        }
        GROUP BY ?organization
      }
      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    ORDER BY DESC(?number_of_authors) DESC(?number_of_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/country_organizations.sparql
  title: country_organizations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/country_organizations.sparql'
- name: dataset_citations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: dataset-citations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # List of works that is cited by the specified work
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?citations ?publication_date ?citing_work ?citing_workLabel WHERE {
      # Label the result
      {
        SELECT (MIN(?date) AS ?publication_date) (COUNT(?citing_citing_work) AS ?citations) ?citing_work WHERE {
          # Find works that cite the queried work
          ?citing_work wdt:P2860 target: .
          OPTIONAL {
            ?citing_work wdt:P577 ?datetime .
            # Simplify the datetime to one with day, month and year only
            BIND (xsd:date(?datetime) AS ?date)
          }
          OPTIONAL {
            ?citing_citing_work wdt:P2860 ?citing_work
          }
        }
        GROUP BY ?citing_work
        # Limit the number of results to avoid downloading too much data
        ORDER BY DESC(?citations) DESC(?date)
        LIMIT 1000
      }
      {{ sparql_helpers.labels(["?citing_work"], languages) }}
    }
    ORDER BY DESC(?citations) DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/dataset_citations.sparql
  title: dataset_citations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/dataset_citations.sparql'
- name: dataset_identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: dataset-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?id (SAMPLE(?idUrls) AS ?idUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?id ?formatterurl WHERE {
              target: ?IDdir ?id .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31/wdt:P279* wd:Q19847637 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          FILTER (?Identifier = wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', ENCODE_FOR_URI(STR(?id)))) AS ?idUrls) .
        }
      }
      UNION {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?id ?formatterurl WHERE {
              target: ?IDdir ?id .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31/wdt:P279* wd:Q19847637 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          FILTER (?Identifier != wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?id))) AS ?idUrls) .
        }
      }
      {{ sparql_helpers.labels(["?Identifier"], languages) }}
      {{ sparql_helpers.descriptions(["?Identifier"], languages) }}
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?id
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/dataset_identifiers.sparql
  title: dataset_identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/dataset_identifiers.sparql'
- name: dataset_list-of-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: dataset-list-of-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    # List of authors for a work
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX schema: <http://schema.org/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT
    # Author order
    ?order ?academic_age
    # Author item and label
    ?author ?authorUrl ?authorDescription ?orcid WHERE {
      {
        target: p:P50 ?author_statement .
        ?author_statement ps:P50 ?author_ .
        ?author_ rdfs:label ?author .
        FILTER (LANG(?author) = 'en')
        BIND (CONCAT("../author/", SUBSTR(STR(?author_),32)) AS ?authorUrl)
        OPTIONAL {
          ?author_statement pq:P1545 ?order_ .
          BIND (xsd:integer(?order_) AS ?order)
        }
        OPTIONAL {
          ?author_ wdt:P496 ?orcid_ .
        }
        # Either show the ORCID iD or construct part of a URL to search on the ORCID homepage
        BIND (COALESCE(?orcid_, CONCAT("orcid-search/search/?searchQuery=", ENCODE_FOR_URI(?author))) AS ?orcid)
        OPTIONAL {
          ?author_ schema:description ?authorDescription .
          FILTER (LANG(?authorDescription) = "en")
        }
      }
      UNION {
        target: p:P2093 ?authorstring_statement .
        ?authorstring_statement ps:P2093 ?author_
        BIND (CONCAT("UNRESOLVED: ", ?author_) AS ?author)
        OPTIONAL {
          ?authorstring_statement pq:P1545 ?order_ .
          BIND (xsd:integer(?order_) AS ?order)
        }
        BIND (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?author_)) AS ?authorUrl)
      }
      OPTIONAL {
        SELECT ?author_ (MAX(?academic_age_) AS ?academic_age) {
          target: wdt:P50 ?author_ ;
                  wdt:P577 ?publication_date .
          [] wdt:P31 wd:Q13442814 ;
             wdt:P50 ?author_ ;
             wdt:P577 ?other_publication_date .
          BIND (YEAR(?publication_date) - YEAR(?other_publication_date) AS ?academic_age_)
        }
        GROUP BY ?author_
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/dataset_list-of-authors.sparql
  title: dataset_list-of-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/dataset_list-of-authors.sparql'
- name: dataset_topic-scores
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: dataset-topic-scores--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?topic ?topicLabel WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          {
            target: wdt:P921 ?topic .
            BIND (20 AS ?score_)
          }
          UNION {
            target: wdt:P921/wdt:P279 ?topic .
            BIND (3 AS ?score_)
          }
          UNION {
            # Topic of a cited work
            target: wdt:P2860/wdt:P921 ?topic .
            BIND (1 AS ?score_)
          }
          UNION {
            SELECT (1 AS ?score_) ?topic WHERE {
              ?citing_work wdt:P2860 target: .
              ?citing_work wdt:P921 ?topic .
            }
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/dataset_topic-scores.sparql
  title: dataset_topic-scores
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/dataset_topic-scores.sparql'
- name: disease_clinical-trials
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: disease-clinical-trials--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?start_date ?trial ?trialLabel ?intervention ?interventionLabel ?sponsor ?sponsorLabel WHERE {
      ?trial wdt:P31 wd:Q30612 ;
             wdt:P1050/wdt:P279* wd:{{ q }} .
      OPTIONAL {
        ?trial wdt:P580 ?starttime
        BIND (SUBSTR(STR(?starttime),0,11) AS ?start_date)
      }
      OPTIONAL {
        ?trial wdt:P4844 ?intervention
      }
      OPTIONAL {
        ?trial wdt:P859 ?sponsor
      }
      {{ sparql_helpers.labels(["?trial"], languages) }}
      {{ sparql_helpers.labels_unbound(["?intervention"], languages) }}
    }
    ORDER BY DESC(?starttime)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/disease_clinical-trials.sparql
  title: disease_clinical-trials
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/disease_clinical-trials.sparql'
- name: disease_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: disease-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu\
    \ Mishra, Vetle Torvik\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:\
    \ <http://www.wikidata.org/prop/direct/>\nSELECT ?year (COUNT(?work) AS ?number_of_publications)\
    \ WHERE {\n  {\n    SELECT (STR(?year_) AS ?year) (0 AS ?pages) WHERE {\n    \
    \  # default values = 0\n      ?year_item wdt:P31 wd:Q577 .\n      ?year_item\
    \ wdt:P585 ?date .\n      BIND (YEAR(?date) AS ?year_)\n      {\n        SELECT\
    \ (MIN(?year_) AS ?earliest_year) WHERE {\n          {\n            ?work wdt:P921/wdt:P31*/wdt:P279*\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P361+\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P1269+\
    \ target: .\n          }\n          ?work wdt:P577 ?publication_date .\n     \
    \     BIND (YEAR(?publication_date) AS ?year_)\n        }\n      }\n      BIND\
    \ (YEAR(NOW() \n    ) AS ?next_year ) FILTER ( ?year_ >= ?earliest_year && ?year_\
    \ <= ?next_year )}\n  }\n  UNION {\n    SELECT ?work (MIN(?years) AS ?year) WHERE\
    \ {\n      {\n        ?work wdt:P921/wdt:P31*/wdt:P279* target: .\n      }\n \
    \     UNION {\n        ?work wdt:P921/wdt:P361+ target: .\n      }\n      UNION\
    \ {\n        ?work wdt:P921/wdt:P1269+ target: .\n      }\n      ?work wdt:P577\
    \ ?dates .\n      BIND (STR(YEAR(?dates)) AS ?years) .\n    }\n    GROUP BY ?work\n\
    \  }\n}\nGROUP BY ?year\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/disease_publications-per-year.sparql
  title: disease_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/disease_publications-per-year.sparql'
- name: disease_related-diseases
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: disease-related-diseases--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?gene_count ?symptom_count ?disease ?diseaseLabel ?genes ?symptoms {
      {
        SELECT ?disease (COUNT(?gene) AS ?gene_count) (GROUP_CONCAT(?gene_label; SEPARATOR=" // ") AS ?genes) WHERE {
          target: wdt:P2293 ?gene .
          ?gene wdt:P2293 ?disease .
          FILTER (target: != ?disease)
          ?gene rdfs:label ?gene_label
          FILTER (LANG(?gene_label) = "en")
        }
        GROUP BY ?disease
      }
      UNION {
        SELECT ?disease (COUNT(?symptom) AS ?symptom_count) (GROUP_CONCAT(?symptom_label; SEPARATOR=" // ") AS ?symptoms) {
          target: wdt:P780 ?symptom .
          ?disease wdt:P780 ?symptom .
          FILTER (target: != ?disease)
          ?symptom rdfs:label ?symptom_label . FILTER (LANG(?symptom_label) = "en")
        }
        GROUP BY ?disease
      }
      # Aggregate count
      BIND ((COALESCE(?symptom_count, 0) + COALESCE(?gene_count, 0)) AS ?count)
       {{ sparql_helpers.labels(["?disease"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/disease_related-diseases.sparql
  title: disease_related-diseases
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/disease_related-diseases.sparql'
- name: event-series-index_acceptance-rate
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-index-acceptance-rate--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (ROUND(10000 * ?mean_acceptance_rate) / 100 AS ?mean_acceptance_percentage) ?track ?trackLabel ?event_series ?event_seriesLabel (CONCAT("/event-series/", SUBSTR(STR(?event_series),32)) AS ?event_seriesUrl) WHERE {
      {
        SELECT (SUM(?acceptance_rate) / COUNT(?acceptance_rate) AS ?mean_acceptance_rate) ?event_series ?track WHERE {
          ?event_series wdt:P31/wdt:P279* wd:Q125391566 .
          ?event wdt:P179 ?event_series ;
                 p:P5822 ?acceptance_rate_statement .
          ?acceptance_rate_statement ps:P5822 ?acceptance_rate .
          OPTIONAL {
            ?acceptance_rate_statement pq:P518 ?track_ .
          }
          BIND (COALESCE(?track_, "-") AS ?track)
          BIND (STR(YEAR(?datetime)) AS ?year)
        }
        GROUP BY ?event_series ?track
      }
      {{ sparql_helpers.labels(["?event_series", "?track"], languages) }}
    }
    ORDER BY ?mean_acceptance_rate
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series-index_acceptance-rate.sparql
  title: event-series-index_acceptance-rate
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series-index_acceptance-rate.sparql'
- name: event-series-index_list
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-index-list--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?events ?short_name ?event_series ?event_seriesLabel ?event_seriesDescription (CONCAT("/event-series/", SUBSTR(STR(?event_series),32)) AS ?event_seriesUrl) WHERE {
      {
        SELECT (COUNT(?event) AS ?events) ?event_series {
          {
            ?event_series wdt:P31 wd:Q47258130 .
          }
          UNION {
            ?event_series wdt:P31 wd:Q47459256 .
          }
          OPTIONAL {
            ?event_series ^wdt:P179 ?event
          }
        }
        GROUP BY ?event_series
      }
      OPTIONAL {
        ?event_series wdt:P1813 ?short_name
      }
      {{ sparql_helpers.labels(["?event_series"], languages) }}
      {{ sparql_helpers.descriptions(["?event_series"], languages) }}
    }
    ORDER BY DESC(?events)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series-index_list.sparql
  title: event-series-index_list
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series-index_list.sparql'
- name: event-series_acceptance-rate
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-acceptance-rate--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:LineChart
    PREFIX target: <http://www.wikidata.org/entity/{{q}}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year ?acceptance_rate ?trackLabel WHERE {
      ?event wdt:P179 target: ;
             wdt:P580 ?datetime ;
             p:P5822 ?acceptance_rate_statement .
      ?acceptance_rate_statement ps:P5822 ?acceptance_rate .
      OPTIONAL {
        ?acceptance_rate_statement pq:P518 ?track_ .
      }
      BIND (COALESCE(?track_, "total") AS ?track)
      BIND (STR(YEAR(?datetime)) AS ?year)
      {{ sparql_helpers.labels(["?track"], languages) }}
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_acceptance-rate.sparql
  title: event-series_acceptance-rate
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_acceptance-rate.sparql'
- name: event-series_events
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-events--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: List of event and proceedings for a specific event series
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT (SAMPLE(?years) AS ?year) (SAMPLE(?ordinal_) AS ?ordinal) (SAMPLE(?short_names) AS ?short_name) ?event ?eventLabel (CONCAT("/event/", SUBSTR(STR(?event),32)) AS ?eventUrl) ?proceedings ?proceedingsLabel (CONCAT("/venue/", SUBSTR(STR(?proceedings),32)) AS ?proceedingsUrl) WHERE {
      {
        ?event wdt:P179 | wdt:P31 target: .
        OPTIONAL {
          ?event wdt:P585 | wdt:P580 ?datetime .
          BIND (YEAR(?datetime) AS ?years)
        }
        OPTIONAL {
          ?event wdt:P1813 ?short_names
        }
        OPTIONAL {
          ?proceedings wdt:P4745 ?event
        }
        OPTIONAL {
          ?event p:P179/pq:P1545 ?ordinal_
        }
      }
      UNION {
        # proceedings even if the event is not there!!!
        ?proceedings (wdt:P179/wdt:P4745) target: .
        OPTIONAL {
          ?proceedings wdt:P577 ?datetime .
          BIND (YEAR(?datetime) AS ?years)
        }
      }
      {{ sparql_helpers.labels_unbound(["?event", "?proceedings"], languages) }}
    }
    GROUP BY ?event ?year ?eventLabel ?proceedings ?proceedingsLabel
    ORDER BY DESC(?year)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_events.sparql
  title: event-series_events
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_events.sparql'
- name: event-series_map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?event ?eventLabel ?geo ?image WHERE {
      ?event (wdt:P179 | wdt:P31) target: .
      ?event wdt:P276?/wdt:P625 ?geo .
      OPTIONAL {
        ?event wdt:P18 ?image .
      }
      {{ sparql_helpers.labels(["?event"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_map.sparql
  title: event-series_map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_map.sparql'
- name: event-series_number-of-participants
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-number-of-participants--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:LineChart
    PREFIX target: <http://www.wikidata.org/entity/{{q}}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year ?number_of_participants WHERE {
      ?event wdt:P179 target: ;
             wdt:P580 ?datetime ;
             wdt:P1132 ?number_of_participants .
      BIND (STR(YEAR(?datetime)) AS ?year)
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_number-of-participants.sparql
  title: event-series_number-of-participants
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_number-of-participants.sparql'
- name: event-series_people
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-people--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_roles
    # (?number_of_publications AS ?works)
    ?person ?personLabel ?personDescription (CONCAT("/author/", SUBSTR(STR(?person),32)) AS ?personUrl) ?roles ?example_work ?example_workLabel WHERE {
      {
        SELECT ?number_of_roles
        # (COUNT(?work) AS ?number_of_publications)
        ?roles ?person (SAMPLE(?work) AS ?example_work) WHERE {
          {
            SELECT (COUNT(?role) AS ?number_of_roles) (GROUP_CONCAT(DISTINCT ?role; SEPARATOR=", ") AS ?roles) ?person WHERE {
              {
                # speaker
                target: ^wdt:P179/wdt:P823 ?person .
                BIND ("speaker" AS ?role)
              }
              UNION {
                # organizer
                target: ^wdt:P179/wdt:P664 ?person .
                BIND ("organizer" AS ?role)
              }
              UNION {
                # participant
                ?person (wdt:P1344 | ^wdt:P710)/wdt:P179 target: .
                BIND ("participant" AS ?role)
              }
              UNION {
                # editor
                ?person (^wdt:P98/wdt:P4745)/wdt:P179 target: .
                BIND ("editor of proceedings" AS ?role)
              }
              UNION {
                # author
                ?person (^wdt:P50/wdt:P1433/wdt:P4745)/wdt:P179 target: .
                BIND ("author" AS ?role)
              }
              UNION {
                # program committee member
                target: ^wdt:P179/wdt:P5804 ?person .
                BIND ("program committee member" AS ?role)
              }
            }
            GROUP BY ?person
          } .
          OPTIONAL {
            ?work wdt:P50 ?person .
          }
        }
        GROUP BY ?number_of_roles ?roles ?person
      }
      {{ sparql_helpers.labels(["?person"], languages) }}
      {{ sparql_helpers.labels_unbound(["?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?person"], languages) }}
    }
    ORDER BY DESC(?number_of_roles)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_people.sparql
  title: event-series_people
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_people.sparql'
- name: event-series_proceedings-publications
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-proceedings-publications--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?authors ?authorsUrl ?topics ?topicsUrl WHERE {
      {
        SELECT (MIN(?date_) AS ?date) ?work (GROUP_CONCAT(DISTINCT ?author_label; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=", ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          ?work wdt:P1433/wdt:P4745/(wdt:P179 | wdt:P31) target: .
          OPTIONAL {
            ?work wdt:P577 ?publication_datetime .
            BIND (xsd:date(?publication_datetime) AS ?date_)
          }
          OPTIONAL {
            ?work wdt:P50 ?author .
            ?author rdfs:label ?author_label . FILTER (LANG(?author_label) = "en")
          }
          OPTIONAL {
            ?work wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = "en")
          }
        }
        GROUP BY ?work
        ORDER BY DESC(?date)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_proceedings-publications.sparql
  title: event-series_proceedings-publications
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_proceedings-publications.sparql'
- name: event-series_recent-publications
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-recent-publications--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?authors ?authorsUrl WHERE {
      {
        SELECT (xsd:date(MAX(?publication_datetime)) AS ?publication_date) ?work (GROUP_CONCAT(DISTINCT ?person_label; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?person),32); SEPARATOR=",")) AS ?authorsUrl) WHERE {
          {
            SELECT DISTINCT ?person WHERE {
              ?event wdt:P179 | wdt:P31 target: .
              {
                # speaker
                ?event wdt:P823 ?person .
              }
              UNION {
                # organizer
                ?event wdt:P664 ?person .
              }
              UNION {
                # participant
                ?person wdt:P1344 | ^wdt:P710 ?event .
              }
              UNION {
                # author
                ?person ^wdt:P50/wdt:P1433/wdt:P4745 ?event .
              }
            }
          } .
          ?work wdt:P50 ?person ;
                wdt:P577 ?publication_datetime .
          ?person rdfs:label ?person_label . FILTER (LANG(?person_label) = 'en')
        }
        GROUP BY ?work
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_recent-publications.sparql
  title: event-series_recent-publications
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_recent-publications.sparql'
- name: event-series_timeline
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-timeline--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\n#defaultView:Timeline\n\
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX p: <http://www.wikidata.org/prop/>\nPREFIX pq: <http://www.wikidata.org/prop/qualifier/>\n\
    PREFIX ps: <http://www.wikidata.org/prop/statement/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    SELECT ?time ?endtime ?event ?eventLabel ?image ?description WHERE {\n  {\n  \
    \  {\n      SELECT DISTINCT ?event ?time ?endtime WHERE {\n        # It seems\
    \ to be necessary to have this line together with the \n        # optional event\
    \ time triples here.\n        ?event wdt:P179 | wdt:P31 target: .\n        OPTIONAL\
    \ {\n          ?event wdt:P580 ?starttime .\n        }\n        # If the endtime\
    \ is not set, then use now as the end time\n        # However this does not show\
    \ well if the event is in the future\n        # and no end date has been set.\n\
    \        OPTIONAL {\n          ?event wdt:P582 ?endtime .\n        }\n       \
    \ # BIND(COALESCE(?endtime_, NOW()) AS ?endtime)\n        OPTIONAL {\n       \
    \   ?event wdt:P585 ?timepoint .\n        }\n        # If start time is defined\
    \ the disregard timepoint\n        BIND (COALESCE(?starttime, ?timepoint) AS ?time)\n\
    \      }\n    }\n  }\n  UNION {\n    { # Include significant events\n      SELECT\
    \ ?event ?time ?description WHERE {\n        ?event wdt:P179 | wdt:P31 target:\
    \ .\n        ?event p:P793 [\n          ps:P793 ?item ;\n          pq:P585 ?time\n\
    \        ] .\n        OPTIONAL {\n          ?item rdfs:label ?description .\n\
    \          FILTER (LANG(?description) = \"en\")\n        }\n      }\n    }\n \
    \ }\n  OPTIONAL {\n    ?event wdt:P18 ?image .\n  }\n  {{ sparql_helpers.labels([\"\
    ?event\"], languages) }}\n}\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_timeline.sparql
  title: event-series_timeline
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_timeline.sparql'
- name: event-series_top-topics-through-time
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-top-topics-through-time--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:AreaChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year ?works ?topic ?topicLabel WHERE {
      {
        SELECT ?year (COUNT(?work) AS ?works) ?topic WHERE {
          {
            SELECT ?work WHERE {
              ?work wdt:P1433/wdt:P4745/(wdt:P179 | wdt:P31) target: .
            }
          }
          {
            SELECT (COUNT(?work) AS ?count) ?topic WHERE {
              {
                SELECT ?work WHERE {
                  ?work wdt:P1433/wdt:P4745/(wdt:P179 | wdt:P31) target: .
                }
              }
              ?work wdt:P921 ?topic .
            }
            GROUP BY ?topic
            ORDER BY DESC(?count)
            LIMIT 5
          }
          ?work wdt:P921 ?topic ;
                wdt:P577 ?publication_datetime .
          BIND (STR(YEAR(?publication_datetime)) AS ?year)
        }
        GROUP BY ?year ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_top-topics-through-time.sparql
  title: event-series_top-topics-through-time
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_top-topics-through-time.sparql'
- name: event-series_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-series-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?topic ?topicLabel ?topicDescription (CONCAT("/topic/", SUBSTR(STR(?topic),32)) AS ?topicUrl) WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          # For some reason a path query does not work here.
          {
            ?event wdt:P179 target: .
          }
          UNION {
            ?event wdt:P31 target: .
          }
          {
            ?event wdt:P921 ?topic .
            BIND (50 AS ?score_)
          }
          UNION {
            {
              SELECT DISTINCT ?person WHERE {
                ?event (wdt:P179 | wdt:P31) target: .
                {
                  # speaker
                  ?event wdt:P823 ?person .
                }
                UNION {
                  # organizer
                  ?event wdt:P664 ?person .
                }
                UNION {
                  # participant
                  ?person wdt:P1344 | ^wdt:P710 ?event .
                }
                UNION {
                  # author
                  ?person ^wdt:P50/wdt:P1433/wdt:P4745 ?event .
                }
              }
            }
            ?person ^wdt:P50/wdt:P921 ?topic .
            BIND (1 AS ?score_)
          }
          UNION {
            ?event ^wdt:P4745/^wdt:P1433/wdt:P921 ?topic .
            BIND (7 AS ?score_)
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
      {{ sparql_helpers.descriptions(["?topic"], languages) }}
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event-series_topics.sparql
  title: event-series_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event-series_topics.sparql'
- name: event_co-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-co-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author1 ?author1Label (SAMPLE(?image1_) AS ?image1) ?rgb ?author2 ?author2Label (SAMPLE(?image2_) AS ?image2) WHERE {
      {
        SELECT DISTINCT ?author1 ?author2 ?rgb WHERE {
          {
            SELECT ?author1 (SAMPLE(?dark_rgb_) AS ?dark_rgb) (SAMPLE(?light_rgb_) AS ?light_rgb) WHERE {
              # Find people at the event
              {
                target: (wdt:P823 | wdt:P664 | ^wdt:P1344 | wdt:P710) ?author1 .
                BIND ("EEEEEE" AS ?dark_rgb_)
              }
              UNION {
                # author of article in proceedings, or program committee member
                target: (^wdt:P4745/^wdt:P1433/wdt:P50) | wdt:P5804 ?author1 .
                BIND ("FFFFFF" AS ?light_rgb_)
              }
              UNION {
                # author of article in proceedings, or program committee member
                ?presentation wdt:P823 ?author1 ;
                              wdt:P5072 target:
                BIND ("FFFFFF" AS ?light_rgb_)
              }
            }
            GROUP BY ?author1
          }
          {
            target: (wdt:P823 | wdt:P664 | ^wdt:P1344 | wdt:P710 | ^wdt:P4745/^wdt:P1433/wdt:P50) | wdt:P5804 ?author2 .
          }
          UNION {
            ?presentation wdt:P823 ?author2 ;
                          wdt:P5072 target:
          }
          # Find co-authors
          ?work wdt:P50 ?author1, ?author2 .
          FILTER (?author1 != ?author2)
          BIND (COALESCE(?dark_rgb, ?light_rgb) AS ?rgb)
        }
      }
      OPTIONAL {
        ?author1 wdt:P18 ?image1_ .
      }
      OPTIONAL {
        ?author2 wdt:P18 ?image2_ .
      }
      {{ sparql_helpers.labels(["?author2", "?author1"], languages) }}
    } GROUP BY
    ?author1
    ?author1Label
    ?rgb
    ?author2
    ?author2Label
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_co-authors.sparql
  title: event_co-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_co-authors.sparql'
- name: event_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?description ?descriptionLabel ?descriptionUrl ?value ?valueLabel ?valueUrl WHERE {
      {
        BIND (1 AS ?order)
        BIND ("Event series" AS ?description)
        BIND ("/event-series" AS ?descriptionUrl)
        target: wdt:P179 ?value .
        BIND (CONCAT("/event-series/", SUBSTR(STR(?value),32)) AS ?valueUrl)
      }
      UNION {
        BIND (2 AS ?order)
        BIND ("Short name" AS ?description)
        target: wdt:P1813 ?value .
      }
      UNION {
        BIND (5 AS ?order)
        BIND (wd:Q34770 AS ?description)
        BIND ("/language" AS ?descriptionUrl)
        target: wdt:P2936 ?value .
        BIND (CONCAT("/language/", SUBSTR(STR(?value),32)) AS ?valueUrl)
      }
      UNION {
        SELECT (10 AS ?order) ("Organizers" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("/authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P664 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        BIND (20 AS ?order)
        BIND ("Number of participants" AS ?description)
        target: wdt:P1132 ?value .
      }
      UNION {
        # number of submissions
        BIND (21 AS ?order)
        BIND ("number of submissions" AS ?description)
        target: p:P12655 ?value_statement .
        ?value_statement ps:P12655 ?submissions .
        OPTIONAL {
          ?value_statement pq:P518/rdfs:label ?track .
          FILTER (LANG(?track) = "en")
        }
        BIND (IF(BOUND(?track),CONCAT(STR(?submissions), " (", ?track, ")"),STR(?submissions)) AS ?value)
      }
      UNION {
        # number of accepted contributions
        BIND (22 AS ?order)
        BIND ("number of accepted contributions" AS ?description)
        target: p:P12649 ?value_statement .
        ?value_statement ps:P12649 ?accepted .
        OPTIONAL {
          ?value_statement pq:P518/rdfs:label ?track .
          FILTER (LANG(?track) = "en")
        }
        BIND (IF(BOUND(?track),CONCAT(STR(?accepted), " (", ?track, ")"),STR(?accepted)) AS ?value)
      }
      UNION {
        BIND (23 AS ?order)
        BIND ("Acceptance&nbsp;rate" AS ?description)
        target: p:P5822 ?value_statement .
        ?value_statement ps:P5822 ?acceptance_rate .
        OPTIONAL {
          ?value_statement pq:P518/rdfs:label ?track .
          FILTER (LANG(?track) = "en")
        }
        BIND (IF(BOUND(?track),CONCAT(STR(?acceptance_rate * 100), " % (", ?track, ")"),CONCAT(STR(?acceptance_rate * 100), " %")) AS ?value)
      }
      {{ sparql_helpers.labels(["?description", "?value"], languages) }}
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_data.sparql
  title: event_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_data.sparql'
- name: event_future-events
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-future-events--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?time ?short_name ?event ?eventLabel (CONCAT("/event/", SUBSTR(STR(?event),32)) AS ?eventUrl) ?location ?locationLabel (CONCAT("/location/", SUBSTR(STR(?location),32)) AS ?locationUrl) WHERE {
      {
        SELECT ?event (xsd:date(MIN(?times)) AS ?time) (SAMPLE(?locations) AS ?location) (SAMPLE(?short_names) AS ?short_name) WHERE {
          {
            SELECT DISTINCT ?event WHERE {
              # This union seems to be faster than a VALUES-based query
              {
                ?event wdt:P31/wdt:P279* wd:Q52260246 .
              }
              UNION {
                ?event wdt:P31/wdt:P279* wd:Q46855 .
              }
            }
          }
          ?event wdt:P580 | wdt:P585 ?times .
          FILTER (?times > NOW
          ())
          OPTIONAL {
            ?event wdt:P276 ?locations
          }
          OPTIONAL {
            ?event wdt:P1813 ?short_names
          }
        }
        GROUP BY ?event
      }
      {{ sparql_helpers.labels(["?event"], languages) }}
      {{ sparql_helpers.labels_unbound(["?location"], languages) }}
    }
    ORDER BY ?time
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_future-events.sparql
  title: event_future-events
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_future-events.sparql'
- name: event_past-events
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-past-events--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?time ?short_name ?event ?eventLabel (CONCAT("/event/", SUBSTR(STR(?event),32)) AS ?eventUrl) ?location ?locationLabel (CONCAT("/location/", SUBSTR(STR(?location),32)) AS ?locationUrl) WHERE {
      {
        SELECT ?event (xsd:date(MIN(?times)) AS ?time) (SAMPLE(?locations) AS ?location) (SAMPLE(?short_names) AS ?short_name) WHERE {
          {
            SELECT DISTINCT ?event WHERE {
              # This union seems to be faster than a VALUES-based query
              {
                ?event wdt:P31/wdt:P279* wd:Q52260246 .
              }
              UNION {
                ?event wdt:P31/wdt:P279* wd:Q46855 .
              }
            }
          }
          ?event wdt:P580 | wdt:P585 ?times .
          FILTER (?times < NOW
          ())
          OPTIONAL {
            ?event wdt:P276 ?locations
          }
          OPTIONAL {
            ?event wdt:P1813 ?short_names
          }
        }
        GROUP BY ?event
      }
      {{ sparql_helpers.labels(["?event"], languages) }}
      {{ sparql_helpers.labels_unbound(["?location"], languages) }}
    }
    ORDER BY DESC(?time)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_past-events.sparql
  title: event_past-events
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_past-events.sparql'
- name: event_people
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-people--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (?number_of_publications AS ?works) ?person ?personLabel ?personDescription ?roles ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?number_of_publications) ?roles ?person (SAMPLE(?work) AS ?example_work) WHERE {
          {
            SELECT (GROUP_CONCAT(DISTINCT ?role; SEPARATOR=", ") AS ?roles) ?person WHERE {
              {
                # speaker added directly in the target item
                target: wdt:P823 ?person .
                # BIND(wd:Q9379869 AS ?role)
                BIND ("speaker" AS ?role)
              }
              UNION {
                # speaker inferred from presentation items related to the event-target
                ?presentation wdt:P823 ?person ;
                              wdt:P5072 target:
                BIND ("speaker" AS ?role)
              }
              UNION {
                # organizer
                target: wdt:P664 ?person .
                #BIND(wd:Q2029941 AS ?role)
                BIND ("organizer" AS ?role)
              }
              UNION {
                # participant
                ?person wdt:P1344 | ^wdt:P710 target: .
                BIND ("participant" AS ?role)
              }
              UNION {
                # editor
                ?person ^wdt:P98/wdt:P4745 target: .
                BIND ("editor of proceedings" AS ?role)
              }
              UNION {
                # author
                ?person ^wdt:P50/wdt:P1433/wdt:P4745 target: .
                BIND ("author" AS ?role)
              }
              UNION {
                # program committee member
                target: wdt:P5804 ?person .
                BIND ("program committee member" AS ?role)
              }
            }
            GROUP BY ?person
          } .
          ?person wdt:P31 wd:Q5.
          OPTIONAL {
            ?work wdt:P50 ?person .
          }
        }
        GROUP BY ?roles ?person
      }
      {{ sparql_helpers.labels(["?example_work", "?person"], languages) }}
      {{ sparql_helpers.descriptions(["?person"], languages) }}
    }
    ORDER BY DESC(?number_of_publications)
    LIMIT 10000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_people.sparql
  title: event_people
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_people.sparql'
- name: event_presentations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-presentations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?authors ?authorsUrl ?topics ?topicsUrl WHERE {
      {
        SELECT ?work (GROUP_CONCAT(DISTINCT ?author_label; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=", ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          ?work wdt:P5072 target: .
          OPTIONAL {
            ?work wdt:P50 ?author .
            ?author rdfs:label ?author_label . FILTER (LANG(?author_label) = "en")
          }
          OPTIONAL {
            ?work wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = "en")
          }
        }
        GROUP BY ?work
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_presentations.sparql
  title: event_presentations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_presentations.sparql'
- name: event_proceedings
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-proceedings--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # Scholia
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?work ?workLabel ?authors ?authorsUrl ?topics ?topicsUrl WHERE {
      {
        SELECT ?work (GROUP_CONCAT(DISTINCT ?author_label; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=", ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          ?work wdt:P1433/wdt:P4745 target: .
          OPTIONAL {
            ?work wdt:P50 ?author .
            ?author rdfs:label ?author_label . FILTER (LANG(?author_label) = "en")
          }
          OPTIONAL {
            ?work wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = "en")
          }
        }
        GROUP BY ?work
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_proceedings.sparql
  title: event_proceedings
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_proceedings.sparql'
- name: event_recent-publications
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-recent-publications--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\n# Recent publications\
    \ by people associated with event\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nSELECT ?publication_date ?work\
    \ ?workLabel ?authors ?authorsUrl WHERE {\n  {\n    SELECT (xsd:date(MAX(?publication_datetime))\
    \ AS ?publication_date) ?work (GROUP_CONCAT(DISTINCT ?person_label; SEPARATOR=\"\
    , \") AS ?authors) (CONCAT(\"../authors/\", GROUP_CONCAT(DISTINCT SUBSTR(STR(?person),32);\
    \ SEPARATOR=\",\")) AS ?authorsUrl) WHERE {\n      {\n        SELECT DISTINCT\
    \ ?person WHERE {\n          {\n            # speaker, organizer, program committe\
    \ member \n            target: wdt:P823 | wdt:P664 | wdt:P5804 ?person .\n   \
    \       }\n          UNION {\n            # participant\n            ?person wdt:P1344\
    \ | ^wdt:P710 target: .\n          }\n          UNION {\n            # author\n\
    \            ?person ^wdt:P50/wdt:P1433/wdt:P4745 target: .\n          }\n   \
    \       UNION {\n            # editor of proceedings\n            ?person ^wdt:P98/wdt:P4745\
    \ target: .\n          }\n        }\n      } .\n      ?work wdt:P50 ?person ;\n\
    \            wdt:P577 ?publication_datetime .\n      ?person rdfs:label ?person_label\
    \ . FILTER (LANG(?person_label) = 'en')\n    }\n    GROUP BY ?work\n  }\n  {{\
    \ sparql_helpers.labels([\"?work\"], languages) }}\n}\nORDER BY DESC(?publication_date)\n\
    LIMIT 500\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_recent-publications.sparql
  title: event_recent-publications
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_recent-publications.sparql'
- name: event_related-events-people
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-related-events-people--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?event ?eventLabel ?eventDescription ?example_person ?example_personLabel WHERE {
      {
        SELECT (COUNT(DISTINCT ?person) AS ?score) ?event (SAMPLE(?person) AS ?example_person) WHERE {
          ?person ^wdt:P823 | ^wdt:P664 | wdt:P1344 | ^wdt:P710 | (^wdt:P98/wdt:P4745) | (^wdt:P50/wdt:P1433/wdt:P4745) | ^wdt:P5804 target:, ?event .
          FILTER (?event != target:)
        }
        GROUP BY ?event
        ORDER BY DESC(?score)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?event", "?example_person"], languages) }}
      {{ sparql_helpers.descriptions(["?event"], languages) }}
    }
    ORDER BY DESC(?score)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_related-events-people.sparql
  title: event_related-events-people
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_related-events-people.sparql'
- name: event_related-events-timelocation
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-related-events-timelocation--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX target:\
    \ <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nPREFIX geof: <http://www.opengis.net/def/function/geosparql/>\n\
    SELECT (ROUND(1000 * ?score_) / 1000 AS ?score) (ROUND(1000 * ?time_score_) /\
    \ 1000 AS ?time_score) (ROUND(1000 * ?location_score_) / 1000 AS ?location_score)\
    \ ?event ?eventLabel WHERE {\n  {\n    SELECT (SUM(?scores) AS ?score_) (MAX(?time_scores)\
    \ AS ?time_score_) (MAX(?location_scores) AS ?location_score_) ?event WHERE {\n\
    \      {\n        SELECT ?event WHERE {\n          {\n            SELECT ?event_type\
    \ WHERE {\n              VALUES ?event_type { wd:Q2020153 wd:Q46855 wd:Q40444998\
    \ }\n            }\n          }\n          ?event wdt:P31/wdt:P279* ?event_type\
    \ .\n        }\n      }\n      {\n        # Around the same time\n        target:\
    \ wdt:P580 | wdt:P585 ?time0 .\n        ?event wdt:P580 | wdt:P585 ?time .\n \
    \       BIND ((365.25 * YEAR(?time0) + 30.5 * MONTH(?time0) + DAY(?time0)) AS\
    \ ?day0)\n        BIND ((365.25 * YEAR(?time) + 30.5 * MONTH(?time) + DAY(?time))\
    \ AS ?day)\n        # TODO: multiple days cause double counting\n        BIND\
    \ (20 / (1 + ABS(?day - ?day0)) AS ?time_scores)\n      }\n      # UNION\n   \
    \   {\n        SELECT ?event (MAX(?inverse_distance) AS ?location_scores) WHERE\
    \ {\n          {\n            SELECT ?event WHERE {\n              {\n       \
    \         SELECT ?event_type WHERE {\n                  VALUES ?event_type { wd:Q2020153\
    \ wd:Q46855 wd:Q40444998 }\n                }\n              }\n             \
    \ ?event wdt:P31/wdt:P279* ?event_type .\n            }\n          }\n       \
    \   # geocoordinate of the query event\n          target: wdt:P276?/wdt:P159?/wdt:P625\
    \ ?geo0 .\n          # geocoordinate of other events\n          ?event wdt:P276?/wdt:P625\
    \ ?geo .\n          # inverse distance\n          BIND ((200 / (1 + geof:distance(?geo,?geo0)))\
    \ AS ?inverse_distance)\n        }\n        GROUP BY ?event\n      }\n      #\
    \ Should online event be listed? \n      # UNION\n      # {\n      #   VALUES\
    \ ?online_event { wd:Q1543677 wd:Q98381855 wd:Q98381912 }\n      #   ?event wdt:P31\
    \ ?online_event .\n      #   BIND(200 AS ?location_scores)\n      # }\n      BIND\
    \ ((?time_scores * ?location_scores) AS ?scores)\n    }\n    GROUP BY ?event\n\
    \  }\n  FILTER (?event != target:)\n  {{ sparql_helpers.labels([\"?event\"], languages)\
    \ }}\n}\nORDER BY DESC(?score)\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_related-events-timelocation.sparql
  title: event_related-events-timelocation
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_related-events-timelocation.sparql'
- name: event_sponsors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-sponsors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?sponsor ?sponsorLabel ?sponsorUrl ?sponsorDescription WHERE {
      target: wdt:P859 ?sponsor .
      BIND (CONCAT("/sponsor/", SUBSTR(STR(?sponsor),32)) AS ?sponsorUrl)
      {{ sparql_helpers.labels(["?sponsor"], languages) }}
      {{ sparql_helpers.descriptions(["?sponsor"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_sponsors.sparql
  title: event_sponsors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_sponsors.sparql'
- name: event_timeline
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-timeline--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Timeline
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?time ?item ?itemLabel ?image WHERE {
      {
        target: wdt:P580 | wdt:P585 ?time .
        OPTIONAL {
          target: wdt:P18 ?image .
        }
        BIND (wd:Q24575110 AS ?item)
      }
      UNION {
        target: wdt:P582 ?time .
        OPTIONAL {
          target: wdt:P18 ?image .
        }
        BIND (wd:Q24575125 AS ?item)
      }
      UNION {
        target: p:P793 [
          ps:P793 ?item ;
          pq:P585 ?time
        ] .
      }
      {{ sparql_helpers.labels(["?item"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_timeline.sparql
  title: event_timeline
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_timeline.sparql'
- name: event_topic-scores
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-topic-scores--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # Topics of works authored by people associated with an event
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?topic ?topicLabel ?topicDescription (CONCAT("/topic/", STRAFTER(STR(?topic),"http://www.wikidata.org/entity/")) AS ?topicUrl) WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          {
            target: wdt:P921 ?topic .
            BIND (50 AS ?score_)
          }
          UNION {
            {
              SELECT DISTINCT ?person WHERE {
                {
                  # speaker, organizer, program committee member
                  target: wdt:P823 | wdt:P664 | wdt:P5804 ?person .
                }
                UNION {
                  # participant
                  ?person wdt:P1344 | ^wdt:P710 target: .
                }
                UNION {
                  # author
                  ?person ^wdt:P50/wdt:P1433/wdt:P4745 target: .
                }
              }
            }
            ?person ^wdt:P50/wdt:P921 ?topic .
            BIND (1 AS ?score_)
          }
          UNION {
            target: ^wdt:P4745/^wdt:P1433/wdt:P921 ?topic .
            BIND (7 AS ?score_)
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
      {{ sparql_helpers.descriptions(["?topic"], languages) }}
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_topic-scores.sparql
  title: event_topic-scores
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_topic-scores.sparql'
- name: event_upcoming-deadlines
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-upcoming-deadlines--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?date ?deadline ?deadlineLabel ?short_name ?event ?eventLabel (CONCAT("/event/", SUBSTR(STR(?event),32)) AS ?eventUrl) ?location ?locationLabel (CONCAT("/location/", SUBSTR(STR(?location),32)) AS ?locationUrl) {
      {
        SELECT ?datetime ?deadline ?event (SAMPLE(?location_) AS ?location) (SAMPLE(?short_name_) AS ?short_name) WHERE {
          ?event p:P793 ?key_event_statement .
          ?key_event_statement ps:P793 ?deadline ;
                               pq:P585 ?datetime .
          ?deadline wdt:P279* wd:Q2404808 .
          # Subtract a day from now to get events on the now date
          # FILTER (NOW() - "P1DT0H0M0.000S"^^xsd:duration < ?datetime)
          OPTIONAL {
            ?event wdt:P276 ?location_
          }
          OPTIONAL {
            ?event wdt:P1813 ?short_name_
          }
        }
        GROUP BY ?datetime ?deadline ?event
      }
      BIND (xsd:date(?datetime) AS ?date)
      {{ sparql_helpers.labels(["?event", "?deadline"], languages) }}
      {{ sparql_helpers.labels_unbound(["?location"], languages) }}
    }
    ORDER BY (?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_upcoming-deadlines.sparql
  title: event_upcoming-deadlines
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_upcoming-deadlines.sparql'
- name: event_uses
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: event-uses--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # Use by people associated with an event
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_persons ?use ?useLabel (CONCAT("/use/", SUBSTR(STR(?use),32)) AS ?useUrl) ?useDescription ?example_person ?example_personLabel (CONCAT("/author/", SUBSTR(STR(?example_person),32)) AS ?example_personUrl) WHERE {
      {
        SELECT (COUNT(DISTINCT ?person) AS ?number_of_persons) ?use (SAMPLE(?person) AS ?example_person) WHERE {
          {
            SELECT DISTINCT ?person WHERE {
              {
                # speaker, organizer, program committee member
                target: wdt:P823 | wdt:P664 | wdt:P5804 ?person .
              }
              UNION {
                # participant
                ?person wdt:P1344 | ^wdt:P710 target: .
              }
              UNION {
                # author
                ?person ^wdt:P50/wdt:P1433/wdt:P4745 target: .
              }
            }
          }
          ?person ^wdt:P50/wdt:P4510 ?use .
        }
        GROUP BY ?use
      }
      {{ sparql_helpers.labels(["?use", "?example_person"], languages) }}
      {{ sparql_helpers.descriptions(["?use"], languages) }}
    }
    ORDER BY DESC(?number_of_persons)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/event_uses.sparql
  title: event_uses
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/event_uses.sparql'
- name: gene_identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: gene-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: identifiers for this gene
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?Value (SAMPLE(?idUrls) AS ?ValueUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q42415497 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?Value))) AS ?idUrls) .
        }
      }
      {{ sparql_helpers.labels(["?Identifier"], languages) }}
      {{ sparql_helpers.descriptions(["?Identifier"], languages) }}
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?Value
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/gene_identifiers.sparql
  title: gene_identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/gene_identifiers.sparql'
- name: gene_orthologs
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: gene-orthologs--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?ortholog ?orthologLabel ?orthologDescription ?taxon ?taxonLabel ?taxonDescription WHERE {
      {
        SELECT ?ortholog ?taxon WHERE {
          target: wdt:P31 wd:Q7187 ;
                  wdt:P684 ?ortholog .
          ?ortholog wdt:P703 ?taxon .
        }
      }
      {{ sparql_helpers.labels(["?ortholog", "?taxon"], languages) }}
      {{ sparql_helpers.descriptions(["?taxon", "?ortholog"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/gene_orthologs.sparql
  title: gene_orthologs
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/gene_orthologs.sparql'
- name: gene_proteins
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: gene-proteins--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?protein ?proteinLabel ?proteinDescription WHERE {
      {
        SELECT ?protein WHERE {
          target: wdt:P31 wd:Q7187 ;
                  wdt:P688 ?protein .
        }
      }
      {{ sparql_helpers.labels(["?protein"], languages) }}
      {{ sparql_helpers.descriptions(["?protein"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/gene_proteins.sparql
  title: gene_proteins
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/gene_proteins.sparql'
- name: gene_transcripts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: gene-transcripts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?transcript_ID ?reference ?referenceLabel ?referenceDescription WHERE {
      {
        SELECT ?transcript_ID ?reference WHERE {
          target: wdt:P31 wd:Q7187 ;
                  p:P704 ?transcriptid_statement .
          ?transcriptid_statement ps:P704 ?transcript_ID ;
                                  prov:wasDerivedFrom/pr:P248 ?reference .
        }
      }
      {{ sparql_helpers.labels(["?reference"], languages) }}
      {{ sparql_helpers.descriptions(["?reference"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/gene_transcripts.sparql
  title: gene_transcripts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/gene_transcripts.sparql'
- name: gene_variants
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: gene-variants--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?variant ?variantLabel ?variantDescription ?types WHERE {
      {
        SELECT ?variant (GROUP_CONCAT(?type_label; SEPARATOR=" // ") AS ?types) WHERE {
          {
            SELECT ?variant ?type WHERE {
              ?variant wdt:P3433 target:
            }
          }
          OPTIONAL {
            ?variant wdt:P279 ?variantType .
            ?variantType rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
          }
        }
        GROUP BY ?variant
      }
      {{ sparql_helpers.labels(["?variant"], languages) }}
      {{ sparql_helpers.descriptions(["?variant"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/gene_variants.sparql
  title: gene_variants
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/gene_variants.sparql'
- name: index-statistics_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: index-statistics-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
    SELECT ?count ?description WHERE {
      {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            ?s ?p ?o
          }
        }
        BIND ("Total number of triples" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            ?s rdf:type wikibase:BestRank
          }
        }
        BIND ("Total number of statements" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            ?p a wikibase:Property
          }
        }
        BIND ("Total number of properties" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P50 []
          }
        }
        BIND ("Links from works to authors" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P69 []
          }
        }
        BIND ("Links from people to where they were educated" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P108 []
          }
        }
        BIND ("Links from people to employers" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P166 []
          }
        }
        BIND ("Links from people to awards" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P212 []
          }
        }
        BIND ("ISBN 13 book numbers" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P225 []
          }
        }
        BIND ("Taxon names" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P234 []
          }
        }
        BIND ("InChIs" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P236 []
          }
        }
        BIND ("ISSNs" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P496 []
          }
        }
        BIND ("ORCIDs" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P625 []
          }
        }
        BIND ("Geolocations" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P638 []
          }
        }
        BIND ("Protein Data Bank IDs" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P686 []
          }
        }
        BIND ("Gene Ontology IDs" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P698 []
          }
        }
        BIND ("PubMed ID" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P818 []
          }
        }
        BIND ("arXiv IDs" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P859 []
          }
        }
        BIND ("Links to sponsors" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P921 []
          }
        }
        BIND ("Links from works to their main subjects" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P932 []
          }
        }
        BIND ("Items with a PubMed Central ID" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P356 []
          }
        }
        BIND ("Items with a DOI" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P1416 []
          }
        }
        BIND ("Links from people to their affiliations" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P2093 []
          }
        }
        BIND ("Author name strings" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P2427 []
          }
        }
        BIND ("Items with a GRID ID" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P2860 []
          }
        }
        BIND ("Citations" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P31 wd:Q13442814.
          }
        }
        BIND ("Scholarly articles" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?c) WHERE {
            [] wdt:P31 []
          }
        }
        BIND ("Things in Wikidata" AS ?d)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?work) AS ?c) WHERE {
            {
              ?work wdt:P31 wd:Q45182324 .
            }
            UNION {
              ?work wdt:P793 wd:Q7316896 .
            }
            UNION {
              ?work wdt:P5824 [] .
            }
          }
        }
        BIND ("Retracted articles" AS ?d)
      }
      BIND (?c AS ?count)
      BIND (?d AS ?description)
    }
    ORDER BY DESC(?c)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/index-statistics_statistics.sparql
  title: index-statistics_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/index-statistics_statistics.sparql'
- name: language-index_works-written-in-the-language
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: language-index-works-written-in-the-language--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?language ?languageLabel (CONCAT("/language/", SUBSTR(STR(?language),32)) AS ?languageUrl) ?languageDescription WHERE {
      {
        SELECT (COUNT(*) AS ?count) ?language WHERE {
          [] wdt:P407 ?language
        }
        GROUP BY ?language
      }
      # This is to get rid of a language number of unknown values
      FILTER (! (STRSTARTS(STR(?language),"_")))
      {{ sparql_helpers.labels(["?language"], languages) }}
      {{ sparql_helpers.descriptions(["?language"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/language-index_works-written-in-the-language.sparql
  title: language-index_works-written-in-the-language
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/language-index_works-written-in-the-language.sparql'
- name: language_recently-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: language-recently-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX target:\
    \ <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nSELECT ?publication_date ?work\
    \ ?workLabel ?workDescription (CONCAT(\"/work/\", SUBSTR(STR(?work),32)) AS ?workUrl)\
    \ WHERE {\n  {\n    SELECT (xsd:date(MAX(?publication_date_)) AS ?publication_date)\
    \ ?work WHERE {\n      {\n        SELECT ?publication_date_ ?work WHERE {\n# \
    \         VALUES ?publication_date_ {\n          #      {% for day in range(-32,\
    \ 1) %} {{ '\"{}T00:00:00Z\"^^xsd:dateTime'.format((datetime.datetime.now().date()\
    \ + datetime.timedelta(day)).isoformat()) }} {% endfor %} \n#        }\n     \
    \     ?work wdt:P407 target: ;\n                wdt:P577 ?publication_date_ ;\n\
    \        }\n        LIMIT 1000\n      }\n    }\n    GROUP BY ?work\n    ORDER\
    \ BY DESC(?publication_date)\n    LIMIT 500\n  }\n  {{ sparql_helpers.labels([\"\
    ?work\"], languages) }}\n  {{ sparql_helpers.descriptions([\"?work\"], languages)\
    \ }}\n}\nORDER BY DESC(?publication_date)\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/language_recently-published-works.sparql
  title: language_recently-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/language_recently-published-works.sparql'
- name: lexeme-index_lexemes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: lexeme-index-lexemes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX dct: <http://purl.org/dc/terms/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?lexeme (?lexeme_label AS ?lexemeLabel) (CONCAT("/lexeme/", SUBSTR(STR(?lexeme),32)) AS ?lexemeUrl) ?language ?languageLabel ?example_work ?example_workLabel ?example_workDescription (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?lexeme (SAMPLE(?language_) AS ?language) (SAMPLE(?work) AS ?example_work) WHERE {
          {
            ?work wdt:P6254 ?lexeme .
          }
          UNION {
            ?lexeme wdt:P1343 ?work ;
                    dct:language [] .
          }
          ?lexeme dct:language ?language_ .
        }
        GROUP BY ?lexeme
        ORDER BY DESC(?count)
        LIMIT 500
      }
      ?lexeme wikibase:lemma ?lexeme_label
      {{ sparql_helpers.labels(["?language", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/lexeme-index_lexemes.sparql
  title: lexeme-index_lexemes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/lexeme-index_lexemes.sparql'
- name: lexeme_works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: lexeme-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?work ?workLabel ?workDescription {
      wd:{{ lexeme }} wdt:P1343 | ^wdt:P6254 ?work
      {{ sparql_helpers.labels(["?work"], languages) }}
      {{ sparql_helpers.descriptions(["?work"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/lexeme_works.sparql
  title: lexeme_works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/lexeme_works.sparql'
- name: license-index_work-counts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: license-index-work-counts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?license ?licenseLabel ?licenseDescription (CONCAT("/license/", SUBSTR(STR(?license),32)) AS ?licenseUrl) WHERE {
      {
        SELECT (COUNT(*) AS ?count) ?license WHERE {
          [] wdt:P275 ?license .
        }
        GROUP BY ?license
      }
      {{ sparql_helpers.labels(["?license"], languages) }}
      {{ sparql_helpers.descriptions(["?license"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/license-index_work-counts.sparql
  title: license-index_work-counts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/license-index_work-counts.sparql'
- name: license_recently-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: license-recently-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel ?workDescription WHERE {
      {
        SELECT (xsd:date(MAX(?publication_date_)) AS ?publication_date) ?work WHERE {
          {
            SELECT ?publication_date_ ?work WHERE {
              ?work wdt:P275 target: .
              OPTIONAL {
                ?work wdt:P577 ?publication_date_ .
              }
            }
            ORDER BY DESC(?publication_date_)
            LIMIT 1100
          }
        }
        GROUP BY ?work
        ORDER BY DESC(?publication_date)
        LIMIT 1000
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
      {{ sparql_helpers.descriptions(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/license_recently-published-works.sparql
  title: license_recently-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/license_recently-published-works.sparql'
- name: license_types-of-work
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: license-types-of-work--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?type ?typeLabel ?typeDescription WHERE {
      {
        SELECT (COUNT(*) AS ?count) ?type WHERE {
          [] wdt:P275 target: ;
             wdt:P31 ?type .
        }
        GROUP BY ?type
      }
      {{ sparql_helpers.labels(["?type"], languages) }}
      {{ sparql_helpers.descriptions(["?type"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/license_types-of-work.sparql
  title: license_types-of-work
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/license_types-of-work.sparql'
- name: location-topic_nearby-researchers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: location-topic-nearby-researchers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    # title: Nearby researchers that work with a specific topic and near a specified geographical entity
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT ?author (SUM(?topic_score) * MAX(?inverse_distance) AS ?score) (SAMPLE(?work) AS ?example_work) WHERE {
          { # Compute distance for authors
            SELECT (MAX(?inverse_distance_) AS ?inverse_distance) ?author WHERE {
              { # Academic institutions on all levels
                SELECT DISTINCT ?organization ?other_geo ?distance WHERE {
                  { # Universities, research centers, etc.
                    SELECT ?university WHERE {
                      VALUES ?university { wd:Q3918 wd:Q1371037 wd:Q7315155 wd:Q31855 wd:Q2385804 }
                    }
                  }
                  {
                    SELECT ?organization ?distance ?other_geo {
                      target1: wdt:P625 ?geo .
                      SERVICE wikibase:around {
                        ?organization wdt:P625 ?other_geo .
                        bd:serviceParam wikibase:center ?geo .
                        bd:serviceParam wikibase:radius "50" .
                        bd:serviceParam wikibase:distance ?distance .
                      }
                    }
                  }
                  ?organization wdt:P361*/wdt:P31/wdt:P279* ?university .
                }
              }
              BIND (1 / (?distance + 1) AS ?inverse_distance_)
              ?author wdt:P108 | wdt:P1416 ?organization .
            }
            GROUP BY ?author
          }
          {
            # A score of 3 for each authorship in the topic
            ?work wdt:P50 ?author .
            FILTER EXISTS {
              ?work wdt:P921/wdt:P279* target2: .
            }
            BIND (3 AS ?topic_score)
          }
          UNION {
            ?author wdt:P101 target2: .
            BIND (20 AS ?topic_score)
          }
        }
        GROUP BY ?author
      }
      {{ sparql_helpers.labels(["?example_work", "?author"], languages) }}
    }
    ORDER BY DESC(?score)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/location-topic_nearby-researchers.sparql
  title: location-topic_nearby-researchers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/location-topic_nearby-researchers.sparql'
- name: location_nearby-locations-as-topics-in-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: location-nearby-locations-as-topics-in-works--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX target:\
    \ <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX p: <http://www.wikidata.org/prop/>\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\n\
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>\nPREFIX wd: <http://www.wikidata.org/entity/>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    PREFIX geof: <http://www.opengis.net/def/function/geosparql/>\nSELECT (ROUND(1000\
    \ * ?distance_) / 1000 AS ?distance) ?work ?workLabel (CONCAT(\"/work/\", SUBSTR(STR(?work),32))\
    \ AS ?workUrl) ?location ?locationLabel (CONCAT(\"/topic/\", SUBSTR(STR(?location),32))\
    \ AS ?locationUrl) WHERE {\n  {\n    SELECT ?work ?location (MIN(?distances) AS\
    \ ?distance_) WHERE {\n      ?work wdt:P921 ?location .\n      ?location p:P625\
    \ ?other_geo_statement .\n      # Some locations have unknown geocoordinates indicated\
    \ with novalue\n      # psv will remove them. \n      ?other_geo_statement ps:P625\
    \ ?other_geo .\n      ?other_geo_statement psv:P625 [] .\n      # Remove articles\
    \ from encyclopedia and dictionaries\n      # Filter is more expensive when applied\
    \ here. \n      MINUS {\n        ?work wdt:P31 wd:Q17329259\n      }\n      MINUS\
    \ {\n        ?work wdt:P31 wd:Q4423781\n      }\n      target: wdt:P159*/wdt:P625\
    \ ?geo .\n      BIND (geof:distance(?other_geo,?geo) AS ?distances)\n    }\n \
    \   GROUP BY ?work ?location\n    ORDER BY ?distance_\n    LIMIT 500\n  }\n  {{\
    \ sparql_helpers.labels([\"?location\", \"?work\"], languages) }}\n}\nORDER BY\
    \ ?distance\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/location_nearby-locations-as-topics-in-works.sparql
  title: location_nearby-locations-as-topics-in-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/location_nearby-locations-as-topics-in-works.sparql'
- name: location_nearby-organizations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: location-nearby-organizations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: Nearby academic institutions around a specified geographic entity.
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
    SELECT ?distance ?unit ?unitLabel ?organization ?organizationLabel ?organizationDescription (CONCAT("/organization/", SUBSTR(STR(?organization),32)) AS ?organizationUrl) WHERE {
      { # Compute distance.
        SELECT ?organization ?distance ?unit WHERE {
          { # Academic institutions on all levels
            SELECT DISTINCT ?organization ?other_geo WHERE {
              { # Universities, research centers, etc.
                SELECT ?university WHERE {
                  VALUES ?university { wd:Q3918 wd:Q1371037 wd:Q7315155 wd:Q31855 }
                }
              }
              ?organization wdt:P361*/wdt:P31/wdt:P279* ?university .
              ?organization wdt:P625 ?other_geo .
            }
          }
          target: wdt:P159*/wdt:P625 ?geo .
          BIND (geof:distance(?other_geo,?geo) AS ?distance)
          BIND (wd:Q828224 AS ?unit)
          FILTER (?distance < 250)
        }
      }
      {{ sparql_helpers.labels(["?unit", "?organization"], languages) }}
      {{ sparql_helpers.descriptions(["?organization"], languages) }}
    }
    ORDER BY ?distance
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/location_nearby-organizations.sparql
  title: location_nearby-organizations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/location_nearby-organizations.sparql'
- name: ontology-index_most-used-ontology
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ontology-index-most-used-ontology--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?ontology ?ontologyLabel ?ontologyUrl ?described_by_example ?described_by_exampleLabel ?example_use ?example_useLabel WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?ontology (CONCAT("/ontology/", SUBSTR(STR(?ontology),32)) AS ?ontologyUrl) (SAMPLE(?described_by) AS ?described_by_example) (SAMPLE(?work) AS ?example_use) WHERE {
          ?work wdt:P4510 ?ontology .
          ?ontology wdt:P31/wdt:P279* wd:Q324254 .
          OPTIONAL {
            ?ontology wdt:P1343 ?described_by .
          }
        }
        GROUP BY ?ontology
      }
      {{ sparql_helpers.labels(["?example_use", "?ontology"], languages) }}
      {{ sparql_helpers.labels_unbound(["?described_by_example"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ontology-index_most-used-ontology.sparql
  title: ontology-index_most-used-ontology
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ontology-index_most-used-ontology.sparql'
- name: ontology_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ontology-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      BIND (target: AS ?ontology)
      {
        BIND (1 AS ?order)
        BIND ("Website" AS ?description)
        ?ontology wdt:P856 ?value .
        BIND (?value AS ?valueUrl)
      }
      UNION {
        SELECT (2 AS ?order) ("Maintainer(s)" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P126 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (3 AS ?order) ("Contributors" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P50 | wdt:P178 | wdt:P767 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (4 AS ?order) ("Part of" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../topic/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P361 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (5 AS ?order) ("License" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../topic/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P275 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (6 AS ?order) ("Wikidata property" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P1687 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        SELECT (7 AS ?order) ("üõë Replaced by" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          ?iri wdt:P1365 target: .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ontology_data.sparql
  title: ontology_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ontology_data.sparql'
- name: ontology_recent-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ontology-recent-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel WHERE {
      {
        SELECT ?publication_datetime ?work WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P577 ?publication_datetime .
        }
        ORDER BY DESC(?publication_datetime)
        LIMIT 500
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ontology_recent-works.sparql
  title: ontology_recent-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ontology_recent-works.sparql'
- name: ontology_reuse-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ontology-reuse-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?source ?sourceLabel (CONCAT("../ontology/", ?qs) AS ?sourceUrl) ?target ?targetLabel (CONCAT("../ontology/", ?qt) AS ?targetUrl) WHERE {
      { # Ontologies that are used by the target: ontology
        BIND (target: AS ?source)
        ?source wdt:P2283 ?target .
        BIND (SUBSTR(STR(?source),32) AS ?qs)
        BIND (SUBSTR(STR(?target),32) AS ?qt)
        ?source rdfs:label ?source_string .
        FILTER (LANG(?source_string) = 'en')
        BIND (COALESCE(?source_string, ?qt) AS ?sourceLabel)
        ?target rdfs:label ?target_string .
        FILTER (LANG(?target_string) = 'en')
        BIND (COALESCE(?target_string, ?qt) AS ?targetLabel)
      }
      UNION { # Ontologies that use the target: ontology
        BIND (target: AS ?target)
        ?source wdt:P2283 ?target .
        BIND (SUBSTR(STR(?source),32) AS ?qs)
        BIND (SUBSTR(STR(?target),32) AS ?qt)
        ?source rdfs:label ?source_string .
        FILTER (LANG(?source_string) = 'en')
        BIND (COALESCE(?source_string, ?qt) AS ?sourceLabel)
        ?target rdfs:label ?target_string .
        FILTER (LANG(?target_string) = 'en')
        BIND (COALESCE(?target_string, ?qt) AS ?targetLabel)
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ontology_reuse-graph.sparql
  title: ontology_reuse-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ontology_reuse-graph.sparql'
- name: ontology_used-by-ontologies
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ontology-used-by-ontologies--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../ontology/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) WHERE {
      ?usedByOntology wdt:P2283 target: .
      BIND (SUBSTR(STR(?usedByOntology),32) AS ?q)
      ?usedByOntology rdfs:label ?value_string .
      FILTER (LANG(?value_string) = 'en')
      BIND (COALESCE(?value_string, ?q) AS ?value_)
    }
    GROUP BY ?usedByOntology
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ontology_used-by-ontologies.sparql
  title: ontology_used-by-ontologies
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ontology_used-by-ontologies.sparql'
- name: ontology_used-ontologies
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: ontology-used-ontologies--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../ontology/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) WHERE {
      target: wdt:P2283 ?usedOntology .
      BIND (SUBSTR(STR(?usedOntology),32) AS ?q)
      ?usedOntology rdfs:label ?value_string .
      FILTER (LANG(?value_string) = 'en')
      BIND (COALESCE(?value_string, ?q) AS ?value_)
    }
    GROUP BY ?usedOntology
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/ontology_used-ontologies.sparql
  title: ontology_used-ontologies
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/ontology_used-ontologies.sparql'
- name: organization-curation_authors-no-initials
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-curation-authors-no-initials--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Find frequent unresolved author names that are coauthors with
    # people associated with an organization.
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?works ?researcher ?researcherLabel (CONCAT("/author/", SUBSTR(STR(?researcher),32)) AS ?researcherUrl) ?author_name (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?author_name), "&filter=wdt%3AP50+wd%3A", ?qid) AS ?resolver_url) WHERE {
      {
        #  SELECT DISTINCT ?author_name (COUNT(DISTINCT ?work) as ?count) ?author (REPLACE(STR(?author), ".*Q", "Q") AS ?qid) WHERE {
        SELECT (COUNT(DISTINCT ?work) AS ?works) ?author_name (SAMPLE(?researcher_) AS ?researcher) (REPLACE(STR(?researcher), ".*Q", "Q") AS ?qid) WHERE {
          {
            SELECT DISTINCT ?researcher_ WHERE {
              ?researcher_ (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          ?work wdt:P50 ?researcher_ ;
                wdt:P2093 ?author_name .
          FILTER (!REGEX(LCASE(?author_name),"^.*?((\\\\b\\\\w{1}\\\\b)|[.]).*$")) .
        }
        GROUP BY ?author_name
        ORDER BY DESC(?works)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?researcher"], languages) }}
    }
    ORDER BY DESC(?works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-curation_authors-no-initials.sparql
  title: organization-curation_authors-no-initials
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-curation_authors-no-initials.sparql'
- name: organization-curation_authors-with-initials
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-curation-authors-with-initials--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Find frequent unresolved author names that are coauthors with
    # people associated with an organization.
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?works ?researcher ?researcherLabel ?author_name (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?author_name), "&filter=wdt%3AP50+wd%3A", ?qid) AS ?resolver_url) WHERE {
      {
        #  SELECT DISTINCT ?author_name (COUNT(DISTINCT ?work) as ?count) ?author (REPLACE(STR(?author), ".*Q", "Q") AS ?qid) WHERE {
        SELECT (COUNT(DISTINCT ?work) AS ?works) ?author_name (SAMPLE(?researcher_) AS ?researcher) (REPLACE(STR(?researcher), ".*Q", "Q") AS ?qid) WHERE {
          {
            SELECT DISTINCT ?researcher_ WHERE {
              ?researcher_ (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          ?work wdt:P50 ?researcher_ ;
                wdt:P2093 ?author_name .
          FILTER (REGEX(LCASE(?author_name),"^.*?((\\\\b\\\\w{1}\\\\b)|[.]).*$")) .
        }
        GROUP BY ?author_name
        ORDER BY DESC(?works)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?researcher"], languages) }}
    }
    ORDER BY DESC(?works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-curation_authors-with-initials.sparql
  title: organization-curation_authors-with-initials
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-curation_authors-with-initials.sparql'
- name: organization-curation_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-curation-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(?work) AS ?count) ?author_name (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?author_name)) AS ?author_resolver_url) WHERE {
      {
        SELECT DISTINCT ?author_name {
          ?researcher_ (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
          ?researcher_ skos:altLabel | rdfs:label ?author_name_ .
          # The SELECT-DISTINCT-BIND trick here is due to Stanislav Kralin
          # https://stackoverflow.com/questions/53933564
          BIND (STR(?author_name_) AS ?author_name)
        }
        LIMIT 2000
      }
      OPTIONAL {
        ?work wdt:P2093 ?author_name .
      }
    }
    GROUP BY ?author_name
    HAVING (?count > 0)
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-curation_authors.sparql
  title: organization-curation_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-curation_authors.sparql'
- name: organization-topic_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-topic-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?works ?author ?authorLabel ?authorDescription (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?works) ?author (SAMPLE(?work) AS ?example_work) {
          {
            ?author ?p1 target1: .
          }
          UNION {
            ?author ?p2 ?something .
            ?something wdt:P361 target1: .
          }
          ?work wdt:P50 ?author ;
                wdt:P921/wdt:P279* target2: .
        }
        GROUP BY ?author
        ORDER BY DESC(?works)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?example_work", "?author"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    }
    ORDER BY DESC(?works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-topic_authors.sparql
  title: organization-topic_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-topic_authors.sparql'
- name: organization-topic_recent-literature
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-topic-recent-literature--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?authors ?authorsUrl WHERE {
      {
        SELECT (xsd:date(MAX(?publication_date_)) AS ?publication_date) ?work (GROUP_CONCAT(DISTINCT ?author_; SEPARATOR=", ") AS ?authors) (CONCAT("../../../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) {
          {
            ?author ?p1 target1: .
          }
          UNION {
            ?author ?p2 ?something .
            ?something wdt:P361 target1: .
          }
          ?work wdt:P50 ?author ;
                wdt:P921 target2: .
          ?author rdfs:label ?author_ .
          FILTER (LANG(?author_) = 'en')
          ?work wdt:P577 ?publication_date_ .
        }
        GROUP BY ?work
        ORDER BY DESC(?publication_date)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-topic_recent-literature.sparql
  title: organization-topic_recent-literature
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-topic_recent-literature.sparql'
- name: organization-use_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-use-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?works ?author ?authorLabel ?authorDescription (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT ?author (COUNT(DISTINCT ?work) AS ?works) (SAMPLE(?work) AS ?example_work) WHERE {
          {
            SELECT DISTINCT ?author WHERE {
              ?author (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target1: .
            }
          }
          ?work wdt:P50 ?author ;
                wdt:P4510 target2: .
        }
        GROUP BY ?author
      }
      {{ sparql_helpers.labels(["?example_work", "?author"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    }
    ORDER BY DESC(?works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-use_authors.sparql
  title: organization-use_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-use_authors.sparql'
- name: organization-use_recent-literature
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-use-recent-literature--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) WHERE {
      {
        SELECT DISTINCT ?researcher WHERE {
          ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target1: .
        }
      }
      ?work wdt:P50 ?researcher ;
            wdt:P4510 target2: .
      OPTIONAL {
        ?work wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?publication_date)
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization-use_recent-literature.sparql
  title: organization-use_recent-literature
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization-use_recent-literature.sparql'
- name: organization_advisor-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-advisor-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author1 ?author1Label ?rgb ?author2 ?author2Label WHERE {
      {
        SELECT DISTINCT ?author1 ?author2 ?rgb WHERE {
          VALUES ?organisation { target: }
          {
            ?author1 wdt:P108 ?organisation .
          }
          UNION {
            ?author1 wdt:P1416 [ wdt:P361* ?organisation ] .
          }
          {
            ?author2 wdt:P108 ?organisation .
          }
          UNION {
            ?author2 wdt:P1416 [ wdt:P361* ?organisation ] .
          }
          {
            ?author1 wdt:P184 ?author2
          }
          UNION {
            ?author2 wdt:P185 ?author1
          }
          OPTIONAL {
            ?author1 wdt:P21 ?gender1
          } .
          BIND (IF(?gender1 = wd:Q6581097,"3182BD","E6550D") AS ?rgb)
        }
      }
      {{ sparql_helpers.labels(["?author1", "?author2"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_advisor-graph.sparql
  title: organization_advisor-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_advisor-graph.sparql'
- name: organization_awards
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-awards--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?award ?awardLabel ?recipients ?recipientsUrl WHERE {
      {
        SELECT (COUNT(?researcher) AS ?count) ?award (GROUP_CONCAT(?researcher_label; SEPARATOR=", ") AS ?recipients) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?researcher),32); SEPARATOR=",")) AS ?recipientsUrl) WHERE {
          # hint:Query hint:optimizer "None" .
          {
            SELECT DISTINCT ?researcher WHERE {
              ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          ?researcher wdt:P166 ?award .
          ?researcher rdfs:label ?researcher_label . FILTER (LANG(?researcher_label) = 'en')
        }
        GROUP BY ?award
      }
      {{ sparql_helpers.labels(["?award"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_awards.sparql
  title: organization_awards
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_awards.sparql'
- name: organization_co-author-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-co-author-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author1 ?author1Label ?image1 ?rgb ?author2 ?author2Label ?image2 WHERE {
      {
        SELECT ?author1 (SAMPLE(?image1_) AS ?image1) ?author2 (SAMPLE(?image2_) AS ?image2) (SAMPLE(?rgb_) AS ?rgb) WHERE {
          target: ^wdt:P361*/^(wdt:P108 | wdt:P1416 | wdt:P463) ?author1, ?author2 .
          ?work wdt:P50 ?author1, ?author2 .
          # Only display co-authorship for certain types of documents
          # Journal and conference articles, books, not (yet?) software
          VALUES ?publication_type { wd:Q13442814 wd:Q571 wd:Q26973022 wd:Q17928402 wd:Q947859 wd:Q54670950 }
          FILTER EXISTS {
            ?work wdt:P31 ?publication_type .
          }
          # No self-links.
          FILTER (?author1 != ?author2)
          # Images
          OPTIONAL {
            ?author1 wdt:P18 ?image1_
          }
          OPTIONAL {
            ?author2 wdt:P18 ?image2_
          }
          # Coloring of the nodes
          BIND ("FFFFFF" AS ?rgb_)
        }
        GROUP BY ?author1 ?author2
      }
      {{ sparql_helpers.labels(["?author2", "?author1"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_co-author-graph.sparql
  title: organization_co-author-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_co-author-graph.sparql'
- name: organization_co-author-normalized-citations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-co-author-normalized-citations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year (SUM(?citations_per_author_) AS ?citations_per_author) ?researcherLabel WHERE {
      # Label the results
      { # Find works of the researchers and count the number of citations
        SELECT ?researcher ?work ?year (COUNT(DISTINCT ?citing_work) / COUNT(DISTINCT ?researcher_of_paper) AS ?citations_per_author_) WHERE {
          { # Find researchers affiliated with the organization
            SELECT DISTINCT ?researcher WHERE {
              ?researcher wdt:P108 | wdt:P463 | wdt:P1416/wdt:P361* target: .
            }
          }
          ?work wdt:P50 | wdt:P2093 ?researcher_of_paper .
          ?work wdt:P50 ?researcher .
          ?citing_work wdt:P2860 ?work .
          ?work wdt:P577 ?date .
          BIND (STR(YEAR(?date)) AS ?year)
        }
        GROUP BY ?work ?researcher ?year
      }
      {{ sparql_helpers.labels(["?researcher"], languages) }}
    }
    GROUP BY ?year ?researcher ?researcherLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_co-author-normalized-citations.sparql
  title: organization_co-author-normalized-citations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_co-author-normalized-citations.sparql'
- name: organization_employees-and-affiliated
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-employees-and-affiliated--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\n# title: Employees\
    \ and affiliated with a specified organization\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\nPREFIX wd: <http://www.wikidata.org/entity/>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    SELECT (SAMPLE(?number_of_works_) AS ?works) (SAMPLE(?wikis_) AS ?wikis) ?researcher\
    \ ?researcherLabel ?researcherDescription (SAMPLE(?orcid_) AS ?orcid) WHERE {\n\
    \  {\n    SELECT (COUNT(?work) AS ?number_of_works_) ?researcher WHERE {\n   \
    \   {\n        SELECT DISTINCT ?researcher WHERE {\n          ?researcher (wdt:P108\
    \ | wdt:P463 | wdt:P1416)/wdt:P361* target: .\n        }\n      }\n      # No\
    \ biological pathways; they skew the statistics too much \n      MINUS {\n   \
    \     ?work wdt:P31 wd:Q4915012\n      }\n      # This OPTIONAL query should be\
    \ after the MINUS query, otherwise\n      # researchers might not show if they\
    \ do not have any papers.\n      OPTIONAL {\n        ?work wdt:P50 ?researcher\
    \ .\n      }\n    }\n    GROUP BY ?researcher\n  }\n  OPTIONAL {\n    ?researcher\
    \ wdt:P496 ?orcid_ .\n  }\n  OPTIONAL {\n    ?researcher wikibase:sitelinks ?wikis_\n\
    \  }\n  {{ sparql_helpers.labels([\"?researcher\"], languages) }}\n  {{ sparql_helpers.descriptions([\"\
    ?researcher\"], languages) }}\n}\nGROUP BY ?researcher ?researcherLabel ?researcherDescription\n\
    ORDER BY DESC(?works)\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_employees-and-affiliated.sparql
  title: organization_employees-and-affiliated
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_employees-and-affiliated.sparql'
- name: organization_gender-distribution
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-gender-distribution--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?gender ?genderLabel WHERE {
      {
        SELECT (COUNT(DISTINCT ?researcher) AS ?count) ?gender WHERE {
          ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
          ?researcher wdt:P21 ?gender .
        }
        GROUP BY ?gender
      }
      {{ sparql_helpers.labels(["?gender"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_gender-distribution.sparql
  title: organization_gender-distribution
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_gender-distribution.sparql'
- name: organization_most-cited-papers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-most-cited-papers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Bubble chart of most cited works of first author associated
    # with an organization
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?work ?workLabel WHERE {
      # Label the works
      { # Find researchers associated with the organization and count
        # the number of citations.
        SELECT (COUNT(DISTINCT ?citing_work) AS ?count) ?work WHERE {
          ?researcher wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*) target: .
          ?work p:P50 ?researcher_statement .
          ?researcher_statement ps:P50 ?researcher .
          ?researcher_statement pq:P1545 "1" .
          ?citing_work wdt:P2860 ?work .
        }
        GROUP BY ?work
        ORDER BY DESC(?count)
        LIMIT 20
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_most-cited-papers.sparql
  title: organization_most-cited-papers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_most-cited-papers.sparql'
- name: organization_page-production
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-page-production--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Pages per year bar chart of an organization
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year (SUM(?pages_per_author) AS ?number_of_pages) ?researcher ?researcherLabel WHERE {
      {
        SELECT ?researcher ?work ?year (SAMPLE(?pages) / COUNT(?researcher_of_paper) AS ?pages_per_author) WHERE {
          {
            SELECT DISTINCT ?researcher WHERE {
              ?researcher wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*) target: .
            }
          }
          ?work (wdt:P50 | wdt:P2093) ?researcher_of_paper .
          # Disabled to only look on scholarly articles
          # ?work wdt:P31 wd:Q13442814 .
          ?work wdt:P50 ?researcher ;
                wdt:P1104 ?pages ;
                wdt:P577 ?date .
          BIND (STR(YEAR(?date)) AS ?year)
        }
        GROUP BY ?work ?researcher ?year
      }
      {{ sparql_helpers.labels(["?researcher"], languages) }}
    }
    GROUP BY ?year ?researcher ?researcherLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_page-production.sparql
  title: organization_page-production
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_page-production.sparql'
- name: organization_recent-citations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-recent-citations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?publication_date ?citing_work ?citing_workLabel ?work ?workLabel WHERE {
      ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
      ?work wdt:P50 ?researcher .
      ?citing_work wdt:P2860 ?work .
      ?citing_work wdt:P577 ?publication_datetime .
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?work", "?citing_work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_recent-citations.sparql
  title: organization_recent-citations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_recent-citations.sparql'
- name: organization_recent-literature
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-recent-literature--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel ?researchers ?researchersUrl WHERE {
      {
        SELECT ?work (MIN(?publication_datetime_) AS ?publication_datetime) WHERE {
          {
            SELECT DISTINCT ?researcher WHERE {
              ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          ?work wdt:P50 ?researcher ;
                wdt:P577 ?publication_datetime_ .
        }
        GROUP BY ?work
        ORDER BY DESC(?publication_datetime)
        LIMIT 200
      }
      {
        SELECT ?work (GROUP_CONCAT(?researcher_label; SEPARATOR=', ') AS ?researchers) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?researcher),32); SEPARATOR=",")) AS ?researchersUrl) WHERE {
          {
            SELECT DISTINCT ?researcher WHERE {
              ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          {
            SELECT ?work (MIN(?publication_datetime_) AS ?publication_datetime) WHERE {
              {
                SELECT DISTINCT ?researcher WHERE {
                  ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
                }
              }
              ?work wdt:P50 ?researcher ;
                    wdt:P577 ?publication_datetime_ .
            }
            GROUP BY ?work
            ORDER BY DESC(?publication_datetime)
            LIMIT 200
          }
          {
            # GROUP_CONCAT cannot honor sorting, but this was an attempt
            SELECT ?work ?researcher ?researcher_label WHERE {
              ?work p:P50 [
                ps:P50 ?researcher ;
                pq:P1545 ?order
              ] .
              BIND (xsd:integer(?order) AS ?n)
              ?researcher rdfs:label ?researcher_label . FILTER (LANG(?researcher_label) = 'en')
            }
            ORDER BY ?n
          }
        }
        GROUP BY ?work
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_recent-literature.sparql
  title: organization_recent-literature
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_recent-literature.sparql'
- name: organization_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?researchers ?topic ?topicLabel (CONCAT("/topic/", SUBSTR(STR(?topic),32)) AS ?topicUrl) ("üîé" AS ?zoom)
      (CONCAT("{{ q }}/topic/", SUBSTR(STR(?topic), 32)) AS ?zoomUrl)
    ?topicDescription ?samplework ?sampleworkLabel (CONCAT("/work/", SUBSTR(STR(?samplework),32)) AS ?sampleworkUrl) WHERE {
      {
        SELECT DISTINCT ?topic (COUNT(DISTINCT ?researcher) AS ?researchers) (SAMPLE(?work) AS ?samplework) WHERE {
          {
            SELECT DISTINCT ?researcher WHERE {
              ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          ?work wdt:P50 ?researcher .
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic
        ORDER BY DESC(?researchers)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?topic", "?samplework"], languages) }}
      {{ sparql_helpers.descriptions(["?topic"], languages) }}
    }
    GROUP BY ?researchers ?topic ?topicLabel ?topicDescription ?samplework ?sampleworkLabel
    ORDER BY DESC(?researchers)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_topics.sparql
  title: organization_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_topics.sparql'
- name: organization_uses
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organization-uses--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?researchers ?use ?useLabel (CONCAT("/use/", SUBSTR(STR(?use),32)) AS ?useUrl) ("üîé" AS ?zoom)
      (CONCAT("{{ q }}/use/", SUBSTR(STR(?use), 32)) AS ?zoomUrl)
    ?useDescription ?samplework ?sampleworkLabel (CONCAT("/work/", SUBSTR(STR(?samplework),32)) AS ?sampleworkUrl) WHERE {
      {
        SELECT DISTINCT ?use (COUNT(DISTINCT ?researcher) AS ?researchers) (SAMPLE(?work) AS ?samplework) WHERE {
          {
            SELECT DISTINCT ?researcher WHERE {
              ?researcher (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* target: .
            }
          }
          ?work wdt:P50 ?researcher .
          ?work wdt:P4510 ?use .
        }
        GROUP BY ?use
        ORDER BY DESC(?researchers)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?samplework", "?use"], languages) }}
      {{ sparql_helpers.descriptions(["?use"], languages) }}
    }
    GROUP BY ?researchers ?use ?useLabel ?useDescription ?samplework ?sampleworkLabel
    ORDER BY DESC(?researchers)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organization_uses.sparql
  title: organization_uses
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organization_uses.sparql'
- name: organizations_citations-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-citations-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:LineChart
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year_of_citation ?number_of_citations ?organization ?organizationLabel WHERE {
      # Since 1990
      # FILTER (?year_of_citation >= "1990")
      # Label the results
      { # Count citations per year per organization
        SELECT ?year_of_citation (COUNT(?citing_work) AS ?number_of_citations) ?organization WHERE {
          { # Find works author by the organization
            SELECT DISTINCT ?work ?organization WHERE {
              { # Bind organizations to variable
                SELECT ?organization WHERE {
                  #    VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
                }
              }
              ?work wdt:P50/(wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*)) ?organization .
            }
          }
          ?citing_work wdt:P2860 ?work .
          ?citing_work wdt:P577 ?publication_date .
          BIND (STR(YEAR(?publication_date)) AS ?year_of_citation)
        }
        GROUP BY ?year_of_citation ?organization
      }
      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    ORDER BY ?year_of_citation
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_citations-per-year.sparql
  title: organizations_citations-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_citations-per-year.sparql'
- name: organizations_citations-to-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-citations-to-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:LineChart
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (?year_of_citation AS ?year) (?number_of_citations / ?number_of_works AS ?citations_to_works_ratio) ?number_of_works ?number_of_citations ?organization ?organizationLabel WHERE {
      # Join the work and citation counts
      { # Count the number of citations received per year per organization
        SELECT ?year_of_citation (COUNT(?work) AS ?number_of_citations) ?organization WHERE {
          { # Find works associated with the organizations
            SELECT
            # Should not count authors twice
            DISTINCT ?work ?organization WHERE {
              { # Bind organizations to variable
                SELECT ?organization WHERE {
                  #    VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
                }
              }
              ?author wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*) ?organization .
              ?work wdt:P50 ?author .
            }
          }
          ?citing_work wdt:P2860 ?work .
          ?citing_work wdt:P577 ?citing_publication_date .
          BIND (STR(YEAR(?citing_publication_date)) AS ?year_of_citation)
        }
        GROUP BY ?year_of_citation ?organization
      }
      { # Count the number of works published per year per organization
        SELECT ?year_of_cited (COUNT(?work) AS ?number_of_works) ?organization WHERE {
          { # Find works associated with the organizations
            SELECT
            # Should not count authors twice
            DISTINCT ?work ?organization WHERE {
              { # Bind organizations to variable
                SELECT ?organization WHERE {
                  #    VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
                }
              }
              ?author wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*) ?organization .
              ?work wdt:P50 ?author .
            }
          }
          ?work wdt:P577 ?cited_publication_date .
          BIND (STR(YEAR(?cited_publication_date)) AS ?year_of_cited)
        }
        GROUP BY ?year_of_cited ?organization
      }
      FILTER (?year_of_citation = ?year_of_cited)
      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    ORDER BY ?year_of_citation
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_citations-to-works.sparql
  title: organizations_citations-to-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_citations-to-works.sparql'
- name: organizations_coauthorships
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-coauthorships--named_queries_qlever@scholia.toolforge.org
  sparql: "PREFIX bd: <http://www.bigdata.com/rdf#>\nPREFIX wd: <http://www.wikidata.org/entity/>\n\
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\n\
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?author1\
    \ ?author1Label ?author2 ?author2Label ?work ?workLabel ?pubdate WHERE {\n  VALUES\
    \ ?organization1 { \n   {% for q in qs %} wd:{{ q }} {% endfor %}\n  }\n  VALUES\
    \ ?organization2 {\n   {% for q in qs %} wd:{{ q }} {% endfor %}\n  } \n  ?author1\
    \ ?v1 ?organization1 . \n  ?author2 ?v2 ?organization2 . \n  ?work wdt:P50 ?author1,\
    \ ?author2 ;\n        wdt:P577 ?pubdate .\n  FILTER (STR(?author1) < STR(?author2)\
    \ && ?organization1 != ?organization2)\n  ?author1 rdfs:label ?author1Label .\
    \ FILTER(LANG(?author1Label)=\"en\")\n  ?author2 rdfs:label ?author2Label . FILTER(LANG(?author2Label)=\"\
    en\")\n  ?work rdfs:label ?workLabel . FILTER(LANG(?workLabel)=\"en\")\n}\nORDER\
    \ BY DESC(?pubdate)\nLIMIT 500\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_coauthorships.sparql
  title: organizations_coauthorships
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_coauthorships.sparql'
- name: organizations_list
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-list--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?organization ?organizationLabel ?organizationDescription ?location ?countryLabel WHERE {
      {
        SELECT ?organization (SAMPLE(?location_) AS ?location) (SAMPLE(?country_) AS ?country) WHERE {
          #    VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
          OPTIONAL {
            ?organization wdt:P131 | wdt:P159 ?location_
          }
          OPTIONAL {
            ?organization wdt:P17 ?country_
          }
        }
        GROUP BY ?organization
      }
      {{ sparql_helpers.labels(["?organization", "?country"], languages) }}
      {{ sparql_helpers.descriptions(["?organization"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_list.sparql
  title: organizations_list
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_list.sparql'
- name: organizations_topic-tree-map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-topic-tree-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:TreeMap
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_works ?topic ?topicLabel ?organization ?organizationLabel WHERE {
      # Join the work and citation counts
      { # Count the number of works per topic per organization
        SELECT (COUNT(?work) AS ?number_of_works) ?topic ?organization WHERE {
          { # Find works associated with the organizations
            SELECT
            # Should not count authors twice
            DISTINCT ?work ?organization WHERE {
              { # Bind organizations to variable
                SELECT ?organization WHERE {
                  #    VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
                }
              }
              ?work wdt:P50/(wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*)) ?organization .
            }
          }
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic ?organization
      }
      {{ sparql_helpers.labels(["?organization", "?topic"], languages) }}
    }
    ORDER BY DESC(?number_of_works)
    LIMIT 100
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_topic-tree-map.sparql
  title: organizations_topic-tree-map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_topic-tree-map.sparql'
- name: organizations_topic-tree
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-topic-tree--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_works ?topic ?topicLabel ?organization ?organizationLabel WHERE {
      # Label the items returned
      { # Count the number of works per topic per organization
        SELECT (COUNT(?work) AS ?number_of_works) ?topic ?organization WHERE {
          { # Find works associated with the organizations
            SELECT
            # Should not count authors twice
            DISTINCT ?work ?organization WHERE {
              { # Bind organizations to variable
                SELECT ?organization WHERE {
                  #    VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
                }
              }
              ?work wdt:P50/(wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*)) ?organization .
            }
          }
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic ?organization
      }
      {{ sparql_helpers.labels(["?topic", "?organization"], languages) }}
    }
    ORDER BY DESC(?number_of_works)
    LIMIT 100
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_topic-tree.sparql
  title: organizations_topic-tree
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_topic-tree.sparql'
- name: organizations_works-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: organizations-works-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:LineChart
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year (COUNT(?work) AS ?number_of_works) ?organization ?organizationLabel WHERE {
      {
        SELECT DISTINCT ?year ?work ?organization WHERE {
          # hint:Query hint:optimizer "None".
          #      VALUES ?organization { {% for q in qs %} wd:{{ q }} {% endfor %} }
          ?author wdt:P108 | wdt:P463 | (wdt:P1416/wdt:P361*) ?organization .
          ?work wdt:P50 ?author .
          ?work wdt:P577 ?publication_date .
          BIND (STR(YEAR(?publication_date)) AS ?year)
        }
        GROUP BY ?work ?year ?organization
      }
      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    GROUP BY ?year ?organization ?organizationLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/organizations_works-per-year.sparql
  title: organizations_works-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/organizations_works-per-year.sparql'
- name: pathway-index_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: pathway-index-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?description WHERE {
      {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P2410 [] .
          }
        }
        BIND ("Total number of WikiPathways pathways" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(DISTINCT ?article) AS ?count) WHERE {
            VALUES ?database { wdt:P2410 wdt:P3937 }
            [] ?database [] ;
               wdt:P2860 ?article .
          }
        }
        BIND ("Total number of articles cited by pathways" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P3937 [] .
          }
        }
        BIND ("Total number of Reactome pathways" AS ?description)
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/pathway-index_statistics.sparql
  title: pathway-index_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/pathway-index_statistics.sparql'
- name: pathway_citing-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: pathway-citing-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?citations ?publication_date ?citing_work ?citing_workLabel WHERE {
      {
        SELECT (MIN(?date) AS ?publication_date) (COUNT(?citing_citing_work) AS ?citations) ?citing_work WHERE {
          ?citing_work wdt:P2860 target: .
          OPTIONAL {
            ?citing_work wdt:P577 ?datetime .
            BIND (xsd:date(?datetime) AS ?date)
          }
          OPTIONAL {
            ?citing_citing_work wdt:P2860 ?citing_work
          }
        }
        GROUP BY ?citing_work
      }
      {{ sparql_helpers.labels(["?citing_work"], languages) }}
    }
    ORDER BY DESC(?citations) DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/pathway_citing-articles.sparql
  title: pathway_citing-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/pathway_citing-articles.sparql'
- name: pathway_optional-data-values
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: pathway-optional-data-values--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?wpid ?organism ?organismLabel ?pathwayDescription WHERE {
      VALUES ?pathway { target: }
      OPTIONAL {
        target: wdt:P2410 ?wpid ;
                wdt:P703 ?organism .
      }
      {{ sparql_helpers.labels(["?organism"], languages) }}
      {{ sparql_helpers.descriptions(["?pathway"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/pathway_optional-data-values.sparql
  title: pathway_optional-data-values
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/pathway_optional-data-values.sparql'
- name: pathway_participants
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: pathway-participants--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?part ?partLabel ?partDescription ?type WHERE {
      {
        SELECT ?part (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) WHERE {
          VALUES ?process { wd:Q4915012 wd:Q2996394 }
          target: wdt:P31 ?process ;
                  wdt:P527 ?part .
          OPTIONAL {
            ?part wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label .
            FILTER (LANG(?type_label) = 'en')
          }
        }
        GROUP BY ?part
      }
      {{ sparql_helpers.labels(["?part"], languages) }}
      {{ sparql_helpers.descriptions(["?part"], languages) }}
    }
    ORDER BY ASC(?partLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/pathway_participants.sparql
  title: pathway_participants
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/pathway_participants.sparql'
- name: pathway_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: pathway-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu\
    \ Mishra, Vetle Torvik\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:\
    \ <http://www.wikidata.org/prop/direct/>\nSELECT ?year (COUNT(?work) AS ?number_of_publications)\
    \ WHERE {\n  {\n    SELECT (STR(?year_) AS ?year) (0 AS ?pages) WHERE {\n    \
    \  # default values = 0\n      ?year_item wdt:P31 wd:Q577 .\n      ?year_item\
    \ wdt:P585 ?date .\n      BIND (YEAR(?date) AS ?year_)\n      {\n        SELECT\
    \ (MIN(?year_) AS ?earliest_year) WHERE {\n          {\n            ?work wdt:P921/(wdt:P361+\
    \ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .\n          }\n          UNION\
    \ {\n            target: wdt:P2860 ?work .\n          }\n          ?work wdt:P577\
    \ ?publication_date .\n          BIND (YEAR(?publication_date) AS ?year_)\n  \
    \      }\n      }\n      BIND (YEAR(NOW() \n    ) AS ?next_year ) FILTER ( ?year_\
    \ >= ?earliest_year && ?year_ <= ?next_year )}\n  }\n  UNION {\n    SELECT ?work\
    \ (MIN(?years) AS ?year) WHERE {\n      {\n        ?work wdt:P921/(wdt:P361+ |\
    \ wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .\n      }\n      UNION {\n     \
    \   target: wdt:P2860 ?work .\n      }\n      ?work wdt:P577 ?dates .\n      BIND\
    \ (STR(YEAR(?dates)) AS ?years) .\n    }\n    GROUP BY ?work\n  }\n}\nGROUP BY\
    \ ?year\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/pathway_publications-per-year.sparql
  title: pathway_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/pathway_publications-per-year.sparql'
- name: pathway_recent-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: pathway-recent-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel ?type ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) (GROUP_CONCAT(?topic_label; SEPARATOR=" // ") AS ?topics) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              {
                ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
              }
              UNION {
                target: wdt:P2860 ?work .
              }
            }
          }
          OPTIONAL {
            ?work wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label .
            FILTER (LANG(?topic_label) = 'en')
          }
          OPTIONAL {
            ?work wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label .
            FILTER (LANG(?type_label) = 'en')
          }
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
        }
        GROUP BY ?work
      }
      BIND (xsd:date(?datetime) AS ?date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/pathway_recent-articles.sparql
  title: pathway_recent-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/pathway_recent-articles.sparql'
- name: podcast-episode_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-episode-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      BIND (target: AS ?podcast)
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        ?podcast wdt:P1476 ?value .
      }
      UNION {
        SELECT (2 AS ?order) ("Presenters" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P371 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        ?podcast wdt:P179 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast/", ?q) AS ?valueUrl)
        BIND (3 AS ?order)
        BIND ("Podcast" AS ?description)
      }
      UNION {
        ?podcast wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?value)
        BIND (4 AS ?order)
        BIND ("Publication date" AS ?description)
      }
      UNION {
        ?podcast wdt:P4908 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast-season/", ?q) AS ?valueUrl)
        BIND (5 AS ?order)
        BIND ("Season" AS ?description)
      }
      UNION {
        ?podcast wdt:P155 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast-episode/", ?q) AS ?valueUrl)
        BIND (6 AS ?order)
        BIND ("Previous episode" AS ?description)
      }
      UNION {
        ?podcast wdt:P156 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast-episode/", ?q) AS ?valueUrl)
        BIND (7 AS ?order)
        BIND ("Next episode" AS ?description)
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-episode_data.sparql
  title: podcast-episode_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-episode_data.sparql'
- name: podcast-episode_guests
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-episode-guests--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?guest ?guestLabel (CONCAT("/", SUBSTR(STR(?guest),32)) AS ?guestUrl) WHERE {
      target: wdt:P5030 ?guest .
      {{ sparql_helpers.labels(["?guest"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-episode_guests.sparql
  title: podcast-episode_guests
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-episode_guests.sparql'
- name: podcast-episode_listings
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-episode-listings--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: listings for this podcast
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?value (SAMPLE(?idUrls) AS ?valueUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q84574746 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', ENCODE_FOR_URI(STR(?Value)))) AS ?idUrls) .
        }
      }
      UNION {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q84574746 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?Value))) AS ?idUrls) .
        }
      }
      BIND (CONCAT(?Value, " ‚Üó") AS ?value)
      {{ sparql_helpers.labels(["?Identifier"], languages) }}
      {{ sparql_helpers.descriptions(["?Identifier"], languages) }}
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?value
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-episode_listings.sparql
  title: podcast-episode_listings
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-episode_listings.sparql'
- name: podcast-index_languages
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-index-languages--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?language ?languageLabel (CONCAT("/language/", SUBSTR(STR(?language),32), "/podcast") AS ?languageUrl) (COUNT(DISTINCT ?podcast) AS ?podcasts) WHERE {
      ?podcast wdt:P31 wd:Q24634210 ;
               wdt:P407 ?language .
      {{ sparql_helpers.labels(["?language"], languages) }}
    }
    GROUP BY ?language ?languageLabel
    ORDER BY DESC(?podcasts)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-index_languages.sparql
  title: podcast-index_languages
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-index_languages.sparql'
- name: podcast-language_podcast-list
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-language-podcast-list--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?podcast ?podcastLabel) (CONCAT("/podcast/", SUBSTR(STR(?podcast),32)) AS ?podcastUrl) (GROUP_CONCAT(?genreWDLabel; SEPARATOR=", ") AS ?genre WHERE {
      ?podcast wdt:P31 wd:Q24634210 ;
               wdt:P407 target: .
      OPTIONAL {
        ?podcast wdt:P136 ?iri
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (COALESCE(?value_string, ?q) AS ?genreWDLabel)
      }
      {{ sparql_helpers.labels(["?genreWD", "?podcast"], languages) }}
    }
    GROUP BY ?podcast ?podcastLabel
    ORDER BY DESC(?podcastLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-language_podcast-list.sparql
  title: podcast-language_podcast-list
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-language_podcast-list.sparql'
- name: podcast-language_recent-episodes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-language-recent-episodes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?podcast ?podcastLabel (CONCAT("/podcast/", SUBSTR(STR(?podcast),32)) AS ?podcastUrl) ?episode ?episodeLabel (CONCAT("/podcast-episode/", SUBSTR(STR(?episode),32)) AS ?episodeUrl) WHERE {
      {
        SELECT DISTINCT ?episode ?podcast (MIN(?publication_date_) AS ?publication_date) WHERE {
          ?episode wdt:P31 wd:Q61855877 ;
                   wdt:P179 ?podcast .
          ?podcast wdt:P407 target: .
          OPTIONAL {
            ?episode wdt:P577 ?publication_datetime .
            BIND (xsd:date(?publication_datetime) AS ?publication_date_)
          }
        }
        GROUP BY ?episode ?podcast
        ORDER BY DESC(?publication_date)
        LIMIT 50
      }
      {{ sparql_helpers.labels(["?episode", "?podcast"], languages) }}
    }
    GROUP BY ?publication_date ?episode ?episodeLabel ?podcast ?podcastLabel
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-language_recent-episodes.sparql
  title: podcast-language_recent-episodes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-language_recent-episodes.sparql'
- name: podcast-season_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-season-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      BIND (target: AS ?series)
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        ?series wdt:P1476 ?value .
      }
      UNION {
        ?series wdt:P179 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast/", ?q) AS ?valueUrl)
        BIND (2 AS ?order)
        BIND ("Podcast" AS ?description)
      }
      UNION {
        SELECT ?description ?order (MAX(?value_) AS ?value) WHERE {
          BIND (target: AS ?series)
          ?series wdt:P1113 ?value_ .
          BIND (3 AS ?order)
          BIND ("Number of episodes" AS ?description)
        }
        GROUP BY ?description ?order
      }
      UNION {
        ?series wdt:P155 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast-season/", ?q) AS ?valueUrl)
        BIND (6 AS ?order)
        BIND ("Previous season" AS ?description)
      }
      UNION {
        ?series wdt:P156 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../podcast-season/", ?q) AS ?valueUrl)
        BIND (7 AS ?order)
        BIND ("Next season" AS ?description)
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-season_data.sparql
  title: podcast-season_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-season_data.sparql'
- name: podcast-season_episodes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-season-episodes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?episode ?episodeLabel (CONCAT("/podcast-episode/", SUBSTR(STR(?episode),32)) AS ?episodeUrl) WHERE {
      ?episode wdt:P31 wd:Q61855877 ;
               wdt:P4908 target: .
      {{ sparql_helpers.labels_unbound(["?episode"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast-season_episodes.sparql
  title: podcast-season_episodes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast-season_episodes.sparql'
- name: podcast_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      BIND (target: AS ?podcast)
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        target: wdt:P1476 ?value .
      }
      UNION {
        SELECT (2 AS ?order) ("Presenters" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P371 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        BIND (3 AS ?order)
        BIND ("Language" AS ?description)
        target: wdt:P407 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../language/", ?q, "/podcast") AS ?valueUrl)
      }
      UNION {
        SELECT ?description ?order (MAX(?value_) AS ?value) WHERE {
          BIND (target: AS ?podcast)
          target: wdt:P1113 ?value_ .
          BIND (4 AS ?order)
          BIND ("Number of episodes" AS ?description)
        }
        GROUP BY ?description ?order
      }
      UNION {
        BIND (5 AS ?order)
        BIND ("Web feed" AS ?description)
        target: wdt:P1019 ?valueUrl .
        BIND ("feed" AS ?value)
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast_data.sparql
  title: podcast_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast_data.sparql'
- name: podcast_listings
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-listings--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: listings for this podcast
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?value (SAMPLE(?idUrls) AS ?valueUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q84612171 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', ENCODE_FOR_URI(STR(?Value)))) AS ?idUrls) .
        }
      }
      UNION {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?Value ?formatterurl WHERE {
              target: ?IDdir ?Value .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31 wd:Q84612171 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
            }
            LIMIT 500
          }
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?Value))) AS ?idUrls) .
        }
      }
      BIND (CONCAT(?Value, " ‚Üó") AS ?value)
      {{ sparql_helpers.labels_unbound(["?Identifier"], languages) }}
      {{ sparql_helpers.descriptions_unbound(["?Identifier"], languages) }}
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?value
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast_listings.sparql
  title: podcast_listings
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast_listings.sparql'
- name: podcast_recent-episodes
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-recent-episodes--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?episode ?episodeLabel (CONCAT("/podcast-episode/", SUBSTR(STR(?episode),32)) AS ?episodeUrl) WHERE {
      {
        SELECT DISTINCT ?episode (MIN(?publication_date_) AS ?publication_date) WHERE {
          ?episode wdt:P31 wd:Q61855877 ;
                   wdt:P179 target: .
          OPTIONAL {
            ?episode wdt:P577 ?publication_datetime .
            BIND (xsd:date(?publication_datetime) AS ?publication_date_)
          }
        }
        GROUP BY ?episode
        ORDER BY DESC(?publication_date)
        LIMIT 50
      }
      {{ sparql_helpers.labels_unbound(["?episode"], languages) }}
    }
    GROUP BY ?publication_date ?episode ?episodeLabel
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast_recent-episodes.sparql
  title: podcast_recent-episodes
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast_recent-episodes.sparql'
- name: podcast_seasons
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-seasons--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?season ?seasonLabel (CONCAT("/podcast-season/", SUBSTR(STR(?season),32)) AS ?seasonUrl) (MAX(?count) AS ?episodeCount) WHERE {
      ?season wdt:P31 wd:Q69154911 ;
              wdt:P179 target: .
      OPTIONAL {
        ?season wdt:P1113 ?count .
      }
      {{ sparql_helpers.labels_unbound(["?season"], languages) }}
    }
    GROUP BY ?season ?seasonLabel
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast_seasons.sparql
  title: podcast_seasons
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast_seasons.sparql'
- name: podcast_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: podcast-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?topic ?topicLabel WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          {
            target: wdt:P921 ?topic .
            BIND (20 AS ?score_)
          }
          UNION {
            SELECT (3 AS ?score_) ?topic WHERE {
              ?episode wdt:P179 target: ;
                       wdt:P921 ?topic .
            }
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/podcast_topics.sparql
  title: podcast_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/podcast_topics.sparql'
- name: printer-index_map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: printer-index-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Map{"layer": "?counts"}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?geo ?printer ?printerLabel ?printerDescription ?counts ?example_work ?example_workLabel WHERE {
      # hint:Query hint:optimizer "None".
      {
        SELECT (COUNT(?work) AS ?count) ?printer (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P872 ?printer .
        }
        GROUP BY ?printer
      }
      BIND (IF(?count = 1,"1",IF(?count <= 5,"2-5",IF(?count <= 10,"6-10","10+"))) AS ?counts)
      ?printer wdt:P159?/wdt:P625 ?geo
      {{ sparql_helpers.labels(["?printer", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?printer"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/printer-index_map.sparql
  title: printer-index_map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/printer-index_map.sparql'
- name: printer-index_printed-works-per-publisher
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: printer-index-printed-works-per-publisher--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?printer ?printerLabel ?printerDescription (CONCAT("/printer/", SUBSTR(STR(?printer),32)) AS ?printerUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?printer (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P872 ?printer .
        }
        GROUP BY ?printer
      }
      {{ sparql_helpers.labels(["?printer", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?printer"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/printer-index_printed-works-per-publisher.sparql
  title: printer-index_printed-works-per-publisher
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/printer-index_printed-works-per-publisher.sparql'
- name: printer_works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: printer-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # List of printed works by date
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?example_author ?example_authorLabel (CONCAT("/author/", SUBSTR(STR(?example_author),32)) AS ?example_authorUrl) WHERE {
      {
        SELECT (MIN(?date_) AS ?date) ?work (SAMPLE(?author) AS ?example_author) WHERE {
          ?work wdt:P872 target: .
          OPTIONAL {
            ?work wdt:P577 ?datetime .
            BIND (xsd:date(?datetime) AS ?date_)
          }
          OPTIONAL {
            ?work wdt:P50 ?author
          }
        }
        GROUP BY ?work
      }
      {{ sparql_helpers.labels_unbound(["?example_author", "?work"], languages) }}
    }
    ORDER BY DESC(?date)
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/printer_works.sparql
  title: printer_works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/printer_works.sparql'
- name: project_citations-per-budget
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-citations-per-budget--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?cites_per_million ?citations ?budget ?currency ?currencyLabel ?short_name ?project ?projectLabel WHERE {
      {
        SELECT (COUNT(?citing_work) / ?budget * 1000000 AS ?cites_per_million) (COUNT(?citing_work) AS ?citations) ?budget ?currency ?project WHERE {
          ?project p:P2769/psv:P2769 ?budget_value .
          ?budget_value wikibase:quantityAmount ?budget .
          ?budget_value wikibase:quantityUnit ?currency .
          ?work wdt:P859 ?project .
          ?citing_work wdt:P2860 ?work .
        }
        GROUP BY ?project ?budget ?currency
      }
      OPTIONAL {
        ?project wdt:P1813 ?short_name
      }
      {{ sparql_helpers.labels(["?project", "?currency"], languages) }}
    } ORDER BY DESC(?cites_per_million)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_citations-per-budget.sparql
  title: project_citations-per-budget
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_citations-per-budget.sparql'
- name: project_partners
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-partners--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?partner ?partnerLabel ?location WHERE {
      {
        SELECT DISTINCT ?partner ?location WHERE {
          target: (^wdt:P1344 | wdt:P710)*/(wdt:P527 | wdt:P710 | wdt:P1416) ?partner .
          ?partner wdt:P159*/wdt:P625 ?location .
        }
      }
      {{ sparql_helpers.labels(["?partner"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_partners.sparql
  title: project_partners
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_partners.sparql'
- name: project_prolific-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-prolific-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # Prolific authors for a specific project
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?author ?authorLabel ?example_work ?example_workLabel WHERE {
      {
        SELECT ?author (COUNT(?work) AS ?count) (SAMPLE(?work) AS ?example_work) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              {
                ?work wdt:P921/(wdt:P527+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
              }
              UNION {
                ?work wdt:P859/(wdt:P1344 | ^wdt:P710)* target: .
              }
              UNION {
                target: ?propp ?statement .
                ?statement a wikibase:BestRank ;
                           prov:wasDerivedFrom/pr:P248 ?work .
              }
            }
          }
          ?work wdt:P50 ?author .
        }
        GROUP BY ?author
      }
      # Include optional ORCID iD
      OPTIONAL {
        ?author wdt:P496 ?orcid .
      }
      # Label the results
      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 50
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_prolific-authors.sparql
  title: project_prolific-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_prolific-authors.sparql'
- name: project_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\nPREFIX pr: <http://www.wikidata.org/prop/reference/>\nPREFIX prov: <http://www.w3.org/ns/prov#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT ?year (COUNT(?work) AS ?number_of_publications)\
    \ WHERE {\n  {\n    SELECT (STR(?year_) AS ?year) (0 AS ?pages) WHERE {\n    \
    \  # default values = 0\n      ?year_item wdt:P31 wd:Q577 .\n      ?year_item\
    \ wdt:P585 ?date .\n      BIND (YEAR(?date) AS ?year_)\n      {\n        SELECT\
    \ (MIN(?year_) AS ?earliest_year) WHERE {\n          {\n            ?work wdt:P921/wdt:P31*/wdt:P279*\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P527+\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P1269+\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P859/wdt:P1344*\
    \ target: .\n          }\n          UNION {\n            target: ?propp ?statement\
    \ .\n            ?statement a wikibase:BestRank ;\n                       prov:wasDerivedFrom/pr:P248\
    \ ?work .\n          }\n          ?work wdt:P577 ?publication_date .\n       \
    \   BIND (YEAR(?publication_date) AS ?year_)\n        }\n      }\n      BIND (YEAR(NOW()\
    \ \n    ) AS ?next_year ) FILTER ( ?year_ >= ?earliest_year && ?year_ <= ?next_year\
    \ )}\n  }\n  UNION {\n    SELECT ?work (MIN(?years) AS ?year) WHERE {\n      {\n\
    \        ?work wdt:P921/wdt:P31*/wdt:P279* target: .\n      }\n      UNION {\n\
    \        ?work wdt:P921/wdt:P527+ target: .\n      }\n      UNION {\n        ?work\
    \ wdt:P921/wdt:P1269+ target: .\n      }\n      UNION {\n        ?work wdt:P859/wdt:P1344*\
    \ target: .\n      }\n      UNION {\n        target: ?propp ?statement .\n   \
    \     ?statement a wikibase:BestRank ;\n                   prov:wasDerivedFrom/pr:P248\
    \ ?work .\n      }\n      ?work wdt:P577 ?dates .\n      BIND (STR(YEAR(?dates))\
    \ AS ?years) .\n    }\n    GROUP BY ?work\n  }\n}\nGROUP BY ?year\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_publications-per-year.sparql
  title: project_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_publications-per-year.sparql'
- name: project_recent-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-recent-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel ?type ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?type_label; SEPARATOR=", ") AS ?type) (GROUP_CONCAT(?topic_label; SEPARATOR=" // ") AS ?topics) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              {
                ?work wdt:P921/(wdt:P527+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
              }
              UNION {
                # Works funded by the project, - recursively
                ?work wdt:P859+ target: .
              }
              UNION {
                # Works funded by the project, - recursively
                ?work wdt:P859/(wdt:P1344 | ^wdt:P710)* target: .
              }
              UNION {
                target: ?propp ?statement .
                ?statement a wikibase:BestRank ;
                           prov:wasDerivedFrom/pr:P248 ?work .
              }
            }
          }
          OPTIONAL {
            ?work wdt:P31 ?type_ .
            ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en')
          }
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
          OPTIONAL {
            ?work wdt:P921 ?topic .
            ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
          }
        }
        GROUP BY ?work
      }
      BIND (xsd:date(?datetime) AS ?date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    } ORDER BY DESC (?date) LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_recent-articles.sparql
  title: project_recent-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_recent-articles.sparql'
- name: project_statistics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-statistics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    # title: Statistics for projects identifiers
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?description {
      {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P3400 [] .
          }
        }
        BIND ("Total number of projects with a CORDIS number" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P4870 [] .
          }
        }
        BIND ("Total number of projects with a GEPRIS number" AS ?description)
      }
      UNION {
        {
          SELECT (COUNT(*) AS ?count) WHERE {
            [] wdt:P6536 [] .
          }
        }
        BIND ("Total number of projects with a Gateway to Research Project ID" AS ?description)
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_statistics.sparql
  title: project_statistics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_statistics.sparql'
- name: project_timeline
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-timeline--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:Timeline{"hide": ["?end_time", "?start_time"]}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?start_time ?end_time ?description WHERE {
      {
        target: (wdt:P571 | wdt:P580) ?start_time ;
                (wdt:P576 | wdt:P582) ?end_time .
        BIND ("Project time" AS ?description)
      }
      UNION {
        target: (^wdt:P1344 | wdt:P710)+ ?project .
        ?project (wdt:P571 | wdt:P580) ?start_time ;
                 (wdt:P576 | wdt:P582) ?end_time .
        ?project rdfs:label ?projectName .
        FILTER (LANG(?projectName) = "en")
        BIND (?projectName AS ?description)
      }
      UNION {
        ?work wdt:P859/(wdt:P1344 | ^wdt:P710)* target: ;
              wdt:P577 ?start_time .
        BIND ("Publication" AS ?description)
      }
      UNION {
        ?event wdt:P859 target: .
        ?event wdt:P585 | wdt:P580 ?start_time .
        BIND ("üìÖ Sponsored event" AS ?description)
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_timeline.sparql
  title: project_timeline
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_timeline.sparql'
- name: project_topic-scores
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: project-topic-scores--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?score ?topic ?topicLabel WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          {
            target: wdt:P101 ?topic .
            BIND (20 AS ?score_)
          }
          UNION {
            SELECT (3 AS ?score_) ?topic WHERE {
              ?work wdt:P859/wdt:P1344* target: ;
                    wdt:P921 ?topic .
            }
          }
          UNION {
            SELECT (1 AS ?score_) ?topic WHERE {
              ?work wdt:P859/wdt:P1344* target: .
              ?citing_work wdt:P2860 ?work .
              ?citing_work wdt:P921 ?topic .
            }
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/project_topic-scores.sparql
  title: project_topic-scores
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/project_topic-scores.sparql'
- name: property_item-counts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: property-item-counts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/prop/direct/{{ p }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?s ?sLabel WHERE {
      {
        SELECT (COUNT(?o) AS ?count) ?s WHERE {
          ?s target: ?o .
        }
        GROUP BY ?s
        ORDER BY DESC(?count)
        LIMIT 100
      }
      {{ sparql_helpers.labels(["?s"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/property_item-counts.sparql
  title: property_item-counts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/property_item-counts.sparql'
- name: property_property-value-counts
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: property-property-value-counts--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/prop/direct/{{ p }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?o ?oLabel WHERE {
      {
        SELECT (COUNT(?s) AS ?count) ?o WHERE {
          ?s target: ?o .
        }
        GROUP BY ?o
        ORDER BY DESC(?count)
        LIMIT 100
      }
      {{ sparql_helpers.labels(["?o"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/property_property-value-counts.sparql
  title: property_property-value-counts
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/property_property-value-counts.sparql'
- name: property_use
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: property-use--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/prop/direct/{{ p }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?item ?itemLabel ?property_value ?property_valueLabel WHERE {
      ?item target: ?property_value .
      {{ sparql_helpers.labels(["?item", "?property_value"], languages) }}
    }
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/property_use.sparql
  title: property_use
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/property_use.sparql'
- name: protein_cofunctional-proteins
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: protein-cofunctional-proteins--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?protein ?proteinLabel ?species ?speciesLabel ?functions WHERE {
      {
        SELECT ?protein (COUNT(?function) AS ?count) (GROUP_CONCAT(?function_label; SEPARATOR=" // ") AS ?functions) WHERE {
          BIND (target: AS ?query_protein)
          ?query_protein wdt:P680 ?function .
          FILTER (?query_protein != ?protein)
          ?protein wdt:P680 ?function .
          ?function rdfs:label ?function_label FILTER (LANG(?function_label) = "en")
        }
        GROUP BY ?protein
      }
      OPTIONAL {
        ?protein wdt:P703 ?species .
      }
      {{ sparql_helpers.labels(["?protein"], languages) }}
      {{ sparql_helpers.labels_unbound(["?species"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/protein_cofunctional-proteins.sparql
  title: protein_cofunctional-proteins
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/protein_cofunctional-proteins.sparql'
- name: protein_cointeracting-proteins
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: protein-cointeracting-proteins--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?protein ?proteinLabel (CONCAT("/protein/", SUBSTR(STR(?protein),32)) AS ?proteinUrl) ?species ?speciesLabel (CONCAT("/taxon/", SUBSTR(STR(?species),32)) AS ?speciesUrl) ?chemicals WHERE {
      {
        SELECT (COUNT(?chemical) AS ?count) ?protein (GROUP_CONCAT(?chemical_label; SEPARATOR=" // ") AS ?chemicals) WHERE {
          target: wdt:P129 ?chemical .
          FILTER (target: != ?protein)
          ?protein wdt:P129 ?chemical .
          ?chemical rdfs:label ?chemical_label FILTER (LANG(?chemical_label) = "en")
        }
        GROUP BY ?protein
      }
      OPTIONAL {
        ?protein wdt:P703 ?species .
      }
      {{ sparql_helpers.labels(["?protein"], languages) }}
      {{ sparql_helpers.labels_unbound(["?species"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/protein_cointeracting-proteins.sparql
  title: protein_cointeracting-proteins
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/protein_cointeracting-proteins.sparql'
- name: protein_participates-in
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: protein-participates-in--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?type ?complex_or_process ?complex_or_processLabel WHERE {
      {
        SELECT DISTINCT ?type ?complex_or_process WHERE {
          VALUES ?part { target: }
          VALUES ?process { wd:Q2996394 wd:Q4915012 }
          {
            ?part ^wdt:P527 ?complex_or_process .
            ?complex_or_process wdt:P31 wd:Q22325163 ;
            BIND ("complex" AS ?type)
          }
          UNION {
            ?part ^wdt:P527 ?complex_or_process .
            ?complex_or_process wdt:P31 ?process ;
            BIND ("biological process" AS ?type)
          }
        }
      }
      {{ sparql_helpers.labels(["?complex_or_process"], languages) }}
    }
    ORDER BY ASC(?partLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/protein_participates-in.sparql
  title: protein_participates-in
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/protein_participates-in.sparql'
- name: protein_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: protein-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: "#defaultView:BarChart\nPREFIX target: <http://www.wikidata.org/entity/{{\
    \ q }}>\n# Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/\n# Shubhanshu\
    \ Mishra, Vetle Torvik\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:\
    \ <http://www.wikidata.org/prop/direct/>\nSELECT ?year (COUNT(?work) AS ?number_of_publications)\
    \ WHERE {\n  {\n    SELECT (STR(?year_) AS ?year) (0 AS ?pages) WHERE {\n    \
    \  # default values = 0\n      ?year_item wdt:P31 wd:Q577 .\n      ?year_item\
    \ wdt:P585 ?date .\n      BIND (YEAR(?date) AS ?year_)\n      {\n        SELECT\
    \ (MIN(?year_) AS ?earliest_year) WHERE {\n          {\n            ?work wdt:P921/wdt:P31*/wdt:P279*\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P361+\
    \ target: .\n          }\n          UNION {\n            ?work wdt:P921/wdt:P1269+\
    \ target: .\n          }\n          ?work wdt:P577 ?publication_date .\n     \
    \     BIND (YEAR(?publication_date) AS ?year_)\n        }\n      }\n      BIND\
    \ (YEAR(NOW() \n    ) AS ?next_year ) FILTER ( ?year_ >= ?earliest_year && ?year_\
    \ <= ?next_year )}\n  }\n  UNION {\n    SELECT ?work (MIN(?years) AS ?year) WHERE\
    \ {\n      {\n        ?work wdt:P921/wdt:P31*/wdt:P279* target: .\n      }\n \
    \     UNION {\n        ?work wdt:P921/wdt:P361+ target: .\n      }\n      UNION\
    \ {\n        ?work wdt:P921/wdt:P1269+ target: .\n      }\n      ?work wdt:P577\
    \ ?dates .\n      BIND (STR(YEAR(?dates)) AS ?years) .\n    }\n    GROUP BY ?work\n\
    \  }\n}\nGROUP BY ?year\nORDER BY ?year\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/protein_publications-per-year.sparql
  title: protein_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/protein_publications-per-year.sparql'
- name: protein_similar-proteins
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: protein-similar-proteins--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?protein ?proteinLabel ?species ?speciesLabel (?functions AS ?property_value) WHERE {
      {
        SELECT ?protein (COUNT(?function) AS ?count) (GROUP_CONCAT(?function_label; SEPARATOR=" // ") AS ?functions) WHERE {
          BIND (target: AS ?query_protein)
          ?query_protein wdt:P680 | wdt:P681 | wdt:P682 | wdt:P129 ?function .
          FILTER (?query_protein != ?protein)
          ?protein wdt:P680 | wdt:P681 | wdt:P682 | wdt:P129 ?function .
          ?function rdfs:label ?function_label FILTER (LANG(?function_label) = "en")
        }
        GROUP BY ?protein
      }
      OPTIONAL {
        ?protein wdt:P703 ?species .
      }
      {{ sparql_helpers.labels(["?protein"], languages) }}
      {{ sparql_helpers.labels_unbound(["?species"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/protein_similar-proteins.sparql
  title: protein_similar-proteins
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/protein_similar-proteins.sparql'
- name: publisher_citations-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: publisher-citations-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:ScatterChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?work_count ?citation_count ?journal  ?journalLabel WHERE {
      {
        SELECT ?work_count ?citation_count ?journal {
          {
            SELECT ?journal (COUNT(?work) AS ?work_count) {
              ?journal wdt:P123 target: .
              ?work wdt:P1433 ?journal .
            }
            GROUP BY ?journal
          }
          {
            SELECT ?journal (COUNT(?citing_work) AS ?citation_count) {
              ?journal wdt:P123 target: .
              ?work wdt:P1433 ?journal .
              ?citing_work wdt:P2860 ?work .
            }
            GROUP BY ?journal
          }
        }
      }
      {{ sparql_helpers.labels(["?journal"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/publisher_citations-works.sparql
  title: publisher_citations-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/publisher_citations-works.sparql'
- name: publisher_editor-photos
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: publisher-editor-photos--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:ImageGrid
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?image ?editor ?editorLabel ?venues WHERE {
      {
        SELECT DISTINCT (SAMPLE(?image_) AS ?image) ?editor (GROUP_CONCAT(?venue_label; SEPARATOR=" // ") AS ?venues) WHERE {
          # Find editors for journals published by publisher
          ?venue_ wdt:P123 target: .
          ?venue_ wdt:P98 | wdt:P5769 ?editor .
          ?editor wdt:P18 ?image_ .
          OPTIONAL {
            ?venue_ rdfs:label ?venue_label . FILTER (LANG(?venue_label) = 'en')
          }
        }
        GROUP BY ?editor
      }
      {{ sparql_helpers.labels(["?editor"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/publisher_editor-photos.sparql
  title: publisher_editor-photos
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/publisher_editor-photos.sparql'
- name: publisher_editors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: publisher-editors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_editorships ?editor ?editorLabel ?example_venue ?example_venueLabel WHERE {
      # Label the result
      {
        SELECT (COUNT(?venue_) AS ?number_of_editorships) ?editor (SAMPLE(?venue_) AS ?example_venue)
        # (GROUP_CONCAT(?journal_label; separator=" // ") AS ?venues)
        WHERE {
          # Find editors for a work published by publisher
          ?venue_ wdt:P123 target: .
          ?venue_ wdt:P98 | wdt:P5769 ?editor .
          # ?venue_ rdfs:label ?venue_label . FILTER(LANG(?venue_label) = 'en')
        }
        GROUP BY ?editor
      }
      {{ sparql_helpers.labels(["?editor", "?example_venue"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/publisher_editors.sparql
  title: publisher_editors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/publisher_editors.sparql'
- name: publisher_journals
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: publisher-journals--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (SAMPLE(?number_of_works_) AS ?number_of_works) (MAX(?bfi) AS ?BFI) ?journal ?journalLabel (GROUP_CONCAT(?themes_labels; SEPARATOR=", ") AS ?theme) WHERE {
      {
        SELECT ?journal (COUNT(?work) AS ?number_of_works_) WHERE {
          ?journal wdt:P123 target: .
          OPTIONAL {
            ?work wdt:P1433 ?journal .
          }
        }
        GROUP BY ?journal
      }
      OPTIONAL {
        ?journal wdt:P921 ?themes .
        ?themes rdfs:label ?themes_labels .
        FILTER (LANG(?themes_labels) = 'en')
      }
      OPTIONAL {
        ?journal wdt:P1240 ?bfi .
      }
      {{ sparql_helpers.labels(["?journal"], languages) }}
    }
    GROUP BY ?journal ?journalLabel
    ORDER BY DESC(?number_of_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/publisher_journals.sparql
  title: publisher_journals
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/publisher_journals.sparql'
- name: publisher_most-cited
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: publisher-most-cited--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Count the number of citations for each journal published by a specified publisher
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_citations ?work ?workLabel ?journal ?journalLabel WHERE {
      {
        SELECT ?work ?journal (COUNT(?citing_work) AS ?number_of_citations) WHERE {
          ?journal wdt:P123 target: .
          ?work wdt:P1433 ?journal .
          ?citing_work wdt:P2860 ?work
        }
        GROUP BY ?work ?journal
        ORDER BY DESC(?number_of_citations)
        LIMIT 500
      }
      # Label the result
      {{ sparql_helpers.labels(["?work", "?journal"], languages) }}
    }
    ORDER BY DESC(?number_of_citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/publisher_most-cited.sparql
  title: publisher_most-cited
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/publisher_most-cited.sparql'
- name: publisher_timeline
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: publisher-timeline--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\n#defaultView:Timeline\n\
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT DISTINCT ?datetime ?venue\
    \ ?venueLabel WHERE {\n  # Publisher\n  ?venue wdt:P123 target: .\n  # Periodic\
    \ literature\n  ?venue wdt:P31/wdt:P279* wd:Q1002697 .\n  # When the journal was\
    \ started \n  ?venue wdt:P571 ?datetime .\n  # Label the journal\n  {{ sparql_helpers.labels([\"\
    ?venue\"], languages) }}\n}\nORDER BY DESC(?datetime)\nLIMIT 50\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/publisher_timeline.sparql
  title: publisher_timeline
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/publisher_timeline.sparql'
- name: retraction-index_authors_with_many_retractions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-index-authors-with-many-retractions--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?author ?authorLabel (COUNT(DISTINCT ?work) AS ?count) WHERE {
      {
        ?work wdt:P31 wd:Q45182324 .
      }
      UNION {
        ?work wdt:P793 wd:Q7316896 .
      }
      UNION {
        ?work wdt:P5824 [] .
      }
      ?work wdt:P50 ?author .
      {{ sparql_helpers.labels(["?author"], languages) }}
    } GROUP BY ?author ?authorLabel
      ORDER BY DESC(?count)
      LIMIT 100
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction-index_authors_with_many_retractions.sparql
  title: retraction-index_authors_with_many_retractions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction-index_authors_with_many_retractions.sparql'
- name: retraction-index_most-cited-retracted-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-index-most-cited-retracted-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?work ?workLabel (CONCAT("../retraction/", SUBSTR(STR(?work),32)) AS ?workUrl) ?count WHERE {
      {
        SELECT ?work (COUNT(DISTINCT ?citation) AS ?count) WHERE {
          # hint:Query hint:optimizer "None" .
          {
            ?work wdt:P31 wd:Q45182324 .
          }
          UNION {
            ?work wdt:P793 wd:Q7316896 .
          }
          UNION {
            ?work wdt:P5824 [] .
          }
          {
            ?citation wdt:P2860 ?work .
          }
          UNION {
            ?citation wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
        ORDER BY DESC(?count)
        LIMIT 100
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction-index_most-cited-retracted-works.sparql
  title: retraction-index_most-cited-retracted-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction-index_most-cited-retracted-works.sparql'
- name: retraction-index_retractions-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-index-retractions-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    SELECT (STR(?year_) AS ?year) (SUM(?count_) AS ?count) WHERE {
      {
        SELECT ?year_ (COUNT(DISTINCT ?retractedArticle) AS ?count_) WHERE {
          ?retractedArticle p:P31 ?isRetractedPaperStatement .
          ?isRetractedPaperStatement ps:P31 wd:Q45182324 .
          ?isRetractedPaperStatement pq:P580 ?date .
          BIND (YEAR(?date) AS ?year_)
        }
        GROUP BY ?year_
      }
    }
    GROUP BY ?year_
    ORDER BY DESC(?year_)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction-index_retractions-per-year.sparql
  title: retraction-index_retractions-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction-index_retractions-per-year.sparql'
- name: retraction-index_statements-with-retracted-references
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-index-statements-with-retracted-references--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?entity ?entityLabel ?entityUrl ?property ?propertyLabel ?value ?valueLabel ?retracted ?retractedLabel (CONCAT("/retraction/", SUBSTR(STR(?retracted),32)) AS ?retractedUrl) WHERE {
      {
        SELECT DISTINCT ?entity ?p ?statement ?retracted WHERE {
          ?retracted wdt:P31 wd:Q45182324 .
          ?entity ?p ?statement .
          ?statement prov:wasDerivedFrom/pr:P248 ?retracted .
        }
      }
      ?p ^wikibase:claim ?property .
      ?statement ?ps ?value .
      ?ps ^wikibase:statementProperty ?property .
      BIND (?statement AS ?entityUrl)
      {{ sparql_helpers.labels(["?entity", "?property", "?value", "?retracted"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction-index_statements-with-retracted-references.sparql
  title: retraction-index_statements-with-retracted-references
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction-index_statements-with-retracted-references.sparql'
- name: retraction-index_venues_with_many_retractions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-index-venues-with-many-retractions--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\n\nSELECT ?works ?venue ?venueLabel\
    \ (CONCAT(\"../venue/\", SUBSTR(STR(?venue),32)) AS ?venueUrl) ?venueDescription\
    \ WHERE {\n  {\n    SELECT (COUNT(?work) AS ?works) ?venue WHERE {\n      ?work\
    \ wdt:P31 wd:Q45182324 ;\n            wdt:P1433 ?venue .\n    }\n    GROUP BY\
    \ ?venue\n    ORDER BY DESC(?works)\n    LIMIT 200\n  }\n  \n  {{ sparql_helpers.labels([\"\
    ?venue\"], languages) }}\n  {{ sparql_helpers.descriptions([\"?venue\"], languages)\
    \ }}\n}\nORDER BY DESC(?works)\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction-index_venues_with_many_retractions.sparql
  title: retraction-index_venues_with_many_retractions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction-index_venues_with_many_retractions.sparql'
- name: retraction_citations-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-citations-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT (STR(?_year) AS ?year) (COUNT(DISTINCT ?citing_work) AS ?count) ?kind WHERE {
      ?citing_work wdt:P2860 target: ;
                   wdt:P577 ?date .
      OPTIONAL { target: p:P31 [ ps:P31 wd:Q45182324 ; pq:P580 ?retractionDate ] }
      # Year of citation
      BIND (YEAR(?date) AS ?_year)
      # Type of citation
      BIND (IF(BOUND(?retractionDate),
        IF(xsd:date(?retractionDate) > xsd:date(?date), "before retraction", "after retraction"),
        "_"
      ) AS ?kind)
    } GROUP BY ?_year ?kind
      ORDER BY DESC(?_year)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction_citations-per-year.sparql
  title: retraction_citations-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction_citations-per-year.sparql'
- name: retraction_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        target: wdt:P1476 ?value .
      }
      UNION {
        BIND (2 AS ?order)
        BIND ("Reviewers" AS ?description)
        {SELECT (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          target: wdt:P4032 ?reviewer .
          {{ sparql_helpers.labels(["?reviewer"], languages) }}
          BIND (SUBSTR(STR(?reviewer), 32) AS ?q)
          BIND (COALESCE(?reviewerLabel, ?q) AS ?value_)
        }}
      }
      UNION {
        BIND (3 AS ?order)
        BIND ("Published in" AS ?description)
        target: wdt:P1433 ?venue .
        {{ sparql_helpers.labels(["?venue"], languages) }}
        BIND (SUBSTR(STR(?venue), 32) AS ?q)
        BIND (COALESCE(?venueLabel, ?q) AS ?value)
        BIND (CONCAT("../venue/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (4 AS ?order)
        BIND ("Publication date" AS ?description)
        target: p:P577/psv:P577 [
          wikibase:timePrecision ?time_precision ;
          wikibase:timeValue ?publication_date
        ] .
        BIND (IF(?time_precision = 9, YEAR(?publication_date), xsd:date(?publication_date)) AS ?value)
      }
      UNION {
        BIND (5 AS ?order)
        BIND ("Retraction date" AS ?description)
        target: p:P31 [ ps:P31 wd:Q45182324 ; pq:P580 ?retraction_date_value ] .
        BIND (xsd:date(?retraction_date_value) AS ?value)
      }
      UNION {
        BIND (6 AS ?order)
        BIND ("Publisher" AS ?description)
        target: wdt:P123 ?publisher .
        {{ sparql_helpers.labels(["?publisher"], languages) }}
        BIND (SUBSTR(STR(?publisher), 32) AS ?q)
        BIND (COALESCE(?publisherLabel, ?q) AS ?value)
        BIND (CONCAT("../publisher/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (7 AS ?order)
        BIND ("DOI" AS ?description)
        target: wdt:P356 ?doi .
        BIND (CONCAT("https://doi.org/", ENCODE_FOR_URI(?doi)) AS ?valueUrl)
        BIND (CONCAT(?doi, " ‚Üó") AS ?value)
      }
      UNION {
        BIND (8 AS ?order)
        BIND ("üõë Retracted by" AS ?description)
        target: wdt:P5824 ?retraction .
        {{ sparql_helpers.labels(["?retraction"], languages) }}
        BIND (SUBSTR(STR(?retraction), 32) AS ?q)
        BIND (COALESCE(?retractionLabel, ?q) AS ?value)
        BIND (CONCAT("../work/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (9 AS ?order)
        BIND ("‚ö†Ô∏è Cites retracted article" AS ?description)
        {
          target: wdt:P2860 ?retracted .
          ?retracted wdt:P31 wd:Q45182324 .
        } UNION {
          target: wdt:P2860 ?retracted .
          ?retracted wdt:P793 wd:Q7316896 .
        } UNION {
          target: wdt:P2860 ?retracted .
          ?retracted wdt:P5824 [] .
        }
        {{ sparql_helpers.labels(["?retracted"], languages) }}
        BIND (SUBSTR(STR(?retracted), 32) AS ?q)
        BIND (COALESCE(?retractedLabel, ?q) AS ?value)
        BIND (CONCAT("../work/", ?q) AS ?valueUrl)
      }
    } ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction_data.sparql
  title: retraction_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction_data.sparql'
- name: retraction_list-of-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-list-of-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # List of authors for a work
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?order ?author ?authorLabel ?authorUrl ?retractions WHERE {
      {
        { SELECT ?author (COUNT(DISTINCT ?work) AS ?retractions) WHERE {
          target: wdt:P50 ?author .
          ?work wdt:P50 ?author ;
                wdt:P31 wd:Q45182324 .
        } GROUP BY ?author }

        target: p:P50 ?authorStatement .
        ?authorStatement ps:P50 ?author .
        BIND (CONCAT("../author/", SUBSTR(STR(?author), 32), "#list-of-retracted-articles") AS ?authorUrl)
        {{ sparql_helpers.labels(["?author"], languages) }}
      } UNION {
        target: p:P2093 ?authorStatement .
        ?authorStatement ps:P2093 ?author .
        BIND (CONCAT(?author, " ‚Üó") AS ?authorLabel)
        BIND (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?author)) AS ?authorUrl)
      }

      OPTIONAL { ?authorStatement pq:P1545 ?_order . }
      BIND (xsd:integer(?_order) AS ?order)
    } ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction_list-of-authors.sparql
  title: retraction_list-of-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction_list-of-authors.sparql'
- name: retraction_statements-with-retracted-references
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: retraction-statements-with-retracted-references--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?entity ?entityLabel ?entityUrl ?property ?propertyLabel ?value ?valueLabel WHERE {
      ?entity ?p ?statement .
      ?statement prov:wasDerivedFrom/pr:P248 target:  .

      ?p ^wikibase:claim ?property .
      ?statement ?ps ?value .
      ?ps ^wikibase:statementProperty ?property .
      BIND (?statement AS ?entityUrl)
      {{ sparql_helpers.labels(["?entity", "?property", "?value"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/retraction_statements-with-retracted-references.sparql
  title: retraction_statements-with-retracted-references
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/retraction_statements-with-retracted-references.sparql'
- name: series_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: series-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # Statistics for a serial grouped by author
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?number_of_works ?number_of_citations ?author ?authorLabel ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?number_of_works) (COUNT(?citing_work) AS ?number_of_citations) (SAMPLE(?work) AS ?example_work) ?author WHERE {
          ?collection wdt:P179 target: .
          ?work wdt:P1433 ?collection .
          ?work wdt:P50 ?author .
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?author
      }
      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
    }
    ORDER BY DESC(?number_of_works) DESC(?number_of_citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/series_authors.sparql
  title: series_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/series_authors.sparql'
- name: series_in-series
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: series-in-series--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?number_of_papers ?short_name ?ordinal ?collection ?collectionLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?number_of_papers) (MIN(?datetimes) AS ?publication_datetime) (SAMPLE(?short_name_) AS ?short_name) ?collection (SAMPLE(?ordinal_) AS ?ordinal) WHERE {
          ?collection wdt:P179 target: .
          OPTIONAL {
            ?work wdt:P1433 ?collection .
          }
          OPTIONAL {
            ?collection wdt:P1813 ?short_name_ .
          }
          OPTIONAL {
            ?collection wdt:P577 ?datetimes .
          }
          OPTIONAL {
            ?collection p:P179/pq:P1545 ?ordinal_ .
          }
        }
        GROUP BY ?collection
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?collection"], languages) }}
    }
    ORDER BY DESC(?publication_date) DESC(?number_of_papers)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/series_in-series.sparql
  title: series_in-series
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/series_in-series.sparql'
- name: series_organizations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: series-organizations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?year ?count ?organization ?organizationLabel WHERE {
      {
        SELECT ?year (COUNT(?work) AS ?count) ?organization WHERE {
          {
            SELECT (MIN(?year_) AS ?year) ?work WHERE {
              ?collection wdt:P179 target: .
              ?work wdt:P1433 ?collection .
              ?work wdt:P577 ?datetimes .
              BIND (STR(YEAR(?datetimes)) AS ?year_)
            }
            GROUP BY ?work
          }
          ?work wdt:P50 ?author .
          # For now, only employment relation
          # We could add affiliation with "| wdt:P1416/wdt:P361*"
          # Note that this extra term will double count.
          ?author wdt:P108 ?organization .
        }
        GROUP BY ?year ?organization
        # Exclude organizations with only a single count
        # HAVING(?count > 1)
        }
      {{ sparql_helpers.labels(["?organization"], languages) }}
      }
     ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/series_organizations.sparql
  title: series_organizations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/series_organizations.sparql'
- name: series_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: series-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?topic ?topicLabel WHERE {
      {
        SELECT (COUNT(*) AS ?count) ?topic WHERE {
          # Topics of series
          {
            target: wdt:P921 ?topic .
          }
          # Topics of collections in series
          UNION {
            ?collection wdt:P179 target: ;
                        wdt:P921 ?topic .
          }
          # Topics of works in collections in series
          UNION {
            ?work wdt:P1433/wdt:P179 target: ;
                  wdt:P921 ?topic .
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?count) DESC(?count)
    LIMIT 100
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/series_topics.sparql
  title: series_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/series_topics.sparql'
- name: series_works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: series-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?number_of_citations ?publication_date ?work ?workLabel WHERE {
      {
        SELECT (MIN(?datetimes) AS ?publication_datetime) (COUNT(DISTINCT ?citing_work) AS ?number_of_citations) ?work WHERE {
          ?collection wdt:P179 target: .
          ?work wdt:P1433 ?collection .
          OPTIONAL {
            ?work wdt:P577 ?datetimes .
          }
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?number_of_citations) DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/series_works.sparql
  title: series_works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/series_works.sparql'
- name: software-curation_missing-describes-use
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-curation-missing-describes-use--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX target:\
    \ <http://www.wikidata.org/entity/{{ q }}>\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX mwapi: <https://www.mediawiki.org/ontology#API/>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT DISTINCT ?work ?workLabel\
    \ (CONCAT(\"/work/\", SUBSTR(STR(?work),32)) AS ?workUrl) ?softwarename\n  (CONCAT(SUBSTR(STR(?work),32),\
    \ \"\\tP4510\\t{{ q }}\\tS887\\tQ69652283\") AS ?quickStatements)\n  (CONCAT(\"\
    https://quickstatements.toolforge.org/#/v1=\", \n          SUBSTR(STR(?work),32),\
    \ \"%7CP4510%7C{{ q }}%7CS887%7CQ69652283\") AS ?quickStatementsUrl)\nWHERE {\
    \ {\n  SELECT ?work ?softwarename WHERE {\n    target: wdt:P31 wd:Q7397 ;\n  \
    \          rdfs:label ?softwarename .\n    FILTER (LANG(?softwarename) = \"en\"\
    )\n    SERVICE <https://query.wikidata.org/sparql> {\n      SERVICE wikibase:mwapi\
    \ {\n        bd:serviceParam wikibase:endpoint \"www.wikidata.org\" ;\n      \
    \                  wikibase:api \"Generator\" ;\n                        mwapi:generator\
    \ \"search\" ;\n                        mwapi:gsrsearch ?softwarename ;\n    \
    \                    mwapi:gsrlimit \"max\" .\n        ?work wikibase:apiOutputItem\
    \ mwapi:title.\n      }\n    }\n    ?work wdt:P1476 ?title .\n    MINUS {\n  \
    \    ?work wdt:P4510 target:\n    }\n    FILTER (REGEX(LCASE(?title),LCASE(CONCAT(\"\
    \\\\\\\\\", \"b\", ?softwarename, \"\\\\\\\\\", \"b\"))))\n  }\n  LIMIT 200\n\
    }\n  {{ sparql_helpers.labels([\"?work\"], languages) }}\n}\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software-curation_missing-describes-use.sparql
  title: software-curation_missing-describes-use
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software-curation_missing-describes-use.sparql'
- name: software-index_most-used-software
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-index-most-used-software--named_queries_qlever@scholia.toolforge.org
  sparql: "{% import 'sparql-helpers.sparql' as sparql_helpers -%}\nPREFIX bd: <http://www.bigdata.com/rdf#>\n\
    PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\
    PREFIX wikibase: <http://wikiba.se/ontology#>\nSELECT ?count ?software ?softwareLabel\
    \ ?softwareUrl ?described_by_example ?described_by_exampleLabel ?example_use ?example_useLabel\
    \ WHERE {\n  {\n    SELECT (COUNT(DISTINCT ?work) AS ?count) ?software (CONCAT(\"\
    /software/\", SUBSTR(STR(?software),32)) AS ?softwareUrl) (SAMPLE(?described_by)\
    \ AS ?described_by_example) (SAMPLE(?work) AS ?example_use) WHERE {\n      ?work\
    \ wdt:P4510 ?software .\n      ?software wdt:P31/wdt:P279* wd:Q7397 .\n      #\
    \ Restricting to work takes too long time :(    \n      # ?work wdt:P31/wdt:P279*\
    \ wd:Q386724 .\n      OPTIONAL {\n        ?software wdt:P1343 ?described_by .\n\
    \      }\n    }\n    GROUP BY ?software\n  }\n  {{ sparql_helpers.labels([\"?example_use\"\
    , \"?software\"], languages) }}\n  {{ sparql_helpers.labels_unbound([\"?described_by_example\"\
    ], languages) }}\n}\nORDER BY DESC(?count)\nLIMIT 500\n"
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software-index_most-used-software.sparql
  title: software-index_most-used-software
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software-index_most-used-software.sparql'
- name: software_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?author ?authorLabel ?authorDescription ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?author (SAMPLE(?work) AS ?example_work) WHERE {
          ?work (wdt:P2283 | wdt:P4510)/wdt:P279* target: ;
                wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?count)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?example_work", "?author"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_authors.sparql
  title: software_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_authors.sparql'
- name: software_coused
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-coused--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?coused ?cousedLabel ?example_work ?example_workLabel WHERE {
      # Label the result
      { # Find works that are using a specific software,
        # and find other software used in the found works
        SELECT ?coused (COUNT(?work) AS ?count) (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P4510 ?coused .
          FILTER (?coused != target:)
        }
        GROUP BY ?coused
      }
      {{ sparql_helpers.labels(["?coused", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_coused.sparql
  title: software_coused
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_coused.sparql'
- name: software_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      BIND (target: AS ?software)
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        ?software wdt:P1476 ?value .
      }
      UNION {
        SELECT (2 AS ?order) ("Developers" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P178 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        BIND (2 AS ?order)
        BIND ("Programming language" AS ?description)
        ?software wdt:P277 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../topic/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (3 AS ?order)
        BIND ("License" AS ?description)
        ?software wdt:P275 ?iri .
        BIND (SUBSTR(STR(?iri),32) AS ?q)
        ?iri rdfs:label ?value_string .
        FILTER (LANG(?value_string) = 'en')
        BIND (STR(?value_string) AS ?value)
        BIND (CONCAT("../license/", ?q) AS ?valueUrl)
      }
      UNION {
        BIND (4 AS ?order)
        BIND ("Publication date" AS ?description)
        ?software p:P577/psv:P577 ?publication_date_value .
        ?publication_date_value wikibase:timePrecision ?time_precision ;
                                wikibase:timeValue ?publication_date .
        BIND (IF(?time_precision = 9,YEAR(?publication_date),xsd:date(?publication_date)) AS ?value)
      }
      UNION {
        SELECT (5 AS ?order) ("Uses" AS ?description) (GROUP_CONCAT(?value_; SEPARATOR=", ") AS ?value) (CONCAT("../topics/", GROUP_CONCAT(?q; SEPARATOR=",")) AS ?valueUrl) {
          BIND (1 AS ?dummy)
          target: wdt:P366 ?iri .
          BIND (SUBSTR(STR(?iri),32) AS ?q)
          ?iri rdfs:label ?value_string .
          FILTER (LANG(?value_string) = 'en')
          BIND (COALESCE(?value_string, ?q) AS ?value_)
        }
        GROUP BY ?dummy
      }
      UNION {
        BIND (11 AS ?order)
        BIND ("Homepage" AS ?description)
        ?software wdt:P856 ?valueUrl .
        BIND (STR(?valueUrl) AS ?value)
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_data.sparql
  title: software_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_data.sparql'
- name: software_dependent-software
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-dependent-software--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?software ?softwareLabel ?softwareDescription (CONCAT("/software/", SUBSTR(STR(?software),32)) AS ?softwareUrl) WHERE {
      {
        SELECT (COUNT(?other_software) AS ?count) ?software {
          ?software wdt:P1547+ target: .
          OPTIONAL {
            ?other_software wdt:P1547+ ?software .
          }
        }
        GROUP BY ?software
        ORDER BY DESC(?count)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?software"], languages) }}
      {{ sparql_helpers.descriptions(["?software"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_dependent-software.sparql
  title: software_dependent-software
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_dependent-software.sparql'
- name: software_recent-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-recent-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel WHERE {
      {
        SELECT ?publication_datetime ?work WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P577 ?publication_datetime .
        }
        ORDER BY DESC(?publication_datetime)
        LIMIT 500
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_recent-works.sparql
  title: software_recent-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_recent-works.sparql'
- name: software_software-dependencies
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-software-dependencies--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #description: Show software library, programming language and developer dependencies
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Graph
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?resource1 ?resource1Label ?resource2 ?resource2Label ?image2 {
      {
        SELECT ?resource1 (SAMPLE(?image1_) AS ?image1) ?rgb ?resource2 (SAMPLE(?image2_) AS ?image2) {
          {
            # root node with coloring
            BIND (target: AS ?resource1)
            BIND ("3080BB" AS ?rgb)
          }
          UNION {
            # dependencies, programming language, developer
            target: (wdt:P1547 | wdt:P277 | wdt:P178 | wdt:P2283 | wdt:P275)+ ?resource1 .
            OPTIONAL {
              ?resource1 wdt:P18 ?image1_
            }
          }
          target: (wdt:P1547 | wdt:P277 | wdt:P178 | wdt:P2283 | wdt:P275)+ ?resource2 .
          OPTIONAL {
            ?resource2 wdt:P18 ?image2_
          }
          ?resource1 (wdt:P1547 | wdt:P277 | wdt:P178 | wdt:P2283 | wdt:P275) ?resource2 .
        }
        GROUP BY ?resource1 ?resource2 ?rgb
      }
      {{ sparql_helpers.labels(["?resource1", "?resource2"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_software-dependencies.sparql
  title: software_software-dependencies
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_software-dependencies.sparql'
- name: software_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: software-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?topic ?topicLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?topic WHERE {
          ?work (wdt:P2283 | wdt:P4510)/wdt:P279* target: .
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic
        ORDER BY DESC(?count)
        LIMIT 100
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/software_topics.sparql
  title: software_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/software_topics.sparql'
- name: sparql-helpers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: sparql-helpers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% macro labels(variables, languages) -%}
      {% for variable in variables -%}
        {% for language in languages -%}
          OPTIONAL { {{ variable }} <http://www.w3.org/2000/01/rdf-schema#label> {{ variable }}Label. FILTER(LANG({{ variable }}Label) = "{{ language }}") }
        {% endfor -%}
        {%- if not loop.last %}
        {% endif %}
      {%- endfor %}
    {%- endmacro -%}

    {% macro labels_unbound(variables, languages) -%}
      {% for variable in variables -%}
        BIND (IF(BOUND ({{ variable }}), {{ variable }}, <http://doesntexist.example.com/nexistepas>) AS {{ variable }}__)
        {% for language in languages -%}
          OPTIONAL { {{ variable }}__ <http://www.w3.org/2000/01/rdf-schema#label> {{ variable }}Label. FILTER(LANG({{ variable }}Label) = "{{ language }}") }
        {% endfor -%}
        {%- if not loop.last %}
        {% endif %}
      {%- endfor %}
    {%- endmacro -%}

    {% macro descriptions(variables, languages) -%}
      {% for variable in variables -%}
        {% for language in languages -%}
          OPTIONAL { {{ variable }} <http://schema.org/description> {{ variable }}Description. FILTER(LANG({{ variable }}Description) = "{{ language }}") }
        {% endfor -%}
        {%- if not loop.last %}
        {% endif %}
      {%- endfor %}
    {%- endmacro -%}

    {% macro descriptions_unbound(variables, languages) -%}
      {% for variable in variables -%}
        BIND (IF(BOUND ({{ variable }}), {{ variable }}, <http://doesntexist.example.com/nexistepas>) AS {{ variable }}___)
        {% for language in languages -%}
          OPTIONAL { {{ variable }}___ <http://schema.org/description> {{ variable }}Description. FILTER(LANG({{ variable }}Description) = "{{ language }}") }
        {% endfor -%}
        {%- if not loop.last %}
        {% endif %}
      {%- endfor %}
    {%- endmacro -%}
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/sparql-helpers.sparql
  title: sparql-helpers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/sparql-helpers.sparql'
- name: sponsor_authors-on-sponsored-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: sponsor-authors-on-sponsored-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Authors on works sponsored or funded from a specific entity.
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?publication_count ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT ?author (COUNT(?work) AS ?publication_count) (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P859+ target: .
          ?work wdt:P50 ?author .
        }
        GROUP BY ?author
      }
      {{ sparql_helpers.labels(["?example_work", "?author"], languages) }}
    }
    ORDER BY DESC(?publication_count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/sponsor_authors-on-sponsored-works.sparql
  title: sponsor_authors-on-sponsored-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/sponsor_authors-on-sponsored-works.sparql'
- name: sponsor_co-sponsors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: sponsor-co-sponsors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: Co-funders to a specific funder including an example funded work
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?sponsor ?sponsorLabel (CONCAT("/sponsor/", SUBSTR(STR(?sponsor),32)) AS ?sponsorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      # Label the result
      {
        SELECT (COUNT(?work) AS ?count) ?sponsor (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P859+ target: .
          ?work wdt:P859+ ?sponsor .
          FILTER (target: != ?sponsor)
        }
        GROUP BY ?sponsor
      }
      {{ sparql_helpers.labels(["?sponsor", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/sponsor_co-sponsors.sparql
  title: sponsor_co-sponsors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/sponsor_co-sponsors.sparql'
- name: sponsor_project-budgets
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: sponsor-project-budgets--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    # title: Scatterplot of project budgets associated with a funder
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:ScatterChart
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?start_time ?budget ?project ?projectLabel WHERE {
      ?project wdt:P859+ target: .
      ?project wdt:P2769 ?budget .
      ?project (wdt:P580 | wdt:P571) ?start_time .
      {{ sparql_helpers.labels(["?project"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/sponsor_project-budgets.sparql
  title: sponsor_project-budgets
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/sponsor_project-budgets.sparql'
- name: sponsor_recently-published-sponsored-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: sponsor-recently-published-sponsored-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?number_of_citations ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?quote WHERE {
      {
        SELECT (MIN(?date) AS ?publication_date) (COUNT(?citing_work) AS ?number_of_citations) ?work (SAMPLE(?quote_) AS ?quote) WHERE {
          ?work p:P859+ ?sponsor_statement .
          ?sponsor_statement ps:P859+ target: .
          OPTIONAL {
            ?sponsor_statement prov:wasDerivedFrom/pr:P1683 ?quote_ .
          }
          OPTIONAL {
            ?work wdt:P577 ?datetime .
            BIND (xsd:date(?datetime) AS ?date)
          }
          OPTIONAL {
            ?citing_work wdt:P2860 ?work
          }
        }
        GROUP BY ?work
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date) DESC(?number_of_citations)
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/sponsor_recently-published-sponsored-works.sparql
  title: sponsor_recently-published-sponsored-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/sponsor_recently-published-sponsored-works.sparql'
- name: sponsor_topics-of-sponsored-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: sponsor-topics-of-sponsored-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?topic ?topicLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?topic WHERE {
          ?work wdt:P859+ target: .
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic
        ORDER BY DESC(?count)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/sponsor_topics-of-sponsored-works.sparql
  title: sponsor_topics-of-sponsored-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/sponsor_topics-of-sponsored-works.sparql'
- name: taxon-curation_missing-topic-tags-for-taxon-name
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-curation-missing-topic-tags-for-taxon-name--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX mwapi: <https://www.mediawiki.org/ontology#API/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>

    SELECT DISTINCT ?item (?title AS ?itemLabel) (CONCAT("/work/", ?work) AS ?itemUrl) ?taxonname ?work ("P921" AS ?main_subject) ?taxon ("S887" AS ?heuristic) ("Q69652283" AS ?deduced) WHERE {
      SERVICE <https://query.wikidata.org/sparql> {
        # this filters for species-level (Q7432) taxon names; comment out or adapt as necessary
        target: wdt:P105 wd:Q7432 .
        target: wdt:P225 ?taxonname .

        SERVICE wikibase:mwapi {
          bd:serviceParam wikibase:endpoint "www.wikidata.org" ;
                          wikibase:api "Generator" ;
                          mwapi:generator "search" ;
                          mwapi:gsrsearch ?taxonname ;
                          mwapi:gsrlimit "max" .
          ?item wikibase:apiOutputItem mwapi:title .
        }
      }

      ?item wdt:P1476 ?title .
      # this filters out works about subspecies of the target
      MINUS { ?item wdt:P921/wdt:P171* target: }

      FILTER (REGEX(?title, CONCAT("\\\\b", ?taxonname, "\\\\b"), "i"))

      BIND (SUBSTR(STR(?item), 32) AS ?work)
      BIND (SUBSTR(STR(target:), 32) AS ?taxon)
    } LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon-curation_missing-topic-tags-for-taxon-name.sparql
  title: taxon-curation_missing-topic-tags-for-taxon-name
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon-curation_missing-topic-tags-for-taxon-name.sparql'
- name: taxon_co-occurring-taxa
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-co-occurring-taxa--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: Taxa that co-occur with the target taxon in the literature
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count (CONCAT("/topics/", SUBSTR(STR(target:),32), ",", SUBSTR(STR(?taxon),32)) AS ?countUrl) ?taxon ?taxonLabel (CONCAT("/taxon/", SUBSTR(STR(?taxon),32)) AS ?taxonUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      # Label the results
      {
        SELECT (COUNT(?work) AS ?count) ?taxon (SAMPLE(?work) AS ?example_work) WHERE {
          # Find works for the specific queried topic
          ?work wdt:P921 target: .
          # Find co-occuring topics
          ?work wdt:P921 ?taxon .
          # Filter for taxa
          ?taxon wdt:P105 ?taxonrank .
          # Avoid listing the queried topic itself
          FILTER (target: != ?taxon)
        }
        GROUP BY ?taxon
      }
      {{ sparql_helpers.labels(["?taxon", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_co-occurring-taxa.sparql
  title: taxon_co-occurring-taxa
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_co-occurring-taxa.sparql'
- name: taxon_genome
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-genome--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?gene ?geneLabel ?geneDescription ?chromosome ?chromosomeLabel ?chromosomeDescription {
      ?gene wdt:P31 wd:Q7187 ;
            wdt:P703 target: ;
            wdt:P1057 ?chromosome .
      {{ sparql_helpers.labels(["?gene", "?chromosome"], languages) }}
      {{ sparql_helpers.descriptions(["?gene", "?chromosome"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_genome.sparql
  title: taxon_genome
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_genome.sparql'
- name: taxon_identifiers
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-identifiers--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?Identifier ?IdentifierLabel ?id (SAMPLE(?idUrls) AS ?idUrl) ?IdentifierDescription {
      {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?id ?formatterurl WHERE {
              target: ?IDdir ?id .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31/wdt:P279* wd:Q42396390 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
              FILTER (?Identifier != wd:P233)
              FILTER (?Identifier != wd:P234)
              FILTER (?Identifier != wd:P2017)
            }
            LIMIT 500
          }
          FILTER (?Identifier = wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', ENCODE_FOR_URI(STR(?id)))) AS ?idUrls) .
        }
      }
      UNION {
        SELECT * WHERE {
          {
            SELECT ?Identifier ?id ?formatterurl WHERE {
              target: ?IDdir ?id .
              ?Identifier wikibase:directClaim ?IDdir ;
                          wdt:P31/wdt:P279* wd:Q42396390 .
              OPTIONAL {
                ?Identifier wdt:P1630 ?formatterurl .
              }
              FILTER (?Identifier != wd:P233)
              FILTER (?Identifier != wd:P234)
              FILTER (?Identifier != wd:P2017)
            }
            LIMIT 500
          }
          FILTER (?Identifier != wd:P234)
          BIND (IRI(REPLACE(?formatterurl, '\\\\$1', STR(?id))) AS ?idUrls) .
        }
      }
      {{ sparql_helpers.labels(["?Identifier"], languages) }}
      {{ sparql_helpers.descriptions(["?Identifier"], languages) }}
    }
    GROUP BY ?Identifier ?IdentifierLabel ?IdentifierDescription ?id
    ORDER BY ASC(?IdentifierLabel)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_identifiers.sparql
  title: taxon_identifiers
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_identifiers.sparql'
- name: taxon_metabolome
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-metabolome--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?metabolite ?metaboliteLabel ?metaboliteChemicalStructure ?metaboliteDescription {
      {
        SELECT DISTINCT ?metabolite ?metaboliteChemicalStructure WHERE {
          {
            SELECT DISTINCT ?children WHERE {
              ?children (wdt:P171*) target: .
            }
          }
          {
            ?metabolite wdt:P703 ?children
          }
          VALUES ?chemical { wd:Q113145171 wd:Q59199015 }
          ?metabolite wdt:P31 ?chemical .
          OPTIONAL {
            ?metabolite wdt:P233 ?canSmiles
          }
          OPTIONAL {
            ?metabolite wdt:P2017 ?isoSmiles
          }
          BIND (COALESCE(?isoSmiles, ?canSmiles) AS ?metaboliteChemicalStructure)
        }
      }
      {{ sparql_helpers.labels(["?metabolite"], languages) }}
      {{ sparql_helpers.descriptions(["?metabolite"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_metabolome.sparql
  title: taxon_metabolome
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_metabolome.sparql'
- name: taxon_parent-taxa
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-parent-taxa--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT (COUNT(?middle) AS ?distance) (GROUP_CONCAT(DISTINCT ?_rankLabel; SEPARATOR=", ") AS ?rank) ?parent ?parentLabel ?parentDescription {
      target: wdt:P171* ?middle .
      ?middle wdt:P171+ ?parent .
      ?parent wdt:P105 ?_rank .
      {{ sparql_helpers.labels(["?_rank", "?parent"], languages) }}
      {{ sparql_helpers.descriptions(["?parent"], languages) }}
    }
    GROUP BY ?parent ?parentLabel ?parentDescription
    ORDER BY ?distance
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_parent-taxa.sparql
  title: taxon_parent-taxa
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_parent-taxa.sparql'
- name: taxon_proteome
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-proteome--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?protein ?proteinLabel ?proteinDescription ?gene ?geneLabel {
      ?protein wdt:P31 wd:Q8054 ;
               wdt:P703 target: ;
               wdt:P702 ?gene.
      {{ sparql_helpers.labels(["?protein", "?gene"], languages) }}
      {{ sparql_helpers.descriptions(["?protein"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_proteome.sparql
  title: taxon_proteome
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_proteome.sparql'
- name: taxon_tree
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: taxon-tree--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (?_child AS ?child) ?childLabel ?rgb (?_parent AS ?parent) ?parentLabel WHERE {
      {
        # Parent taxa
        target: wdt:P171+ ?_child .
        ?_child wdt:P171 ?_parent .
        BIND ("FFFFFF" AS ?rgb)
      } UNION {
        # Child taxa
        {SELECT ?_child ?_parent WHERE {
          BIND (target: AS ?_parent) .
          ?_child wdt:P171 ?_parent .
        } LIMIT 100}
        BIND ("DDDDDD" AS ?rgb)
      } UNION {
        BIND (target: AS ?_child) .
        ?_child wdt:P171 ?_parent .
        BIND ("FF0000" AS ?rgb)
      }

      OPTIONAL {
        ?_child wdt:P105 ?_childRank .
        {{ sparql_helpers.labels(["?_childRank"], languages) }}
      }
      OPTIONAL {
        ?_parent wdt:P105 ?_parentRank .
        {{ sparql_helpers.labels(["?_parentRank"], languages) }}
      }
      {{ sparql_helpers.labels(["?_child", "?_parent"], languages) }}

      BIND (CONCAT(?_childLabel, " - ", COALESCE(?_childRankLabel, "???")) AS ?childLabel)
      BIND (CONCAT(?_parentLabel, " - ", COALESCE(?_parentRankLabel, "???")) AS ?parentLabel)
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/taxon_tree.sparql
  title: taxon_tree
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/taxon_tree.sparql'
- name: topic-curation_missing-author-items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-curation-missing-author-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      # Number of works with the author
      ?count
      # Author score - 3 points for authoring a work, 1 for being cited
      ?score
      # Author as a string
      ?author
      # Build URL to the Author disambiguator tool
      (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?author)) AS ?resolver_url)
      # Generate a score for each author
    WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?author WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
            }
            LIMIT 10000
          }
          ?work wdt:P2093 ?author .
        }
        GROUP BY ?author
      }
      {
        SELECT (SUM(?score_) AS ?score) ?author WHERE {
          {
            # Assign them 3 points if they are an author of a work on the subject
            SELECT (3 AS ?score_) ?author WHERE {
              [] wdt:P2093 ?author ;
                 wdt:P921/wdt:P279* target: .
            }
          }
          UNION {
            # Assign them 1 point if they are the author of a work that is cited by a work on the subject
            SELECT (1 AS ?score_) ?author WHERE {
              [] wdt:P2860/wdt:P2093 ?work ;
                 wdt:P921/wdt:P279* target: .
            }
          }
        }
        GROUP BY ?author
      }
    }
    ORDER BY DESC(?count) DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic-curation_missing-author-items.sparql
  title: topic-curation_missing-author-items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic-curation_missing-author-items.sparql'
- name: topic-curation_missing-co-topic
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-curation-missing-co-topic--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # tool: scholia
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work), 32)) AS ?workUrl) WHERE {
      { # Count citations
        SELECT (COUNT(DISTINCT ?citing_work) AS ?count) ?work (COUNT(DISTINCT ?topic) AS ?topics) WHERE {
          ?work wdt:P921 target: .
          OPTIONAL {
            ?work wdt:P921 ?topic . FILTER (?topic != target:)
          }
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
        HAVING (?topics < 1)
        ORDER BY DESC(?count)
        LIMIT 100
      }

      # Label results
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?count) ?topics
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic-curation_missing-co-topic.sparql
  title: topic-curation_missing-co-topic
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic-curation_missing-co-topic.sparql'
- name: topic-curation_missing-pub-date
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-curation-missing-pub-date--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?citations ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) (?work AS ?wikidata_url) WHERE {
      {
        SELECT (COUNT(?work1) AS ?citations) ?work WHERE {
          {
            SELECT (COUNT(?work) AS ?count) ?work WHERE {
              # Works on the topic
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
              # Works that do not have a publication date statement
              FILTER NOT EXISTS {
                ?work wdt:P577 ?date .
              }
              # Works that do not have an ISSN, i.e. that are not periodicals
              FILTER NOT EXISTS {
                ?work wdt:P236 ?issn .
              }
            }
            GROUP BY ?work
            ORDER BY DESC(?count)
            LIMIT 2000
          }
          # Works cited
          OPTIONAL {
            ?work1 wdt:P2860 ?work
          } .
        }
        GROUP BY ?work
        ORDER BY DESC(?citations)
        LIMIT 200
      }

      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic-curation_missing-pub-date.sparql
  title: topic-curation_missing-pub-date
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic-curation_missing-pub-date.sparql'
- name: topic-curation_missing-pub-venue
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-curation-missing-pub-venue--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?citations ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) (?work AS ?wikidata_url) WHERE {
      {
        SELECT (COUNT(?work1) AS ?citations) ?work WHERE {
          {
            SELECT (COUNT(?work) AS ?count) ?work WHERE {
              # Works on the topic
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
              # Works that do not have a statement about where they were published
              FILTER NOT EXISTS {
                ?work wdt:P1433 ?venue .
              }
              # Works that do not have an ISSN, i.e. that are not periodicals
              FILTER NOT EXISTS {
                ?work wdt:P236 ?issn .
              }
            }
            GROUP BY ?work
            ORDER BY DESC(?count)
            LIMIT 2000
          }
          # Works cited
          OPTIONAL {
            ?work1 wdt:P2860 ?work
          } .
        }
        GROUP BY ?work
        ORDER BY DESC(?citations)
        LIMIT 200
      }

      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic-curation_missing-pub-venue.sparql
  title: topic-curation_missing-pub-venue
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic-curation_missing-pub-venue.sparql'
- name: topic-use_works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-use-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work), 32)) AS ?workUrl) WHERE {
      ?work wdt:P921 target1: ;
            wdt:P4510 target2: .
      OPTIONAL {
        ?work wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?publication_date)
      }

      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic-use_works.sparql
  title: topic-use_works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic-use_works.sparql'
- name: topic_author-awards
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-author-awards--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?award ?awardLabel (CONCAT("/award/", SUBSTR(STR(?award), 32)) AS ?awardUrl) ?recipients ?recipientsUrl WHERE {
      {
        SELECT (COUNT(?researcher) AS ?count) ?award (GROUP_CONCAT(?researcherLabel; SEPARATOR=", ") AS ?recipients) (CONCAT("../authors/", GROUP_CONCAT(SUBSTR(STR(?researcher), 32); SEPARATOR=",")) AS ?recipientsUrl) WHERE {
          {
            SELECT DISTINCT ?researcher ?award WHERE {
              ?work wdt:P921 target: .
              ?work wdt:P50 ?researcher .
              ?researcher wdt:P166 ?award .
            }
          }
          {{ sparql_helpers.labels(["?researcher"], languages) }}
        }
        GROUP BY ?award
      }

      {{ sparql_helpers.labels(["?award"], languages) }}
    }
    GROUP BY ?count ?award ?awardLabel ?recipients ?recipientsUrl
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_author-awards.sparql
  title: topic_author-awards
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_author-awards.sparql'
- name: topic_author-scores-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-author-scores-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?score ?author ?authorLabel WHERE {
      {
        SELECT ?author (SUM(?score_) AS ?score) WHERE {
          {
            ?author wdt:P101/wdt:P279* target: .
            BIND (20 AS ?score_)
          }
          UNION {
            ?work wdt:P50 ?author ;
                  wdt:P921/wdt:P279* target: .
            BIND (3 AS ?score_)
          }
          UNION {
            ?citing_work wdt:P2860 ?work ;
                         wdt:P921/wdt:P279* target: .
            ?work wdt:P50 ?author .
            BIND (1 AS ?score_)
          }
        } GROUP BY ?author
      }

      {{ sparql_helpers.labels(["?author"], languages) }}
    } ORDER BY DESC(?score)
      LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_author-scores-graph.sparql
  title: topic_author-scores-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_author-scores-graph.sparql'
- name: topic_author-scores
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-author-scores--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?score ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author), 32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work), 32)) AS ?example_workUrl) WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?author (SAMPLE(?_example_work) AS ?example_work) (SAMPLE(?_example_workLabel) AS ?example_workLabel) WHERE {
          {
            ?author wdt:P101/wdt:P279* target: .
            BIND (20 AS ?score_)
          }
          UNION
          {
            {
              SELECT (SUM(?workScore) AS ?score_) ?author (SAMPLE(?work) AS ?_example_work) WHERE {
                {
                  ?work wdt:P50 ?author ;
                        wdt:P921/wdt:P279* target: .
                  BIND (3 AS ?workScore)
                }
                UNION
                {
                  ?citing_work wdt:P2860 ?work ;
                              wdt:P921/wdt:P279* target: .
                  ?work wdt:P50 ?author .
                  BIND (1 AS ?workScore)
                }
              } GROUP BY ?author
            }

            # Label of example work needs to be loaded when it is definitely bound, otherwise it
            # tries include all existing labels. At the same time, it needs to be loaded after
            # the works are sampled, as otherwise the title and IRI may refer to different works.

            {{ sparql_helpers.labels(["?_example_work"], languages) }}
          }
        } GROUP BY ?author
      }

      {{ sparql_helpers.labels(["?author"], languages) }}
    } ORDER BY DESC(?score)
      LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_author-scores.sparql
  title: topic_author-scores
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_author-scores.sparql'
- name: topic_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?author ?authorLabel ?authorDescription (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) (COALESCE(?orcid_, CONCAT("orcid-search/search/?searchQuery=", ?authorLabel)) AS ?orcid) WHERE {
      {
        SELECT ?author (COUNT(?work) AS ?count) WHERE {
          {
            ?work wdt:P921/wdt:P31*/wdt:P279* target: .
          } UNION {
            ?work wdt:P921/wdt:P361+ target: .
          } UNION {
            ?work wdt:P921/wdt:P1269+ target: .
          }
          ?work wdt:P50 ?author .
        } GROUP BY ?author
          LIMIT 200
      }

      OPTIONAL { ?author wdt:P496 ?orcid_ . }

      {{ sparql_helpers.labels(["?author"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    } ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_authors.sparql
  title: topic_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_authors.sparql'
- name: topic_co-occurring-map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-co-occurring-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?location ?locationLabel ?geo ?example_work ?example_workLabel WHERE {
      {
        SELECT ?location ?geo (SAMPLE(?work) AS ?example_work) WHERE {
          # Find works that are marked with main subject of the topic.
          ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .
          # Identify co-occuring topic that is geo-locatable.
          ?work wdt:P921 ?location .
          ?location wdt:P625 ?geo .
        }
        GROUP BY ?location ?geo
      }

      # Label the results
      {{ sparql_helpers.labels(["?location", "?example_work"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_co-occurring-map.sparql
  title: topic_co-occurring-map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_co-occurring-map.sparql'
- name: topic_co-occurring
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-co-occurring--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?topic1 ?topic1Label ?topic2 ?topic2Label WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?topic1 ?topic2 WHERE {
          # Find works that are marked with main subject of the topic.
          ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .
          # Identify co-occuring topics.
          ?work wdt:P921 ?topic1, ?topic2 .
          # Exclude the topic it self
          FILTER (target: != ?topic1 && target: != ?topic2 && ?topic1 != ?topic2)
        }
        GROUP BY ?topic1 ?topic2
        ORDER BY DESC(?count)
        # There a performance problems in the browser: We cannot show large graphs,
        # so we put a limit on the number of links displayed.
        LIMIT 400
      }

      {{ sparql_helpers.labels(["?topic1", "?topic2"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_co-occurring.sparql
  title: topic_co-occurring
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_co-occurring.sparql'
- name: topic_coauthor-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-coauthor-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?author1 ?author1Label ?rgb ?author2 ?author2Label WHERE {
      {
        SELECT ?author2 ?author1 (COUNT(?work) AS ?count2) WHERE {
          # Find works with the topic
          ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .

          {
            SELECT (COUNT(?work) AS ?count1) ?author1 WHERE {
              # Find works with the topic
              ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .
              ?work wdt:P50 ?author1 .
            }
            GROUP BY ?author1
            ORDER BY DESC(?count1)
            LIMIT 25
          }

          ?work wdt:P50 ?author1, ?author2 .
          FILTER (?author1 != ?author2)
        }
        GROUP BY ?author2 ?author1
        ORDER BY DESC(?count2)
        LIMIT 250
      }

      OPTIONAL {
        ?author1 wdt:P21 ?gender1 .
      }
      BIND (IF(?gender1 = wd:Q6581097,"3182BD","E6550D") AS ?rgb)

      {{ sparql_helpers.labels(["?author1", "?author2"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_coauthor-graph.sparql
  title: topic_coauthor-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_coauthor-graph.sparql'
- name: topic_context
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-context--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Graph
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

    SELECT ?node ?nodeLabel ?nodeImage ?childNode ?childNodeLabel ?childNodeImage ?rgb WHERE {
      {
        {
          SELECT DISTINCT ?node ?childNode WHERE {
            BIND (target: AS ?node)
            ?node ?p ?i .
            ?childNode ?x ?p .
            ?childNode rdf:type wikibase:Property.
            FILTER (STRSTARTS(STR(?i),"http://www.wikidata.org/entity/Q"))
            FILTER (STRSTARTS(STR(?childNode),"http://www.wikidata.org/entity/P"))
          }
          LIMIT 5000
        }
      }
      UNION {
        {
          SELECT DISTINCT ?childNode ?node ?rgb WHERE {
            BIND ("EFFBD8" AS ?rgb)
            target: ?p ?childNode .
            ?node ?x ?p .
            ?node rdf:type wikibase:Property.
            FILTER (STRSTARTS(STR(?childNode),"http://www.wikidata.org/entity/Q"))
          }
          LIMIT 5000
        }
      }
      OPTIONAL {
        {
          SELECT DISTINCT ?property WHERE {
            ?property a wikibase:Property ;
                      wdt:P31 wd:Q18610173 ;
                      wdt:P31 wd:Q26940804 .
          }
        }
        ?property wikibase:directClaim ?nodeclaim .
        ?node ?nodeclaim ?nodeImage .
      }
      OPTIONAL {
        {
          SELECT DISTINCT ?property WHERE {
            ?property a wikibase:Property ;
                      wdt:P31 wd:Q18610173 ;
                      wdt:P31 wd:Q26940804 .
          }
        }
        ?property wikibase:directClaim ?childNodeclaim .
        ?childNode ?childNodeclaim ?childNodeImage .
      }

      {{ sparql_helpers.labels(["?node", "?childNode"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_context.sparql
  title: topic_context
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_context.sparql'
- name: topic_country-citation-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-country-citation-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?citing_country ?citing_countryLabel ?citing_flag ?cited_country ?cited_countryLabel ?cited_flag WHERE {
      {
        SELECT DISTINCT ?cited_country ?citing_country (COUNT(?citing_country) AS ?count) WHERE {
          ?citing_work wdt:P921 target: ;
                       wdt:P50 ?citing_author ;
                       wdt:P2860 ?cited_work .
          ?cited_work wdt:P921 target: ;
                      wdt:P50 ?cited_author .

          FILTER (?citing_work != ?cited_work)
          FILTER (?citing_author != ?cited_author)

          ?citing_author (wdt:P108 | wdt:P1416) ?citing_organization .
          ?cited_author (wdt:P108 | wdt:P1416) ?cited_organization .
          ?cited_organization wdt:P17 ?cited_country .
          ?citing_organization wdt:P17 ?citing_country .
          FILTER (?citing_country != ?cited_country)
        }
        GROUP BY ?cited_country ?citing_country
        ORDER BY DESC(?count)
        # Adjust number of connections to display
        LIMIT 42
      }
      ?cited_country wdt:P41 ?cited_flag .
      ?citing_country wdt:P41 ?citing_flag .

      {{ sparql_helpers.labels(["?citing_country", "?cited_country"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_country-citation-graph.sparql
  title: topic_country-citation-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_country-citation-graph.sparql'
- name: topic_earliest-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-earliest-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?topicsUrl ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?topicLabel; SEPARATOR=" // ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic), 32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
            }
          }
          ?work wdt:P921 ?topic ;
                wdt:P577 ?dates .
          FILTER (!ISBLANK(?dates)) .

          {{ sparql_helpers.labels(["?topic"], languages) }}
        }
        GROUP BY ?work
      }
      # There is a problem with BC dates
      # BIND(xsd:date(?datetime) AS ?date)
      BIND (REPLACE(STR(?datetime), 'T.*', '') AS ?date)

      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?date ?work ?workLabel ?topicsUrl ?topics
    ORDER BY ASC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_earliest-published-works.sparql
  title: topic_earliest-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_earliest-published-works.sparql'
- name: topic_most-cited-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-most-cited-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?number_of_citations ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?cited_work_example ?cited_work_exampleLabel (CONCAT("/work/", SUBSTR(STR(?cited_work_example),32)) AS ?cited_work_exampleUrl) WHERE {
      { # Find cited works
        SELECT (COUNT(?work) AS ?number_of_citations) ?author (SAMPLE(?cited_work) AS ?cited_work_example) WHERE {
          { # Find works about the topic
            SELECT DISTINCT ?work WHERE {
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
            }
          }
          ?cited_work wdt:P50 ?author .
          ?work wdt:P2860 ?cited_work .
        }
        GROUP BY ?author
      }

      # Label the results
      {{ sparql_helpers.labels(["?author", "?cited_work_example"], languages) }}
    }
    ORDER BY DESC(?number_of_citations)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_most-cited-authors.sparql
  title: topic_most-cited-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_most-cited-authors.sparql'
- name: topic_organization-map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-organization-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?organization ?organizationLabel ?geo ?count ?layer WHERE {
      {
        SELECT DISTINCT ?organization ?geo (COUNT(DISTINCT ?work) AS ?count) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              # Works on the topic
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
            }
            LIMIT 20000
          }
          # Authors who have published works on the topic
          ?work wdt:P50 ?author .
          ?author (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* ?organization .
          # Use the headquarters location by default but keep the coordinate location as a fallback
          OPTIONAL {
            ?organization p:P159/pq:P625 ?hq_geo
          }
          OPTIONAL {
            ?organization wdt:P625 ?coord_geo
          }
          BIND (IF(BOUND(?hq_geo),?hq_geo,?coord_geo) AS ?geo) .
          FILTER (BOUND(?geo)) .
        }
        GROUP BY ?organization ?geo
        ORDER BY DESC(?count)
        LIMIT 2000
      }
      BIND (IF((?count < 1),"No results",IF((?count < 2),"1 result",IF((?count < 11),"1 < results ‚â§ 10",IF((?count < 101),"10 < results ‚â§ 100",IF((?count < 1001),"100 < results ‚â§ 1000",IF((?count < 10001),"1000 < results ‚â§ 10000","10000 or more results")))))) AS ?layer)

      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_organization-map.sparql
  title: topic_organization-map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_organization-map.sparql'
- name: topic_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      (STR(?year_) AS ?year)
      (COUNT(?work) AS ?number_of_publications)
      # Work type used to color the bar chart
      (?article_typeLabel AS ?type)
    WHERE {
      {
        { # Find works with the topic. Also report the year
          SELECT ?work (MIN(?years) AS ?year_) (1 AS ?dummy) (SAMPLE(?article_type_) AS ?article_type) WHERE {
            ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .
            ?work wdt:P577 ?dates .
            BIND (YEAR(?dates) AS ?years) .
            ?work wdt:P31 ?article_type_ .
          }
          GROUP BY ?work
        }
        {{ sparql_helpers.labels(["?article_type"], languages) }}
      }
      UNION {
        VALUES ?year_class { wd:Q577 wd:Q3186692 }
        [] wdt:P31 ?year_class ;
           wdt:P585 ?date .
        BIND (YEAR(?date) AS ?year_)
        BIND ("_" AS ?article_typeLabel)
      }

      { # Find earliest publication year
        SELECT (MIN(?year_) AS ?earliest_year) WHERE {
          ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .
          ?work wdt:P577 ?date .
          BIND (YEAR(?date) AS ?year_) .
        }
      }

      BIND (YEAR(NOW()) AS ?this_year)
      FILTER (?year_ >= ?earliest_year && ?year_ <= ?this_year && ?year_ >= 1900)
    }
    GROUP BY ?year_ ?article_typeLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_publications-per-year.sparql
  title: topic_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_publications-per-year.sparql'
- name: topic_recently-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-recently-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?topicsUrl ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?topicLabel; SEPARATOR=" // ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              ?work wdt:P921/(wdt:P361+ | wdt:P1269+ | (wdt:P31*/wdt:P279*)) target: .
            }
          }
          ?work wdt:P921 ?topic .
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
          {{ sparql_helpers.labels(["?topic"], languages) }}
        }
        GROUP BY ?work
      }
      # There is a problem with BC dates
      # BIND(xsd:date(?datetime) AS ?date)
      BIND (REPLACE(STR(?datetime), 'T.*', '') AS ?date)

      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?date ?work ?workLabel ?topicsUrl ?topics
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_recently-published-works.sparql
  title: topic_recently-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_recently-published-works.sparql'
- name: topic_top-cited
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-top-cited--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?cited_work ?cited_workLabel (CONCAT("/work/", SUBSTR(STR(?cited_work), 32)) AS ?cited_workUrl) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?cited_work WHERE {
          {
            ?work wdt:P921/wdt:P31*/wdt:P279* target: .
          } UNION {
            ?work wdt:P921/wdt:P361+ target: .
          } UNION {
            ?work wdt:P921/wdt:P1269+ target: .
          }
          ?work wdt:P2860 ?cited_work .
        }
        GROUP BY ?cited_work
      }

      {{ sparql_helpers.labels(["?cited_work"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_top-cited.sparql
  title: topic_top-cited
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_top-cited.sparql'
- name: topic_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count (CONCAT("/topics/{{ q }},", SUBSTR(STR(?topic), 32)) AS ?countUrl) ?topic ?topicLabel (CONCAT("/topic/", SUBSTR(STR(?topic),32)) AS ?topicUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work), 32)) AS ?example_workUrl) WHERE {
      # Label the results
      {
        SELECT (COUNT(?work) AS ?count) ?topic (SAMPLE(?work) AS ?example_work) WHERE {
          # Find works for the specific queried topic
          ?work wdt:P921/(wdt:P31*/wdt:P279* | wdt:P361+ | wdt:P1269+) target: .
          # Find co-occuring topics
          ?work wdt:P921 ?topic .
          # Avoid listing the queried topic
          FILTER (target: != ?topic)
        }
        GROUP BY ?topic
      }

      {{ sparql_helpers.labels(["?topic", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_topics.sparql
  title: topic_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_topics.sparql'
- name: topic_uses
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-uses--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?use ?useLabel (CONCAT("/use/", SUBSTR(STR(?use), 32)) AS ?useUrl) ("üîé" AS ?zoom) (CONCAT(SUBSTR(STR(target:), 32), "/use/", SUBSTR(STR(?use), 32)) AS ?zoomUrl) ?useDescription ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?use (SAMPLE(?work) AS ?example_work) {
          ?work wdt:P921 target: ;
                wdt:P4510 ?use .
        }
        GROUP BY ?use
      }

      {{ sparql_helpers.labels(["?use", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?use"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_uses.sparql
  title: topic_uses
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_uses.sparql'
- name: topic_venues
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topic-venues--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?short_name ?venue ?venueLabel (CONCAT("/venue/", SUBSTR(STR(?venue),32)) AS ?venueUrl) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?venue (SAMPLE(?short_name_) AS ?short_name) WHERE {
          {
            ?work wdt:P921/wdt:P31*/wdt:P279* target: .
          }
          UNION {
            ?work wdt:P921/wdt:P361+ target: .
          }
          UNION {
            ?work wdt:P921/wdt:P1269+ target: .
          }
          ?work wdt:P1433/wdt:P179* ?venue .
          OPTIONAL {
            ?venue wdt:P1813 ?short_name_ .
          }
        }
        GROUP BY ?venue
      }

      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topic_venues.sparql
  title: topic_venues
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topic_venues.sparql'
- name: topics_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topics-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Authors for specific topics
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ((?distinct_topics + ?topics / (?topics + 100)) AS ?score) ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(DISTINCT ?topic) AS ?distinct_topics) (COUNT(?topic) AS ?topics) ?author (SAMPLE(?work) AS ?example_work) WHERE {
          #    VALUES ?topic { {% for q in qs %} wd:{{ q }} {% endfor %} }
          # A broad query including "(wdt:P361+ | wdt:P1269+ | (wdt:P31* / wdt:P279*) )" seems to take
          # long time and time out.
          ?work wdt:P921 ?topic ;
                wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?distinct_topics) DESC(?topics)
        LIMIT 200
      }

      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
    }
    ORDER BY DESC(?score)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topics_authors.sparql
  title: topics_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topics_authors.sparql'
- name: topics_list-of-topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topics-list-of-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: List of topics
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?topic ?topicLabel ?topicDescription (CONCAT("/topic/", SUBSTR(STR(?topic), 32)) AS ?topicUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work), 32)) AS ?example_workUrl) WHERE {
      {
        SELECT ?topic (SAMPLE(?work) AS ?example_work) WHERE {
          VALUES ?topic { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          OPTIONAL {
            ?work wdt:P921 ?topic ;
                  wdt:P31 wd:Q13442814 .
          }
        }
        GROUP BY ?topic
      }

      {{ sparql_helpers.labels(["?topic", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?topic"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topics_list-of-topics.sparql
  title: topics_list-of-topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topics_list-of-topics.sparql'
- name: topics_list-of-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: topics-list-of-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: List of works on any combination of specific topics
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?count (MIN(?publication_date_) AS ?publication_date) ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?topics ?topicsUrl WHERE {
      {
        SELECT (COUNT(DISTINCT ?mainTopic) AS ?count) ?work (GROUP_CONCAT(DISTINCT ?topicLabel; SEPARATOR=" // ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic), 32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            SELECT DISTINCT ?topic ?mainTopic WHERE {
              {% for q in qs -%}
              { ?topic wdt:P31?/wdt:P279* wd:{{ q }} . BIND(wd:{{ q }} as ?mainTopic) }
              UNION
              { ?topic wdt:P361+ wd:{{ q }} . BIND(wd:{{ q }} as ?mainTopic) }
              UNION
              { ?topic wdt:P1269+ wd:{{ q }} . BIND(wd:{{ q }} as ?mainTopic) }{% if not loop.last %}
              UNION{% endif %}
              {% endfor %}
            }
          }

          ?work wdt:P921 ?topic .
          {{ sparql_helpers.labels(["?topic"], languages) }}
        }
        GROUP BY ?work
        HAVING (?count > 1)
        ORDER BY DESC(?count)
        LIMIT 200
      }
      OPTIONAL {
        ?work wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?publication_date_)
      }

      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?count ?work ?workLabel ?topics ?topicsUrl
    ORDER BY DESC(?count) DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/topics_list-of-works.sparql
  title: topics_list-of-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/topics_list-of-works.sparql'
- name: use-curation_missing-author-items
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-curation-missing-author-items--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      # Number of works with the author
      ?count
      # Author score - 3 points for authoring a work, 1 for being cited
      ?score
      # Author as a string
      ?author
      # Build URL to the Author disambiguator tool
      (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?author)) AS ?resolver_url)
      # Generate a score for each author
    WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?author WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              ?work (wdt:P2283 | wdt:P4510) / wdt:P279* target: .
            }
            LIMIT 100000
          }
          ?work wdt:P2093 ?author .
        }
        GROUP BY ?author
      }
      {
        SELECT (SUM(?score_) AS ?score) ?author WHERE {
          {
            # Assign them 3 points if they are an author of a work using the resource
            SELECT (3 AS ?score_) ?author WHERE {
              [] wdt:P2093 ?author ;
                 (wdt:P2283 | wdt:P4510) / wdt:P279* target: .
            }
            LIMIT 10000
          }
          UNION {
            # Assign them 1 point if they are the author of a work that is cited by a work using the resource
            SELECT (1 AS ?score_) ?author WHERE {
              [] wdt:P2860/wdt:P2093 ?author ;
                 (wdt:P2283 | wdt:P4510) / wdt:P279* target: .
            }
            LIMIT 10000
          }
        }
        GROUP BY ?author
      }
    }
    ORDER BY DESC(?score) DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use-curation_missing-author-items.sparql
  title: use-curation_missing-author-items
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use-curation_missing-author-items.sparql'
- name: use-curation_missing-co-uses
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-curation-missing-co-uses--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # tool: scholia
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?couses ?citing_works ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work), 32)) AS ?workUrl) WHERE {
      { # Count citations
        SELECT (COUNT(DISTINCT ?citing_work) AS ?citing_works) ?work (COUNT(DISTINCT ?use) AS ?couses) WHERE {
          ?work wdt:P4510 target: .
          OPTIONAL {
            ?work wdt:P4510 ?use . FILTER (?use != target:)
          }
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
        # Disabled to also show works with few co-uses
        # HAVING (?couses < 1)
        ORDER BY DESC(?count)
        LIMIT 100
      }

      # Label results
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY ?couses DESC(?citing_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use-curation_missing-co-uses.sparql
  title: use-curation_missing-co-uses
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use-curation_missing-co-uses.sparql'
- name: use-curation_works-with-few-topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-curation-works-with-few-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # tool: scholia
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?number_of_topics ?citing_works ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work), 32)) AS ?workUrl) WHERE {
      { # Count citations
        SELECT (COUNT(DISTINCT ?citing_work) AS ?citing_works) ?work (COUNT(DISTINCT ?topic) AS ?number_of_topics) WHERE {
          # subclasses included to get version of resources
          ?work wdt:P4510/wdt:P279* target: .
          OPTIONAL {
            ?work wdt:P921 ?topic .
          }
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
        # HAVING (?topics < 1)
        ORDER BY DESC(?count)
        LIMIT 200
      }

      # Label results
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY ?number_of_topics DESC(?citing_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use-curation_works-with-few-topics.sparql
  title: use-curation_works-with-few-topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use-curation_works-with-few-topics.sparql'
- name: use-index_most-used
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-index-most-used--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?use ?useLabel (CONCAT("/use/", SUBSTR(STR(?use),32)) AS ?useUrl) ?described_by_example ?described_by_exampleLabel ?example_use ?example_useLabel WHERE {
      {
        {
          SELECT (COUNT(DISTINCT ?work) AS ?count) ?use (SAMPLE(?work) AS ?example_use) (SAMPLE(?described_by) AS ?described_by_example) WHERE {
            ?work wdt:P2283 | wdt:P4510 ?use .
            ?use wdt:P31/wdt:P279* wd:Q7397 .
            ?work wdt:P31/wdt:P279* wd:Q386724 .
            ?use wdt:P1343 ?described_by .
          }
          GROUP BY ?use
        }

        {{ sparql_helpers.labels(["?described_by_example"], languages) }}
      } UNION {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?use (SAMPLE(?work) AS ?example_use) WHERE {
          ?work wdt:P2283 | wdt:P4510 ?use .
          ?use wdt:P31/wdt:P279* wd:Q7397 .
          ?work wdt:P31/wdt:P279* wd:Q386724 .
          FILTER NOT EXISTS { ?use wdt:P1343 ?described_by }
        }
        GROUP BY ?use
      }

      {{ sparql_helpers.labels(["?use", "?example_use"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use-index_most-used.sparql
  title: use-index_most-used
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use-index_most-used.sparql'
- name: use_authors-of-works-using-the-resource
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-authors-of-works-using-the-resource--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?author ?authorLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?author WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?count)
        LIMIT 200
      }

      {{ sparql_helpers.labels(["?author"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use_authors-of-works-using-the-resource.sparql
  title: use_authors-of-works-using-the-resource
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use_authors-of-works-using-the-resource.sparql'
- name: use_co-used
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-co-used--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      ?count
      ?coused ?cousedLabel (CONCAT("/use/", SUBSTR(STR(?coused), 32)) AS ?cousedUrl)
      ("üîé" AS ?zoom) (CONCAT("../uses/{{ q }},", SUBSTR(STR(?coused), 32)) AS ?zoomUrl)
      ?cousedDescription
      ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work), 32)) AS ?example_workUrl)
    WHERE {
      { # Find works that are using a specific software,
        # and find other software used in the found works
        SELECT ?coused (COUNT(DISTINCT ?work) AS ?count) (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P4510 ?coused .
          FILTER (?coused != target:)
        }
        GROUP BY ?coused
      }

      # Label the result
      {{ sparql_helpers.labels(["?coused", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?coused"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use_co-used.sparql
  title: use_co-used
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use_co-used.sparql'
- name: use_recent-work-using-the-used
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-recent-work-using-the-used--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work), 32)) AS ?workUrl) WHERE {
      {
        SELECT ?publication_datetime ?work WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P577 ?publication_datetime .
        }
        ORDER BY DESC(?publication_datetime)
        LIMIT 1000
      }
      BIND (xsd:date(?publication_datetime) AS ?publication_date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use_recent-work-using-the-used.sparql
  title: use_recent-work-using-the-used
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use_recent-work-using-the-used.sparql'
- name: use_topics-of-works-using-the-resource
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-topics-of-works-using-the-resource--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?topic ?topicLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?topic WHERE {
          ?work wdt:P4510/wdt:P279* target: ;
                wdt:P921 ?topic .
        }
        GROUP BY ?topic
        ORDER BY DESC(?count)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use_topics-of-works-using-the-resource.sparql
  title: use_topics-of-works-using-the-resource
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use_topics-of-works-using-the-resource.sparql'
- name: use_usage-over-time
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: use-usage-over-time--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (COUNT(?work) AS ?number_of_works) ?useLabel WHERE {
      {
        SELECT (MIN(?year_) AS ?year) ?work ?use WHERE {
          ?use wdt:P279* target: .
          ?work wdt:P4510 ?use ;
                wdt:P577 ?publication_datetime .
          BIND (STR(YEAR(?publication_datetime)) AS ?year_)
        }
        GROUP BY ?work ?use
      }
      {{ sparql_helpers.labels(["?use"], languages) }}
    }
    GROUP BY ?year ?useLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/use_usage-over-time.sparql
  title: use_usage-over-time
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/use_usage-over-time.sparql'
- name: uses_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: uses-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Authors for specific uses
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?uses ?works ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(DISTINCT ?use) AS ?uses) (COUNT(DISTINCT ?work) AS ?works) ?author (SAMPLE(?work) AS ?example_work) WHERE {
          VALUES ?use { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          ?work wdt:P4510/wdt:P279* ?use ;
                wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?uses)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
    }
    ORDER BY DESC(?uses) DESC(?works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/uses_authors.sparql
  title: uses_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/uses_authors.sparql'
- name: uses_list-of-uses
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: uses-list-of-uses--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: List of uses
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?use ?useLabel ?useDescription (CONCAT("/use/", SUBSTR(STR(?use), 32)) AS ?useUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work), 32)) AS ?example_workUrl) WHERE {
      {
        {
          SELECT ?use (SAMPLE(?work) AS ?example_work) WHERE {
            VALUES ?use { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
            ?work wdt:P4510 ?use .
          }
          GROUP BY ?use
        }

        {{ sparql_helpers.labels(["?example_work"], languages) }}
      } UNION {
        VALUES ?use { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
        FILTER NOT EXISTS { ?work wdt:P4510 ?use }
      }

      {{ sparql_helpers.labels(["?use"], languages) }}
      {{ sparql_helpers.descriptions(["?use"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/uses_list-of-uses.sparql
  title: uses_list-of-uses
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/uses_list-of-uses.sparql'
- name: uses_list-of-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: uses-list-of-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: List of works on any combination of specific uses
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?count (MIN(?publication_date_) AS ?publication_date) ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work), 32)) AS ?workUrl) ?uses ?usesUrl WHERE {
      {
        SELECT (COUNT(DISTINCT ?mainUse) AS ?count) ?work (GROUP_CONCAT(DISTINCT ?useLabel; SEPARATOR=" // ") AS ?uses) (CONCAT("../uses/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?use), 32); SEPARATOR=",")) AS ?usesUrl) WHERE {
          {
            SELECT DISTINCT ?use ?mainUse WHERE {
              {% for q in qs -%}
              { ?use wdt:P31?/wdt:P279* wd:{{ q }} . BIND(wd:{{ q }} as ?mainUse) }
              UNION
              { ?use wdt:P361+ wd:{{ q }} . BIND(wd:{{ q }} as ?mainUse) }
              UNION
              { ?use wdt:P1269+ wd:{{ q }} . BIND(wd:{{ q }} as ?mainUse) }{% if not loop.last %}
              UNION{% endif %}
              {% endfor %}
            }
          }

          ?work wdt:P4510 ?use .
          {{ sparql_helpers.labels(["?use"], languages) }}
        }
        GROUP BY ?work
        HAVING (?count > 1)
        ORDER BY DESC(?count)
        LIMIT 200
      }
      OPTIONAL {
        ?work wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?publication_date_)
      }

      {{ sparql_helpers.labels(["?work", "?uses"], languages) }}
    }
    GROUP BY ?count ?work ?workLabel ?uses ?usesUrl
    ORDER BY DESC(?count) DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/uses_list-of-works.sparql
  title: uses_list-of-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/uses_list-of-works.sparql'
- name: venue-curation_missing-author-item
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-curation-missing-author-item--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
    # Number of works with the author
    ?count
    # The author as a string, - rather than as an item
    ?author
    # Build URL to the Author disambiguator tool
    (CONCAT('https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=', ENCODE_FOR_URI(?author)) AS ?resolver_url) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?author WHERE {
          ?work wdt:P1433 target: .
          ?work wdt:P2093 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?count)
        # Limit the number of result as the query may time out
        LIMIT 1000
      }
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue-curation_missing-author-item.sparql
  title: venue-curation_missing-author-item
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue-curation_missing-author-item.sparql'
- name: venue-curation_missing-topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-curation-missing-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?topics WHERE {
      { # Count citations
        SELECT (COUNT(?citing_work) AS ?count) ?work (COUNT(DISTINCT ?topic) AS ?topics) WHERE {
          ?work wdt:P1433 target: .
          OPTIONAL {
            ?work wdt:P921 ?topic
          }
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
        ORDER BY DESC(?count)
        LIMIT 1000
      }
      FILTER (?topics < 2)

      # Label results
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?count) ?topics
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue-curation_missing-topics.sparql
  title: venue-curation_missing-topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue-curation_missing-topics.sparql'
- name: venue-use_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-use-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?number_of_works ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?authorDescription ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(?work) AS ?number_of_works) ?author (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P1433 target1: ;
                wdt:P4510 target2: ;
                wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?number_of_works)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    }
    ORDER BY DESC(?number_of_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue-use_authors.sparql
  title: venue-use_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue-use_authors.sparql'
- name: venue-use_works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-use-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target1: <http://www.wikidata.org/entity/{{ q1 }}>
    PREFIX target2: <http://www.wikidata.org/entity/{{ q2 }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) WHERE {
      ?work wdt:P1433 target1: ;
            wdt:P4510 target2: .
      OPTIONAL {
        ?work wdt:P577 ?publication_datetime .
        BIND (xsd:date(?publication_datetime) AS ?publication_date)
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue-use_works.sparql
  title: venue-use_works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue-use_works.sparql'
- name: venue_articles-by-intention
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-articles-by-intention--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # Inspired from LEGOLAS - http://abel.lis.illinois.edu/legolas/
    # Shubhanshu Mishra, Vetle Torvik
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (COUNT(?work) AS ?number_of_publications) ?intention WHERE {
      {
        SELECT DISTINCT (STR(?year_) as ?year) ("_" AS ?intention) WHERE {
          # default values = 0
          VALUES ?year_class { wd:Q577 wd:Q3186692 }
          [] wdt:P31 ?year_class ;
             wdt:P585 ?date .
          BIND (YEAR(?date) AS ?year_)
          {
            SELECT (MIN(?year) AS ?earliest_year) (MAX(?year) AS ?latest_year) WHERE {
              ?work wdt:P1433 target: ;
                    wdt:P577 ?publication_date .
              BIND (YEAR(?publication_date) AS ?year)
            }
          }
          FILTER (?year_ >= ?earliest_year && ?year_ <= ?latest_year)
        }
      }
      UNION {
        SELECT ?work (?_intentionLabel as ?intention) (STR(MIN(?years)) AS ?year) WHERE {
          ?work wdt:P1433 target: ;
                p:P2860/pq:P3712 ?_intention ;
                wdt:P577 ?dates .
          BIND (YEAR(?dates) AS ?years) .
          {{ sparql_helpers.labels(["?_intention"], languages) }}
        }
        GROUP BY ?work ?_intentionLabel
      }
    }
    GROUP BY ?year ?intention
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_articles-by-intention.sparql
  title: venue_articles-by-intention
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_articles-by-intention.sparql'
- name: venue_articles-citing-retracted-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-articles-citing-retracted-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: Articles in a specific venue citing retracted articles
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?retracted_work ?retracted_workLabel ?date ?citing_work ?citing_workLabel WHERE {
      { # Find retracted papers indicated by instance of retracted paper,
        # by retraction notice property or by significant event
        SELECT DISTINCT ?retracted_work WHERE {
          # articles marked as "retracted"
          {
            ?retracted_work wdt:P31 wd:Q45182324
          }
          UNION
          # articles linked to a retraction notice
          {
            ?retracted_work wdt:P5824 []
          }
          UNION
          # articles with a 'retraction' event
          {
            ?retracted_work wdt:P793 wd:Q45203135
          }
        }
      }
      ?citing_work wdt:P2860 ?retracted_work ;
                   wdt:P1433 target: .
      OPTIONAL {
        ?retracted_work wdt:P5824 ?retraction .
        ?retraction wdt:P577 ?retraction_datetime
        FILTER (?citing_work != ?retraction)
      }
      MINUS {
        ?citing_work wdt:P31 wd:Q1348305
      }
      OPTIONAL {
        ?retracted_work p:P793 [
          ps:P793 wd:Q45203135 ;
          pq:P585 ?keyevent_datetime
        ]
      }
      BIND (COALESCE(xsd:date(COALESCE(?retraction_datetime, ?keyevent_datetime)), "Unknown date") AS ?date)
      {{ sparql_helpers.labels(["?retracted_work", "?citing_work"], languages) }}
    }
    ORDER BY DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_articles-citing-retracted-articles.sparql
  title: venue_articles-citing-retracted-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_articles-citing-retracted-articles.sparql'
- name: venue_author-awards
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-author-awards--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: Author awards for a specific venue
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?year ?author ?authorLabel (CONCAT("/author/", SUBSTR(STR(?author), 32)) AS ?authorUrl) ?award ?awardLabel (CONCAT("/award/", SUBSTR(STR(?award), 32)) AS ?awardUrl) ?awardDescription WHERE {
      [] wdt:P1433 target: ;
         wdt:P50 ?author .
      ?author p:P166 ?award_statement .
      ?award_statement ps:P166 ?award .
      OPTIONAL {
        {
          ?award_statement pq:P585 ?time
        }
        UNION {
          ?award_statement pq:P580 ?time
        }
        BIND (YEAR(?time) AS ?year)
      }
      {{ sparql_helpers.labels(["?author", "?award"], languages) }}
      {{ sparql_helpers.descriptions(["?award"], languages) }}
    }
    ORDER BY DESC(?year)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_author-awards.sparql
  title: venue_author-awards
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_author-awards.sparql'
- name: venue_author-gender-distribution
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-author-gender-distribution--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: Author gender distribution for a specific venue
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(DISTINCT ?author) AS ?count) ?gender ?genderLabel WHERE {
      ?work wdt:P1433 target: .
      ?work wdt:P50 ?author .
      ?author wdt:P21 ?gender .
      {{ sparql_helpers.labels(["?gender"], languages) }}
    }
    GROUP BY ?gender ?genderLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_author-gender-distribution.sparql
  title: venue_author-gender-distribution
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_author-gender-distribution.sparql'
- name: venue_author-images
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-author-images--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Author images for a specific venue
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:ImageGrid
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (SAMPLE(?image_) AS ?image) ?author ?authorLabel ?count WHERE {
      {
        SELECT ?author (COUNT(?work) AS ?count) WHERE {
          ?work wdt:P1433 target: ;
                wdt:P50 ?author .
        }
        GROUP BY ?author
      }
      ?author wdt:P18 ?image_ .

      {{ sparql_helpers.labels(["?author"], languages) }}
    }
    GROUP BY ?author ?authorLabel ?count
    ORDER BY DESC(?count)
    LIMIT 50
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_author-images.sparql
  title: venue_author-images
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_author-images.sparql'
- name: venue_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Prolific authors for a specific journal
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?author ?authorLabel ?orcid ?example_work ?example_workLabel WHERE {
      { # Count the number of works author by the author publishing in the journal
        SELECT ?author (COUNT(?work) AS ?count) (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P50 ?author ;
                wdt:P1433 target: .
        }
        GROUP BY ?author
      }
      # Include optional ORCID iD
      OPTIONAL {
        ?author wdt:P496 ?orcid .
      }
      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 50
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_authors.sparql
  title: venue_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_authors.sparql'
- name: venue_authorship-gender-distribution
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-authorship-gender-distribution--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Authorship gender distribution for a specific venue
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(?author) AS ?count) ?gender ?genderLabel WHERE {
      ?work wdt:P1433 target: .
      ?work wdt:P50 ?author .
      ?author wdt:P21 ?gender .
      {{ sparql_helpers.labels(["?gender"], languages) }}
    }
    GROUP BY ?gender ?genderLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_authorship-gender-distribution.sparql
  title: venue_authorship-gender-distribution
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_authorship-gender-distribution.sparql'
- name: venue_citation-distribution
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-citation-distribution--named_queries_qlever@scholia.toolforge.org
  sparql: |
    # title: Citation distribution for a venue
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:LineChart
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?number_of_citations (COUNT(?work) AS ?count) WHERE {
      {
        SELECT ?work (COUNT(?citing_work) AS ?number_of_citations) WHERE {
          ?work wdt:P1433 target: .
          OPTIONAL {
            ?citing_work wdt:P2860 ?work .
          }
        }
        GROUP BY ?work
      }
    }
    GROUP BY ?number_of_citations
    ORDER BY DESC(?number_of_citations)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_citation-distribution.sparql
  title: venue_citation-distribution
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_citation-distribution.sparql'
- name: venue_cited-venues
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-cited-venues--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    # title: Cited venues from specific journal
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?count ?short_name ?cited_journal ?cited_journalLabel WHERE {
      {
        SELECT (COUNT(?cited_work) AS ?count) ?cited_journal (SAMPLE(?short_name_) AS ?short_name) WHERE {
          ?work wdt:P1433 target: .
          ?work wdt:P2860 ?cited_work .
          ?cited_work wdt:P1433 ?cited_journal .
          OPTIONAL {
            ?cited_journal wdt:P1813 ?short_name_ .
          }
        }
        GROUP BY ?cited_journal
      }
      {{ sparql_helpers.labels(["?cited_journal"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_cited-venues.sparql
  title: venue_cited-venues
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_cited-venues.sparql'
- name: venue_citing-venues
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-citing-venues--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Venues citing articles from this specific journal
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    #defaultView:Table
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?short_name ?citing_journal ?citing_journalLabel WHERE {
      {
        SELECT (COUNT(?citing_work) AS ?count) ?citing_journal (SAMPLE(?short_name_) AS ?short_name) WHERE {
          ?work wdt:P1433 target: .
          ?citing_work wdt:P2860 ?work .
          ?citing_work wdt:P1433 ?citing_journal .
          OPTIONAL {
            ?citing_journal wdt:P1813 ?short_name_ .
          }
        }
        GROUP BY ?citing_journal
        ORDER BY DESC(?count)
        LIMIT 1000
      }
      {{ sparql_helpers.labels(["?citing_journal"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_citing-venues.sparql
  title: venue_citing-venues
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_citing-venues.sparql'
- name: venue_co-author-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-co-author-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Co-author graph for a specific venue
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?author1 ?author1Label ?rgb ?author2 ?author2Label WHERE {
      { # Limit the number of coauthors
        SELECT ?author2 ?author1 (COUNT(?work) AS ?count2) WHERE {
          # Find works published in the given venue
          ?work wdt:P1433 target: .

          { # Limit the number of authors
            SELECT (COUNT(?work) AS ?count1) ?author1 WHERE {
              # Find works published in the given venue
              ?work wdt:P1433 target: .
              ?work wdt:P50 ?author1 .
            }
            GROUP BY ?author1
            ORDER BY DESC(?count1)
            LIMIT 15
          }

          ?work wdt:P50 ?author1, ?author2 .
          FILTER (?author1 != ?author2)
        }
        GROUP BY ?author2 ?author1
        ORDER BY DESC(?count2)
        LIMIT 150
      }

      OPTIONAL {
        ?author1 wdt:P21 ?gender1 .
      }
      BIND (IF(?gender1 = wd:Q6581097,"3182BD","E6550D") AS ?rgb)

      {{ sparql_helpers.labels(["?author1", "?author2"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_co-author-graph.sparql
  title: venue_co-author-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_co-author-graph.sparql'
- name: venue_incoming-bubble
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-incoming-bubble--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?intention ?intentionLabel (COUNT(DISTINCT ?citingArticle) AS ?count) WHERE {
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?citedArticle wdt:P1433 target: .
      ?intention wdt:P31 wd:Q96471816 ;
                 wdt:P2888 ?cito .
      {{ sparql_helpers.labels(["?intention"], languages) }}
    }
    GROUP BY ?cito ?intention ?intentionLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_incoming-bubble.sparql
  title: venue_incoming-bubble
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_incoming-bubble.sparql'
- name: venue_incoming
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-incoming--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      ?intention ?intentionLabel (CONCAT("/cito/", SUBSTR(STR(?intention), 32)) AS ?intentionUrl)
      (CONCAT("cito:", SUBSTR(STR(?cito), 27)) AS ?CiTO) (?cito AS ?CiTOUrl)
      (COUNT(DISTINCT ?citingArticle) AS ?count)
    WHERE {
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?citedArticle wdt:P1433 target: .
      ?intention wdt:P31 wd:Q96471816 ;
                 wdt:P2888 ?cito .
      FILTER(STRSTARTS(STR(?cito), "http://purl.org/spar/cito/"))
      {{ sparql_helpers.labels(["?intention"], languages) }}
    }
    GROUP BY ?cito ?intention ?intentionLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_incoming.sparql
  title: venue_incoming
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_incoming.sparql'
- name: venue_most-cited-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-most-cited-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Most cited articles published in specific venue
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?work ?workLabel ?example_citing_work ?example_citing_workLabel WHERE {
      { # Count citations
        SELECT (COUNT(?citing_work) AS ?count) ?work (SAMPLE(?citing_work) AS ?example_citing_work) WHERE {
          ?work wdt:P1433 target: .
          ?citing_work wdt:P2860 ?work .
        }
        GROUP BY ?work
        ORDER BY DESC(?count)
        LIMIT 1000
      }
      # Label results
      {{ sparql_helpers.labels(["?work", "?example_citing_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_most-cited-articles.sparql
  title: venue_most-cited-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_most-cited-articles.sparql'
- name: venue_most-cited-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-most-cited-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Most cited authors published in venue
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?author ?authorLabel ?orcid ?example_cited_work ?example_cited_workLabel ?example_citing_work ?example_citing_workLabel WHERE {
      { # Count the number of citations
        SELECT ?author (COUNT(?cited_work) AS ?count) (SAMPLE(?cited_work) AS ?example_cited_work) (SAMPLE(?citing_work) AS ?example_citing_work) WHERE {
          ?cited_work wdt:P1433 target: .
          ?citing_work wdt:P2860 ?cited_work .
          ?cited_work wdt:P50 ?author .
        }
        GROUP BY ?author
      }
      # Include optional ORCID iD
      OPTIONAL {
        ?author wdt:P496 ?orcid .
      }
      {{ sparql_helpers.labels(["?author", "?example_cited_work", "?example_citing_work"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 100
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_most-cited-authors.sparql
  title: venue_most-cited-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_most-cited-authors.sparql'
- name: venue_most-reused-articles
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-most-reused-articles--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?citedArticle ?citedArticleLabel (CONCAT("/work/", SUBSTR(STR(?citedArticle),32), "#cito") AS ?citedArticleUrl) (COUNT(DISTINCT ?citingArticle) AS ?count) WHERE {
      VALUES ?INTENTION { wd:Q96472102 wd:Q96471820 wd:Q101149476 }
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 ?INTENTION ;
                         ps:P2860 ?citedArticle .
      ?citedArticle wdt:P1433 target: .
      {{ sparql_helpers.labels(["?citedArticle"], languages) }}
    }
    GROUP BY ?citedArticle ?citedArticleLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_most-reused-articles.sparql
  title: venue_most-reused-articles
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_most-reused-articles.sparql'
- name: venue_outgoing-bubble
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-outgoing-bubble--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?intention ?intentionLabel (COUNT(DISTINCT ?citingArticle) AS ?count) WHERE {
      ?citingArticle p:P2860 ?citationStatement ;
                     wdt:P1433 target: .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?intention wdt:P31 wd:Q96471816 ;
                 wdt:P2888 ?cito .
      {{ sparql_helpers.labels(["?intention"], languages) }}
    }
    GROUP BY ?cito ?intention ?intentionLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_outgoing-bubble.sparql
  title: venue_outgoing-bubble
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_outgoing-bubble.sparql'
- name: venue_outgoing
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-outgoing--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      ?intention ?intentionLabel (CONCAT("/cito/", SUBSTR(STR(?intention), 32)) AS ?intentionUrl)
      (CONCAT("cito:", SUBSTR(STR(?cito), 27)) AS ?CiTO) (?cito AS ?CiTOUrl)
      (COUNT(DISTINCT ?citingArticle) AS ?count)
    WHERE {
      ?citingArticle p:P2860 ?citationStatement ;
                     wdt:P1433 target: .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 ?citedArticle .
      ?intention wdt:P31 wd:Q96471816 ;
                 wdt:P2888 ?cito .
      FILTER(STRSTARTS(STR(?cito), "http://purl.org/spar/cito/"))
      {{ sparql_helpers.labels(["?intention"], languages) }}
    }
    GROUP BY ?cito ?intention ?intentionLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_outgoing.sparql
  title: venue_outgoing
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_outgoing.sparql'
- name: venue_recently-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-recently-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: Recent works published in venue
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?work ?workLabel (GROUP_CONCAT(DISTINCT ?authorLabel; SEPARATOR=", ") AS ?authors) (CONCAT("../authors/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author),32); SEPARATOR=",")) AS ?authorsUrl) WHERE {
      {
        SELECT DISTINCT ?work (MIN(?publication_date_) AS ?publication_date) WHERE {
          ?work wdt:P1433 target: .
          OPTIONAL {
            ?work wdt:P577 ?publication_datetime .
            BIND (xsd:date(?publication_datetime) AS ?publication_date_)
          }
        }
        GROUP BY ?work
        ORDER BY DESC(?publication_date)
        LIMIT 1000
      }
      OPTIONAL {
        ?work wdt:P50 ?author .
        {{ sparql_helpers.labels(["?author"], languages) }}
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?publication_date ?work ?workLabel
    ORDER BY DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_recently-published-works.sparql
  title: venue_recently-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_recently-published-works.sparql'
- name: venue_retractions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-retractions--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?work ?workLabel ?doi (COUNT(DISTINCT ?citing) AS ?citations) WHERE {
      {
        ?work wdt:P31 wd:Q45182324 .
      }
      UNION {
        ?work wdt:P793 wd:Q7316896 .
      }
      UNION {
        ?work wdt:P5824 [] .
      }
      OPTIONAL {
        ?citing wdt:P2860 ?work .
      }
      ?work wdt:P1433 target: ;
            wdt:P356 ?doi .
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?work ?workLabel ?doi
    ORDER BY DESC(?citations)
    LIMIT 100
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_retractions.sparql
  title: venue_retractions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_retractions.sparql'
- name: venue_top-topics-through-time
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-top-topics-through-time--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:AreaChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (COUNT(?work) AS ?works) ?topic ?topicLabel WHERE {
      # Find top 5 all time topics in venue
      {
        SELECT (COUNT(?work) AS ?count) ?topic WHERE {
          ?work wdt:P1433 target: ;
                wdt:P921 ?topic .
        }
        GROUP BY ?topic
        ORDER BY DESC(?count)
        LIMIT 5
      }
      # Find works per year
      ?work wdt:P1433 target: ;
            wdt:P921 ?topic ;
            wdt:P577 ?publication_datetime .
      BIND (STR(YEAR(?publication_datetime)) AS ?year)
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    GROUP BY ?year ?topic ?topicLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_top-topics-through-time.sparql
  title: venue_top-topics-through-time
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_top-topics-through-time.sparql'
- name: venue_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    # title: Count of topics in published work in specified venue
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?topic ?topicLabel ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?topic (SAMPLE(?work) AS ?example_work) WHERE {
          ?work wdt:P1433 target: .
          ?work wdt:P921 ?topic .
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_topics.sparql
  title: venue_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_topics.sparql'
- name: venue_uses
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venue-uses--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?use ?useLabel (CONCAT("/use/", SUBSTR(STR(?use),32)) AS ?useUrl) ("üîé" AS ?zoom)
      (CONCAT("{{ q }}/use/", SUBSTR(STR(?use), 32)) AS ?zoomUrl)
    ?useDescription ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?use (SAMPLE(?work) AS ?example_work) {
          ?work wdt:P1433 target: ;
                wdt:P4510 ?use .
        }
        GROUP BY ?use
      }
      {{ sparql_helpers.labels(["?use", "?example_work"], languages) }}
      {{ sparql_helpers.descriptions(["?use"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venue_uses.sparql
  title: venue_uses
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venue_uses.sparql'
- name: venues_citations-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venues-citations-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:LineChart
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year ?count ?venue ?venueLabel WHERE {
      {
        SELECT ?year (COUNT(?work) AS ?count) ?venue WHERE {
          VALUES ?venue { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          ?work wdt:P1433 ?venue .
          ?citing_work wdt:P2860 ?work .
          ?citing_work wdt:P577 ?publication_datetime .
          BIND (STR(YEAR(?publication_datetime)) AS ?year)
        }
        GROUP BY ?year ?venue
      }
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venues_citations-per-year.sparql
  title: venues_citations-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venues_citations-per-year.sparql'
- name: venues_citations-to-work-ratio
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venues-citations-to-work-ratio--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:LineChart
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (?citation_count / ?work_count AS ?citations_to_works_ratio) ?venue ?venueLabel WHERE {
      {
        SELECT ?year (COUNT(?work) AS ?work_count) ?venue WHERE {
          VALUES ?venue { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          ?work wdt:P1433 ?venue .
          ?work wdt:P577 ?publication_datetime .
          BIND (STR(YEAR(?publication_datetime)) AS ?year)
        }
        GROUP BY ?year ?venue
      }
      {
        SELECT ?year (COUNT(?work) AS ?citation_count) ?venue WHERE {
          VALUES ?venue { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          ?work wdt:P1433 ?venue .
          ?citing_work wdt:P2860 ?work .
          ?citing_work wdt:P577 ?publication_datetime .
          BIND (STR(YEAR(?publication_datetime)) AS ?year)
        }
        GROUP BY ?year ?venue
      }
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venues_citations-to-work-ratio.sparql
  title: venues_citations-to-work-ratio
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venues_citations-to-work-ratio.sparql'
- name: venues_list-of-venues
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venues-list-of-venues--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?venue ?venueLabel ?publisher ?publisherLabel ?number_of_works ?number_of_citations WHERE {
      {
        SELECT ?venue (COUNT(DISTINCT ?work) AS ?number_of_works) (COUNT(?citing_work) AS ?number_of_citations) WHERE {
          VALUES ?venue { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          OPTIONAL {
            ?work wdt:P1433 ?venue .
            OPTIONAL {
              ?citing_work wdt:P2860 ?work
            }
          }
        }
        GROUP BY ?venue
      }
      OPTIONAL {
        ?venue wdt:P123 ?publisher
        {{ sparql_helpers.labels(["?publisher"], languages) }}
      }
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    ORDER BY ?venueLabel
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venues_list-of-venues.sparql
  title: venues_list-of-venues
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venues_list-of-venues.sparql'
- name: venues_published-works-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: venues-published-works-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:LineChart
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (COUNT(?work) AS ?count) ?venue ?venueLabel WHERE {
      VALUES ?venue { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
      ?work wdt:P1433 ?venue .
      ?work wdt:P577 ?publication_datetime .
      BIND (STR(YEAR(?publication_datetime)) AS ?year)
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    GROUP BY ?year ?venue ?venueLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/venues_published-works-per-year.sparql
  title: venues_published-works-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/venues_published-works-per-year.sparql'
- name: wikiproject-index_most-used
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-index-most-used--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?wikiproject ?wikiprojectLabel (CONCAT("/wikiproject/", SUBSTR(STR(?wikiproject),32)) AS ?wikiprojectUrl) ?wikiprojectDescription ?example ?exampleLabel (CONCAT("/", SUBSTR(STR(?example),32)) AS ?exampleUrl) WHERE {
      {
        SELECT (COUNT(?item) AS ?count) ?wikiproject (SAMPLE(?item) AS ?example) WHERE {
          ?wikiproject wdt:P31 wd:Q16695773 ;
                       ^(wdt:P6104 | wdt:P5008) ?item .
        }
        GROUP BY ?wikiproject
      }
      {{ sparql_helpers.labels(["?wikiproject", "?example"], languages) }}
      {{ sparql_helpers.descriptions(["?wikiproject"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 1000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject-index_most-used.sparql
  title: wikiproject-index_most-used
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject-index_most-used.sparql'
- name: wikiproject_author-awards
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-author-awards--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      (COUNT(?researcher) AS ?count)
      ?award ?awardLabel (CONCAT("/award/", SUBSTR(STR(?award), 32)) AS ?awardUrl)
      (GROUP_CONCAT(?researcherLabel; SEPARATOR=", ") AS ?recipients)
      (CONCAT("../authors/", GROUP_CONCAT(SUBSTR(STR(?researcher), 32); SEPARATOR=",")) AS ?recipientsUrl)
    WHERE {
      {
        SELECT DISTINCT ?researcher ?award WHERE {
          ?work wdt:P6104|wdt:P5008 target: ;
                wdt:P50 ?researcher .
          ?researcher wdt:P166 ?award .
        }
        LIMIT 100
      }

      {{ sparql_helpers.labels(["?award", "?researcher"], languages) }}
    }
    GROUP BY ?award ?awardLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_author-awards.sparql
  title: wikiproject_author-awards
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_author-awards.sparql'
- name: wikiproject_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?author ?authorLabel ?authorDescription (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) (COALESCE(?orcid_, CONCAT("orcid-search/search/?searchQuery=", ?authorLabel)) AS ?orcid) WHERE {
      {
        SELECT ?author (COUNT(?work) AS ?count) WHERE {
          {
            ?work wdt:P6104 target: .
          }
          UNION {
            ?work wdt:P5008 target: .
          }
          ?work wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?count)
        LIMIT 200
      }
      # Include optional ORCID iD
      OPTIONAL {
        ?author wdt:P496 ?orcid_ .
      }
      {{ sparql_helpers.labels(["?author"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_authors.sparql
  title: wikiproject_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_authors.sparql'
- name: wikiproject_co-occurring-wikiprojects
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-co-occurring-wikiprojects--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?wikiproject ?wikiprojectLabel (CONCAT("/wikiproject/", SUBSTR(STR(?wikiproject),32)) AS ?wikiprojectUrl) ?example_entity ?example_entityLabel (CONCAT("/", SUBSTR(STR(?example_entity),32)) AS ?example_entityUrl) WHERE {
      # Label the results
      {
        SELECT (COUNT(?work) AS ?count) ?wikiproject (SAMPLE(?work) AS ?example_entity) WHERE {
          # Find works for the specific queried wikiproject
          VALUES ?p { wdt:P6104 wdt:P5008 }
          ?work ?p target: .

          # Find co-occuring wikiprojects
          ?work ?p ?wikiproject .
          # Avoid listing the queried wikiproject
          FILTER (target: != ?wikiproject)
        }
        GROUP BY ?wikiproject
      }
      {{ sparql_helpers.labels(["?wikiproject", "?example_entity"], languages) }}

    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_co-occurring-wikiprojects.sparql
  title: wikiproject_co-occurring-wikiprojects
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_co-occurring-wikiprojects.sparql'
- name: wikiproject_context
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-context--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?node ?nodeLabel ?nodeImage ?childNode ?childNodeLabel ?childNodeImage ?rgb WHERE {
      {
        {
          SELECT DISTINCT ?node ?childNode WHERE {
            BIND (target: AS ?node)
            ?node ?p ?i .
            ?childNode ?x ?p .
            ?childNode a wikibase:Property.
            FILTER (STRSTARTS(STR(?i),"http://www.wikidata.org/entity/Q"))
            FILTER (STRSTARTS(STR(?childNode),"http://www.wikidata.org/entity/P"))
          }
          LIMIT 5000
        }
      }
      UNION {
        {
          SELECT DISTINCT ?childNode ?node ?rgb WHERE {
            BIND ("EFFBD8" AS ?rgb)
            target: ?p ?childNode .
            ?node ?x ?p .
            ?node a wikibase:Property.
            FILTER (STRSTARTS(STR(?childNode),"http://www.wikidata.org/entity/Q"))
          }
          LIMIT 5000
        }
      }
      OPTIONAL {
        {
          SELECT DISTINCT ?property WHERE {
            ?property a wikibase:Property ;
                      wdt:P31 wd:Q18610173 ;
                      wdt:P31 wd:Q26940804 .
          }
        }
        ?property wikibase:directClaim ?nodeclaim .
        ?node ?nodeclaim ?nodeImage .
      }
      OPTIONAL {
        {
          SELECT DISTINCT ?property WHERE {
            ?property a wikibase:Property ;
                      wdt:P31 wd:Q18610173 ;
                      wdt:P31 wd:Q26940804 .
          }
        }
        ?property wikibase:directClaim ?childNodeclaim .
        ?childNode ?childNodeclaim ?childNodeImage .
      }
      {{ sparql_helpers.labels(["?node", "?childNode"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_context.sparql
  title: wikiproject_context
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_context.sparql'
- name: wikiproject_earliest-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-earliest-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?topicsUrl ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?topic_label; SEPARATOR=" // ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              ?work wdt:P6104|wdt:P5008 target: .
            }
          }
          ?work wdt:P921 ?topic .
          ?work wdt:P577 ?dates .
          FILTER (!ISBLANK(?dates)) .
          ?topic rdfs:label ?topic_label . FILTER (LANG(?topic_label) = 'en')
        }
        GROUP BY ?work
      }
      # There is a problem with BC dates
      # BIND(xsd:date(?datetime) AS ?date)
      BIND (REPLACE(STR(?datetime), 'T.*', '') AS ?date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?date ?work ?workLabel ?topicsUrl ?topics
    ORDER BY ASC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_earliest-published-works.sparql
  title: wikiproject_earliest-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_earliest-published-works.sparql'
- name: wikiproject_focus
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-focus--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?type ?typeLabel ?count WHERE {
      {
        SELECT DISTINCT ?type (COUNT(?item) AS ?count) WHERE {
          ?item wdt:P5008 target: .
          ?item wdt:P31|wdt:P279 ?type .
        }
        GROUP BY ?type ?count
        ORDER BY DESC(?count)
      }
      {{ sparql_helpers.labels(["?type"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_focus.sparql
  title: wikiproject_focus
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_focus.sparql'
- name: wikiproject_maintained
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-maintained--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?type ?typeLabel ?count WHERE {
      {
        SELECT DISTINCT ?type (COUNT(?item) AS ?count) WHERE {
          ?item wdt:P6104 target: .
          ?item wdt:P31|wdt:P279 ?type .
        }
        GROUP BY ?type ?count
        ORDER BY DESC(?count)
      }
      {{ sparql_helpers.labels(["?type"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_maintained.sparql
  title: wikiproject_maintained
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_maintained.sparql'
- name: wikiproject_organization-map
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-organization-map--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Map
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?organization ?organizationLabel ?geo ?count ?layer WHERE {
      {
        SELECT DISTINCT ?organization ?geo (COUNT(DISTINCT ?work) AS ?count) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              # Works on the topic
              ?work wdt:P6104|wdt:P5008 target: .
              ?work wdt:P50 [] .
            }
            LIMIT 20000
          }
          # Authors who have published works on the topic
          ?work wdt:P50 ?author .
          ?author (wdt:P108 | wdt:P463 | wdt:P1416)/wdt:P361* ?organization .
          # Use the headquarters location by default but keep the coordinate location as a fallback
          OPTIONAL {
            ?organization p:P159/pq:P625 ?hq_geo
          }
          OPTIONAL {
            ?organization wdt:P625 ?coord_geo
          }
          BIND (IF(BOUND(?hq_geo),?hq_geo,?coord_geo) AS ?geo) .
          FILTER (BOUND(?geo)) .
        }
        GROUP BY ?organization ?geo
        ORDER BY DESC(?count)
        LIMIT 2000
      }
      BIND (IF((?count < 1),"No results",IF((?count < 2),"1 result",IF((?count < 11),"1 < results ‚â§ 10",IF((?count < 101),"10 < results ‚â§ 100",IF((?count < 1001),"100 < results ‚â§ 1000",IF((?count < 10001),"1000 < results ‚â§ 10000","10000 or more results")))))) AS ?layer)
      {{ sparql_helpers.labels(["?organization"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_organization-map.sparql
  title: wikiproject_organization-map
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_organization-map.sparql'
- name: wikiproject_publications-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-publications-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT
      (STR(?year_) AS ?year)
      (COUNT(?work) AS ?number_of_publications)
      # Work type used to color the bar chart
      (?article_typeLabel AS ?type)
    WHERE {
      {
        { # Find works with the topic. Also report the year
          SELECT ?work (MIN(?years) AS ?year_) (SAMPLE(?article_type_) AS ?article_type) WHERE {
            ?work wdt:P6104|wdt:P5008 target: ;
                  wdt:P50 [] ;
                  wdt:P31 ?article_type_ ;
                  wdt:P577 ?dates .
            BIND (YEAR(?dates) AS ?years) .
          }
          GROUP BY ?work
        }
        {{ sparql_helpers.labels(["?article_type"], languages) }}
      }
      UNION {
        VALUES ?year_class { wd:Q577 wd:Q3186692 }
        [] wdt:P31 ?year_class ;
           wdt:P585 ?date .
        BIND (YEAR(?date) AS ?year_)
        BIND ("_" AS ?article_typeLabel)
      }

      { # Find earliest publication year
        SELECT (MIN(?year_) AS ?earliest_year) WHERE {
          ?work wdt:P6104|wdt:P5008 target: .
          ?work wdt:P577 ?date .
          BIND (YEAR(?date) AS ?year_) .
          FILTER (ISLITERAL(?year_))
        }
      }

      BIND (YEAR(NOW()) AS ?this_year)
      FILTER (?year_ >= ?earliest_year && ?year_ <= ?this_year && ?year_ >= 1900)
    }
    GROUP BY ?year_ ?article_typeLabel
    ORDER BY ?year
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_publications-per-year.sparql
  title: wikiproject_publications-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_publications-per-year.sparql'
- name: wikiproject_recently-published-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-recently-published-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?date ?work ?workLabel (CONCAT("/work/", SUBSTR(STR(?work),32)) AS ?workUrl) ?topicsUrl ?topics WHERE {
      {
        SELECT (MAX(?dates) AS ?datetime) ?work (GROUP_CONCAT(DISTINCT ?topicLabel; SEPARATOR=" // ") AS ?topics) (CONCAT("../topics/", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic),32); SEPARATOR=",")) AS ?topicsUrl) WHERE {
          {
            SELECT DISTINCT ?work WHERE {
              ?work wdt:P6104|wdt:P5008 target: ;
                    wdt:P50 []
            }
          }
          ?work wdt:P921 ?topic .
          OPTIONAL {
            ?work wdt:P577 ?dates .
          }
          {{ sparql_helpers.labels(["?topic"], languages) }}
        }
        GROUP BY ?work
      }
      # There is a problem with BC dates
      # BIND(xsd:date(?datetime) AS ?date)
      BIND (REPLACE(STR(?datetime), 'T.*', '') AS ?date)
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    GROUP BY ?date ?work ?workLabel ?topicsUrl ?topics
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_recently-published-works.sparql
  title: wikiproject_recently-published-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_recently-published-works.sparql'
- name: wikiproject_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count (CONCAT("/topics/{{ q }},", SUBSTR(STR(?topic), 32)) AS ?countUrl)
    ?topic ?topicLabel (CONCAT("/topic/", SUBSTR(STR(?topic),32)) AS ?topicUrl) ?example_work ?example_workLabel (CONCAT("/work/", SUBSTR(STR(?example_work),32)) AS ?example_workUrl) WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?topic (SAMPLE(?work) AS ?example_work) WHERE {
          # Find works for the specific queried topic
          ?work wdt:P6104|wdt:P5008 target: .
          # Find co-occuring topics
          ?work wdt:P921 ?topic .
          # Avoid listing the queried topic
          FILTER (target: != ?topic)
        }
        GROUP BY ?topic
      }
      # Label the results
      {{ sparql_helpers.labels(["?topic", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_topics.sparql
  title: wikiproject_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_topics.sparql'
- name: wikiproject_venues
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: wikiproject-venues--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?count ?short_name ?venue ?venueLabel (CONCAT("/venue/", SUBSTR(STR(?venue),32)) AS ?venueUrl) WHERE {
      {
        SELECT (COUNT(DISTINCT ?work) AS ?count) ?venue (SAMPLE(?short_name_) AS ?short_name) WHERE {
          ?work wdt:P6104|wdt:P5008 target: .
          ?work wdt:P1433/wdt:P179* ?venue .
          OPTIONAL {
            ?venue wdt:P1813 ?short_name_ .
          }
        }
        GROUP BY ?venue
      }
      {{ sparql_helpers.labels(["?venue"], languages) }}
    }
    ORDER BY DESC(?count)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/wikiproject_venues.sparql
  title: wikiproject_venues
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/wikiproject_venues.sparql'
- name: work-cito-intention_incoming
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-cito-intention-incoming--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target1: <http://www.wikidata.org/prop/{{ q }}>
    PREFIX target2: <http://www.wikidata.org/prop/{{ q2 }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    SELECT ?citingArticle ?citingArticleLabel ?intention ?intentionLabel (CONCAT("/cito/", SUBSTR(STR(?intention),32)) AS ?intentionUrl) WHERE {
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 target2: ;
                         ps:P2860 target1: .
      {{ sparql_helpers.labels(["?citingArticle", "?intention"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work-cito-intention_incoming.sparql
  title: work-cito-intention_incoming
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work-cito-intention_incoming.sparql'
- name: work-curation_author-resolving
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-curation-author-resolving--named_queries_qlever@scholia.toolforge.org
  sparql: |
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(?work) AS ?works) ?author_name ("Author Disambiguator ‚Üó" AS ?author_disambiguator) (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?author_name)) AS ?author_disambiguatorUrl) WHERE {
      {
        SELECT DISTINCT ?author_name WHERE {
          {
            {
              SELECT DISTINCT ?author WHERE {
                target: wdt:P50 ?author .
              }
              LIMIT 200
            }
            ?author skos:altLabel | rdfs:label | (^ps:P50/pq:P1932) ?author_name .
          }
          UNION {
            target: wdt:P2093 ?author_name .
          }
        }
      }
      ?work wdt:P2093 ?author_name .
    }
    GROUP BY ?author_name
    ORDER BY DESC(?works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work-curation_author-resolving.sparql
  title: work-curation_author-resolving
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work-curation_author-resolving.sparql'
- name: work-curation_missing-orcid
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-curation-missing-orcid--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?author ?authorLabel ?authorDescription (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ("ORCID search ‚Üó" AS ?orcid_search) (CONCAT("https://orcid.org/orcid-search/search/?searchQuery=", ENCODE_FOR_URI(?authorLabel)) AS ?orcid_searchUrl) WHERE {
      target: wdt:P50 ?author .
      FILTER NOT EXISTS {
        ?author wdt:P496 ?orcid .
      }
      {{ sparql_helpers.labels(["?author"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work-curation_missing-orcid.sparql
  title: work-curation_missing-orcid
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work-curation_missing-orcid.sparql'
- name: work-index_recently-retracted-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-index-recently-retracted-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT ?retracted_work ?retracted_workLabel (CONCAT("/work/", SUBSTR(STR(?retracted_work),32)) AS ?retracted_workUrl) ?date ?retraction ?retractionLabel (CONCAT("/work/", SUBSTR(STR(?retraction),32)) AS ?retractionUrl) WHERE {
      { # Find retracted papers indicated by instance of retracted paper,
        # by retraction notice property or by significant event
        SELECT DISTINCT ?retracted_work WHERE {
          {
            ?retracted_work wdt:P31 wd:Q45182324
          }
          UNION {
            ?retracted_work wdt:P5824 []
          }
          UNION {
            ?retracted_work wdt:P793 wd:Q45203135
          }
        }
      }
      OPTIONAL {
        ?retracted_work wdt:P5824 ?retraction .
        ?retraction wdt:P577 ?retraction_datetime
        {{ sparql_helpers.labels(["?retraction"], languages) }}
      }
      OPTIONAL {
        ?retracted_work p:P793 [
          ps:P793 wd:Q45203135 ;
          pq:P585 ?keyevent_datetime
        ]
      }
      BIND (COALESCE(xsd:date(COALESCE(?retraction_datetime, ?keyevent_datetime)), "Unknown date") AS ?date)
      {{ sparql_helpers.labels(["?retracted_work"], languages) }}
    }
    ORDER BY DESC(?date)
    LIMIT 500
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work-index_recently-retracted-works.sparql
  title: work-index_recently-retracted-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work-index_recently-retracted-works.sparql'
- name: work_associated-images
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-associated-images--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:ImageGrid
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?image WHERE {
      {
        # Images from whatever property value is linked.
        # Excluded "different from" property and take all other properties
        target: !wdt:P1889 ?item .
        ?item wdt:P18 ?image .
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_associated-images.sparql
  title: work_associated-images
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_associated-images.sparql'
- name: work_citation-graph
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-citation-graph--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Graph
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?citing_work ?citing_workLabel ?rgb ?cited_work ?cited_workLabel WHERE {
      {
        SELECT (COUNT(*) AS ?count) ?citing_work WHERE {
          { target: ^wdt:P2860/^wdt:P2860 ?citing_work }
          UNION
          { target: wdt:P2860/^wdt:P2860 ?citing_work }
          UNION
          { target: ^wdt:P2860/wdt:P2860 ?citing_work }
          UNION
          { target: wdt:P2860/wdt:P2860 ?citing_work }
        }
        GROUP BY ?citing_work
        ORDER BY DESC(?count)
        LIMIT 40
      }
      {
        SELECT (COUNT(*) AS ?count_) ?cited_work WHERE {
          { target: ^wdt:P2860/^wdt:P2860 ?cited_work }
          UNION
          { target: wdt:P2860/^wdt:P2860 ?cited_work }
          UNION
          { target: ^wdt:P2860/wdt:P2860 ?cited_work }
          UNION
          { target: wdt:P2860/wdt:P2860 ?cited_work }
        }
        GROUP BY ?cited_work
        ORDER BY DESC(?count_)
        LIMIT 40
      }
      ?citing_work wdt:P2860 ?cited_work .
      BIND (STR(xsd:integer(99 * (1 - ?count / MAX(?count)))) AS ?grey)
      BIND (CONCAT(SUBSTR("0", STRLEN(?grey)), ?grey) AS ?padded_grey)
      BIND (CONCAT(?padded_grey, ?padded_grey, ?padded_grey) AS ?rgb)
      {
        ?citing_work p:P50 [ pq:P1545 "1"; ps:P50 ?citing_author ]
        {{ sparql_helpers.labels(["?citing_author"], languages) }}
      }
      UNION {
        ?citing_work p:P2093 [ pq:P1545 "1" ; ps:P2093 ?citing_authorLabel ]
      }
      {
        ?cited_work p:P50 [ pq:P1545 "1" ; ps:P50 ?cited_author ]
        {{ sparql_helpers.labels(["?cited_author"], languages) }}
      }
      UNION {
        ?cited_work p:P2093 [ pq:P1545 "1" ; ps:P2093 ?cited_authorLabel ]
      }
      ?citing_work wdt:P577 ?citing_date .
      ?cited_work wdt:P577 ?cited_date .
      BIND (YEAR(?citing_date) AS ?citing_year)
      BIND (YEAR(?cited_date) AS ?cited_year)
      BIND (CONCAT(?citing_authorLabel, ", ", STR(?citing_year)) AS ?citing_workLabel)
      BIND (CONCAT(?cited_authorLabel, ", ", STR(?cited_year)) AS ?cited_workLabel)
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_citation-graph.sparql
  title: work_citation-graph
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_citation-graph.sparql'
- name: work_citations-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-citations-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    #defaultView:BarChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (STR(?year_) AS ?year) (SUM(?count_) AS ?count) ?kind WHERE {
      {
        VALUES ?year_class { wd:Q577 wd:Q3186692 }
        [] wdt:P31 ?year_class ;
           wdt:P585 ?date .
        BIND (YEAR(?date) AS ?year_)
        BIND (0 AS ?count_)
        BIND ("_" AS ?kind)

        {
          SELECT (MIN(?year) as ?earliest_year) WHERE {
            target: wdt:P2860|^wdt:P2860 ?work .
            ?work wdt:P577 ?date .
            BIND (YEAR(?date) AS ?year)
          }
        }

        FILTER(?year_ >= ?earliest_year && ?year_ <= YEAR(NOW()))
      }
      UNION {
        SELECT ?year_ (COUNT(DISTINCT ?citing_work) AS ?count_) ?kind WHERE {
          ?citing_work wdt:P2860 target: .
          # Detect self-citations
          BIND (IF(EXISTS {
            target: wdt:P50 ?selfauthor .
            ?citing_work wdt:P50 ?selfauthor
          },"detected incoming self-citations","citations from others or non-detected self-citations") AS ?kind)
          # Year of citation
          ?citing_work wdt:P577 ?date .
          BIND (YEAR(?date) AS ?year_)
        }
        GROUP BY ?year_ ?kind
      }
      UNION {
        SELECT ?year_ (COUNT(DISTINCT ?cited_work) AS ?count_) ?kind WHERE {
          target: wdt:P2860 ?cited_work .
          # Detect self-citations
          BIND (IF(EXISTS {
            ?cited_work wdt:P50 ?selfauthor .
            target: wdt:P50 ?selfauthor
          },"detected outgoing self-citations","outgoing citations to others or non-detected self-citations") AS ?kind)
          # Year of citation
          ?cited_work wdt:P577 ?date .
          BIND (YEAR(?date) AS ?year_)
        }
        GROUP BY ?year_ ?kind
      }
    }
    GROUP BY ?year_ ?kind
    ORDER BY DESC(?year_)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_citations-per-year.sparql
  title: work_citations-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_citations-per-year.sparql'
- name: work_citations
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-citations--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: List of works that is cited by the specified work
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?publication_date ?citations  ?citing_work ?citing_workLabel WHERE {
      {
        SELECT (MIN(?date) AS ?publication_date) (COUNT(?citing_citing_work) AS ?citations) ?citing_work WHERE {
          # Find works that cite the queried work
          ?citing_work wdt:P2860 target: .
          OPTIONAL {
            ?citing_work wdt:P577 ?datetime .
            # Simplify the datetime to one with day, month and year only
            BIND (xsd:date(?datetime) AS ?date)
          }
          OPTIONAL {
            ?citing_citing_work wdt:P2860 ?citing_work
          }
        }
        GROUP BY ?citing_work ?citing_workLabel
        # Limit the number of results to avoid downloading too much data
        ORDER BY DESC(?citations) DESC(?publication_date)
        LIMIT 1000
      }
      # Label the result
      {{ sparql_helpers.labels(["?citing_work"], languages) }}
    }
    ORDER BY DESC(?citations) DESC(?publication_date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_citations.sparql
  title: work_citations
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_citations.sparql'
- name: work_cited-work-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-cited-work-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: List of authors with works that are cited by the specified work
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?cited_works ?author ?authorLabel ?authorDescription (CONCAT("/author/", SUBSTR(STR(?author),32)) AS ?authorUrl) ?cited_work_example ?cited_work_exampleLabel (CONCAT("/work/", SUBSTR(STR(?cited_work_example),32)) AS ?cited_work_exampleUrl) WHERE {
      {
        SELECT (COUNT(?cited_work) AS ?cited_works) ?author (SAMPLE(?cited_work) AS ?cited_work_example) WHERE {
          # Find works that are cited by the queried work
          target: wdt:P2860 ?cited_work .
          ?cited_work wdt:P50 ?author .
        }
        GROUP BY ?author
        # Limit the number of results to avoid downloading too much data
        ORDER BY DESC(?cited_works)
        LIMIT 1000
      }
      # Label the result
      {{ sparql_helpers.labels(["?author", "?cited_work_example"], languages) }}
      {{ sparql_helpers.descriptions(["?author"], languages) }}
    }
    ORDER BY DESC(?cited_works)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_cited-work-authors.sparql
  title: work_cited-work-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_cited-work-authors.sparql'
- name: work_cited-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-cited-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: List of works that is cited by the specified work
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?citations ?publication_date ?cited_work ?cited_workLabel (GROUP_CONCAT(DISTINCT ?intentionLabel; SEPARATOR=", ") AS ?intentions) WHERE {
      {
        SELECT (MIN(?date) AS ?publication_date) (COUNT(DISTINCT ?citing_cited_work) AS ?citations) ?cited_work WHERE {
          target: wdt:P2860 ?cited_work .
          OPTIONAL {
            ?cited_work wdt:P577 ?datetime .
            BIND (xsd:date(?datetime) AS ?date)
          }
          OPTIONAL {
            ?citing_cited_work wdt:P2860 ?cited_work
          }
        }
        GROUP BY ?cited_work
      }
      OPTIONAL {
        target: p:P2860 ?citationStatement .
        ?citationStatement pq:P3712 ?intention ;
                           ps:P2860 ?cited_work .
        {{ sparql_helpers.labels(["?intention"], languages) }}
      }
      {{ sparql_helpers.labels(["?cited_work"], languages) }}
    }
    GROUP BY ?citations ?publication_date ?cited_work ?cited_workLabel
    ORDER BY DESC(?citations) DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_cited-works.sparql
  title: work_cited-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_cited-works.sparql'
- name: work_cito-incoming-chart
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-cito-incoming-chart--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?intention ?intentionLabel (COUNT(DISTINCT ?citingArticle) AS ?count) WHERE {
      ?citingArticle p:P2860 ?citationStatement .
      ?citationStatement pq:P3712 ?intention ;
                         ps:P2860 target: .
      ?intention wdt:P31 wd:Q96471816 .
      {{ sparql_helpers.labels(["?intention"], languages) }}
    }
    GROUP BY ?intention ?intentionLabel
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_cito-incoming-chart.sparql
  title: work_cito-incoming-chart
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_cito-incoming-chart.sparql'
- name: work_cito-incoming
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-cito-incoming--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?intention ?intentionLabel (CONCAT("/cito/", SUBSTR(STR(?intention),32)) AS ?intentionUrl) ?count ?example_work_for_intention ?example_work_for_intentionLabel WHERE {
      {
        SELECT ?intention (COUNT(DISTINCT ?citingArticle) AS ?count) (SAMPLE(?citingArticle) AS ?example_work_for_intention) {
          ?citingArticle p:P2860 ?citationStatement .
          ?citationStatement pq:P3712 ?intention ;
                             ps:P2860 target: .
          ?intention wdt:P31 wd:Q96471816 .
        }
        GROUP BY ?intention
      }
      {{ sparql_helpers.labels(["?intention", "?example_work_for_intention"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_cito-incoming.sparql
  title: work_cito-incoming
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_cito-incoming.sparql'
- name: work_data
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-data--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX psv: <http://www.wikidata.org/prop/statement/value/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT DISTINCT ?description ?value ?valueUrl WHERE {
      {
        BIND (1 AS ?order)
        BIND ("Title" AS ?description)
        target: wdt:P1476 ?value .
      }
      UNION {
        BIND (1.5 AS ?order)
        BIND ("Type" AS ?description)
        target: wdt:P31 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../", ?qid) AS ?valueUrl)
      }
      UNION {
        {
          SELECT (2 AS ?order) ("Authors" AS ?description) (GROUP_CONCAT(?_value; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?qid; SEPARATOR=",")) AS ?valueUrl) {
            {
              # GROUP_CONCAT does not order by standard but BlazeGraph seems to order
              # so we are hoping the sorting is correct here.
              SELECT ?_value ?qid WHERE {
                target: p:P50 [ ps:P50 ?author; pq:P1545 ?order ] .
                {{ sparql_helpers.labels(["?author"], languages) }}
                BIND (SUBSTR(STR(?author), 32) AS ?qid)
                BIND (COALESCE(?authorLabel, ?qid) AS ?_value)
                BIND (xsd:integer(?order) AS ?n)
              }
              ORDER BY ?n
            }
          }
        }
        FILTER (?value != "")
      }
      UNION {
        {
          SELECT (3 AS ?order) ("Editors" AS ?description) (GROUP_CONCAT(?_value; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?qid; SEPARATOR=",")) AS ?valueUrl) {
            target: wdt:P98 ?editor .
            {{ sparql_helpers.labels(["?editor"], languages) }}
            BIND (SUBSTR(STR(?editor), 32) AS ?qid)
            BIND (COALESCE(?editorLabel, ?qid) AS ?_value)
          }
        }
        FILTER (?value != "")
      }
      UNION {
        BIND (2.5 AS ?order)
        BIND ("Language" AS ?description)
        target: wdt:P407 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../language/", ?qid) AS ?valueUrl)
      }
      UNION {
        {
          SELECT (3 AS ?order) ("Reviewers" AS ?description) (GROUP_CONCAT(?_value; SEPARATOR=", ") AS ?value) (CONCAT("../authors/", GROUP_CONCAT(?qid; SEPARATOR=",")) AS ?valueUrl) {
            target: wdt:P4032 ?reviewer .
            {{ sparql_helpers.labels(["?reviewer"], languages) }}
            BIND (SUBSTR(STR(?reviewer), 32) AS ?qid)
            BIND (COALESCE(?reviewerLabel, ?qid) AS ?_value)
          }
        }
        FILTER (?value != "")
      }
      UNION {
        BIND (4 AS ?order)
        BIND ("Published in" AS ?description)
        target: wdt:P1433 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../venue/", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (4 AS ?order)
        BIND ("Series" AS ?description)
        target: wdt:P179 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../series/", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (6 AS ?order)
        BIND ("Publication date" AS ?description)
        target: p:P577/psv:P577 [
          wikibase:timePrecision ?time_precision ;
          wikibase:timeValue ?publication_date
        ]
        BIND (IF(?time_precision = 9, YEAR(?publication_date), xsd:date(?publication_date)) AS ?value)
      }
      UNION {
        BIND (7 AS ?order)
        BIND ("Publisher" AS ?description)
        target: wdt:P123 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../publisher/", ?qid) AS ?valueUrl)
      }
      UNION {
        {
          SELECT (8 AS ?order) ("Topics" AS ?description) (GROUP_CONCAT(?_value; SEPARATOR=", ") AS ?value) (CONCAT("../topics/", GROUP_CONCAT(?qid; SEPARATOR=",")) AS ?valueUrl) {
            target: wdt:P921 ?topic .
            {{ sparql_helpers.labels(["?topic"], languages) }}
            BIND (SUBSTR(STR(?topic), 32) AS ?qid)
            BIND (COALESCE(?topicLabel, ?qid) AS ?_value)
          }
        }
        FILTER (?value != "")
      }
      UNION {
        {
          SELECT (9 AS ?order) ("Uses" AS ?description) (GROUP_CONCAT(?_value; SEPARATOR=", ") AS ?value) (CONCAT("../uses/", GROUP_CONCAT(?qid; SEPARATOR=",")) AS ?valueUrl) {
            target: wdt:P4510 ?use .
            {{ sparql_helpers.labels(["?use"], languages) }}
            BIND (SUBSTR(STR(?use), 32) AS ?qid)
            BIND (COALESCE(?useLabel, ?qid) AS ?_value)
          }
        }
        FILTER (?value != "")
      }
      UNION {
        BIND (10 AS ?order)
        BIND ("DOI" AS ?description)
        target: wdt:P356 ?valueUrl_ .
        BIND (CONCAT("https://doi.org/", ENCODE_FOR_URI(?valueUrl_)) AS ?valueUrl)
        BIND (CONCAT(?valueUrl_, " ‚Üó") AS ?value)
      }
      UNION {
        BIND (11 AS ?order)
        BIND ("Homepage" AS ?description)
        target: wdt:P856 ?valueUrl .
        BIND (CONCAT(STR(?valueUrl), " ‚Üó") AS ?value)
      }
      UNION {
        BIND (12 AS ?order)
        BIND ("Full text" AS ?description)
        target: wdt:P953 ?valueUrl .
        BIND (CONCAT(STR(?valueUrl), " ‚Üó") AS ?value)
      }
      UNION {
        BIND (13 AS ?order)
        BIND ("üõë Retracted" AS ?description)
        {
          target: wdt:P31 wd:Q45182324 .
        } UNION {
          target: wdt:P793 wd:Q7316896 .
        }
        BIND ("open as retraction" AS ?value)
        BIND ("../retraction/{{ q }}" AS ?valueUrl)
      }
      UNION {
        BIND (14 AS ?order)
        BIND ("üõë Retracted by" AS ?description)
        target: wdt:P5824 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../work/", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (15 AS ?order)
        BIND ("‚ö†Ô∏è Preprint" AS ?description)
        target: p:P31 ?statement .
        ?statement ps:P31 wd:Q580922 .
        MINUS {
          ?statement pq:P642 []
        }
      }
      UNION {
        SELECT (COUNT(DISTINCT ?citationStatement) AS ?value) ?order ?description ?valueUrl WHERE {
          VALUES ?intention { wd:Q96472102 wd:Q101149476 wd:Q96471820 }
          target: ^ps:P2860 ?citationStatement .
          ?citationStatement pq:P3712 ?intention .
          BIND(20 AS ?order)
          BIND("Data or method used by" AS ?description)
          BIND("./{{ q }}/cito" AS ?valueUrl)
        } GROUP BY ?order ?description ?valueUrl
      }
      UNION {
        SELECT (COUNT(DISTINCT ?citationStatement) AS ?value) ?order ?description ?valueUrl WHERE {
          VALUES ?intention { wd:Q107687829 wd:Q107710355 wd:Q117121923 wd:Q117121932 }
          target: ^ps:P2860 ?citationStatement .
          ?citationStatement pq:P3712 ?intention .
          BIND(21 AS ?order)
          BIND("Disagreed with by" AS ?description)
          BIND("./{{ q }}/cito" AS ?valueUrl)
        } GROUP BY ?order ?description ?valueUrl
      }
      UNION {
        BIND (30 AS ?order)
        BIND ("‚ö†Ô∏è Preprint of" AS ?description)
        target: p:P31 ?statement .
        ?statement pq:P642 ?_value ;
                   ps:P31 wd:Q580922 .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../work/", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (31 AS ?order)
        BIND ("‚ö†Ô∏è Cites retracted article" AS ?description)
        {
          target: wdt:P2860 ?_value .
          ?_value wdt:P31 wd:Q45182324 .
        } UNION {
          target: wdt:P2860 ?_value .
          ?_value wdt:P793 wd:Q7316896 .
        } UNION {
          target: wdt:P2860 ?_value .
          ?_value wdt:P5824 [] .
        }
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../work/", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (32 AS ?order)
        BIND ("Preprint" AS ?description)
        ?_value p:P31 ?statement .
        ?statement pq:P642 target: ;
                    ps:P31 wd:Q580922 .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (33 AS ?order)
        BIND ("‚ö†Ô∏è Erratum of" AS ?description)
        target: p:P31 ?statement .
        ?statement pq:P642 ?_value ;
                    ps:P31 wd:Q1348305 .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (34 AS ?order)
        BIND ("‚ö†Ô∏è Retracts" AS ?description)
        {
          target: p:P31 ?statement .
          ?statement pq:P642 ?_value ;
                     ps:P31 wd:Q7316896 .
        } UNION {
          target: ^wdt:P5824 ?_value .
        }
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (35 AS ?order)
        BIND ("Replies to" AS ?description)
        target: wdt:P2675 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../", ?qid) AS ?valueUrl)
      }
      UNION {
        BIND (36 AS ?order)
        BIND ("Inspired by" AS ?description)
        target: wdt:P941 ?_value .
        {{ sparql_helpers.labels(["?_value"], languages) }}
        BIND (SUBSTR(STR(?_value), 32) AS ?qid)
        BIND (COALESCE(?_valueLabel, ?qid) AS ?value)
        BIND (CONCAT("../", ?qid) AS ?valueUrl)
      }
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_data.sparql
  title: work_data
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_data.sparql'
- name: work_list-of-authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-list-of-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: List of authors for a work
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT
      # Author order
      ?order ?academic_age
      # Author item and label
      ?author ?authorUrl ?authorDescription
    WHERE {
      {
        target: p:P50 ?statement .
        ?statement ps:P50 ?_author .

        {{ sparql_helpers.labels(["?_author"], languages) }}
        {{ sparql_helpers.descriptions(["?_author"], languages) }}
        BIND (?_authorLabel AS ?author)
        BIND (?_authorDescription AS ?authorDescription)
        BIND (CONCAT("../author/", SUBSTR(STR(?_author), 32)) AS ?authorUrl)

        OPTIONAL {
          SELECT ?_author (MAX(?academic_age_) AS ?academic_age) {
            target: wdt:P50 ?_author ;
                    wdt:P577 ?publication_date .
            [] wdt:P31/wdt:P279* wd:Q55915575 ;
              wdt:P50 ?_author ;
              wdt:P577 ?other_publication_date .
            BIND (YEAR(?publication_date) - YEAR(?other_publication_date) AS ?academic_age_)
          } GROUP BY ?_author
        }
      } UNION {
        target: p:P2093 ?statement .
        ?statement ps:P2093 ?_author
        BIND (CONCAT(?_author, " ‚Üó") AS ?author)
        BIND (CONCAT("https://author-disambiguator.toolforge.org/names_oauth.php?doit=Look+for+author&name=", ENCODE_FOR_URI(?_author)) AS ?authorUrl)
      }

      OPTIONAL { ?statement pq:P1545 ?order_ . }
      BIND (xsd:integer(?order_) AS ?order)
    }
    ORDER BY ?order
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_list-of-authors.sparql
  title: work_list-of-authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_list-of-authors.sparql'
- name: work_related-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-related-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: List of related works by co-citation analysis
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?work ?workLabel WHERE {
      {
        SELECT ?work (COUNT(?work) AS ?count) WHERE {
          { target: ^wdt:P2860/^wdt:P2860 ?work }
          UNION
          { target: wdt:P2860/^wdt:P2860 ?work }
          UNION
          { target: ^wdt:P2860/wdt:P2860 ?work }
          UNION
          { target: wdt:P2860/wdt:P2860 ?work }
          FILTER (target: != ?work)
        }
        GROUP BY ?work
        ORDER BY DESC(?count)
        LIMIT 500
      }
      {{ sparql_helpers.labels(["?work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_related-works.sparql
  title: work_related-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_related-works.sparql'
- name: work_statements
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-statements--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #title: Statements referencing the {{ q }} article
    #defaultView:Table
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX prov: <http://www.w3.org/ns/prov#>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?item ?itemLabel ?property ?propertyLabel ?value ?valueLabel ?unit ?unitLabel WHERE {
      {
        { SELECT ?statement WHERE { ?statement prov:wasDerivedFrom/pr:P248 target: . } }
        ?item a wikibase:Item ; ?p ?statement .
        ?property wikibase:claim ?p ; wikibase:statementProperty ?ps .
        ?statement ?ps ?value .
        FILTER NOT EXISTS {
          ?property wikibase:statementValueNormalized ?pn .
          FILTER (ISLITERAL(?value))
        }
      } UNION {
        { SELECT ?statement WHERE { ?statement prov:wasDerivedFrom/pr:P248 target: . } }
        ?item a wikibase:Item ; ?p ?statement .
        ?property wikibase:claim ?p ; wikibase:statementValueNormalized ?pn .
        ?statement ?pn ?value .
        FILTER (ISLITERAL(?value))
      }

      OPTIONAL {
        { SELECT ?statement WHERE { ?statement prov:wasDerivedFrom/pr:P248 target: . } }
        ?item a wikibase:Item ; ?p ?statement .
        ?property wikibase:claim ?p ; wikibase:statementProperty ?ps ; wikibase:statementValue ?psv .
        ?statement ?psv [ wikibase:quantityUnit ?unit ]
        {{ sparql_helpers.labels(["?unit"], languages) }}
      }

      {{ sparql_helpers.labels(["?item", "?property", "?value"], languages) }}
    }
    ORDER BY ?item ?property
    LIMIT 2000
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_statements.sparql
  title: work_statements
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_statements.sparql'
- name: work_timeline
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-timeline--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:Timeline
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX p: <http://www.wikidata.org/prop/>
    PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
    PREFIX ps: <http://www.wikidata.org/prop/statement/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT DISTINCT ?datetime ?description WHERE {
      {
        target: wdt:P577 ?datetime .
        BIND ("üåû publication date" AS ?description)
      }
      UNION {
        target: wdt:P2507/wdt:P577 ?datetime .
        BIND ("‚ùó erratum" AS ?description)
      }
      UNION {
        target: wdt:P5824/wdt:P577 ?datetime .
        BIND ("‚õî retracted" AS ?description)
      }
      UNION {
        target: p:P793 ?event_statement .
        ?event_statement ps:P793 ?event_type .
        ?event_statement pq:P585 ?datetime .
        {{ sparql_helpers.labels(["?event_type"], languages) }}

        # Warning icon for retraction
        BIND (IF(?event_type = wd:Q45203135,CONCAT("‚õî ", ?event_typeLabel),IF(?event_type = wd:Q56478588,CONCAT("‚ùì ", ?event_typeLabel),?event_typeLabel)) AS ?description)
      }
      UNION {
        SELECT ?datetime ?description WHERE {
          target: wdt:P2860/wdt:P577 ?datetime
          BIND ("üìñ‚û°Ô∏è cited work with earliest publication date" AS ?description)
        }
        ORDER BY ?datetime
        LIMIT 1
      }
      UNION {
        SELECT ?datetime ?description WHERE {
          target: wdt:P2860/wdt:P577 ?datetime
          BIND ("üìñ‚û°Ô∏è cited work with latest publication date" AS ?description)
        }
        ORDER BY DESC(?datetime)
        LIMIT 1
      }
      UNION {
        SELECT ?datetime ?description WHERE {
          target: ^wdt:P2860/wdt:P577 ?datetime
          BIND ("üìñ‚¨ÖÔ∏è citing work with earliest publication date" AS ?description)
        }
        ORDER BY ?datetime
        LIMIT 1
      }
      UNION {
        SELECT ?datetime ?description WHERE {
          target: ^wdt:P2860/wdt:P577 ?datetime
          BIND ("üìñ‚¨ÖÔ∏è citing work with latest publication date" AS ?description)
        }
        ORDER BY DESC(?datetime)
        LIMIT 1
      }
      UNION {
        target: (wdt:P747 | ^wdt:P629)/wdt:P577 ?datetime
        BIND ("üåû Publication of edition" AS ?description)
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_timeline.sparql
  title: work_timeline
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_timeline.sparql'
- name: work_topic-scores
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-topic-scores--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX target: <http://www.wikidata.org/entity/{{ q }}>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?score ?topic ?topicLabel WHERE {
      {
        SELECT (SUM(?score_) AS ?score) ?topic WHERE {
          {
            target: wdt:P921 ?topic .
            BIND (20 AS ?score_)
          }
          UNION {
            target: wdt:P921/wdt:P279 ?topic .
            BIND (3 AS ?score_)
          }
          UNION {
            # Topic of a cited work
            target: wdt:P2860/wdt:P921 ?topic .
            BIND (1 AS ?score_)
          }
          UNION {
            SELECT (1 AS ?score_) ?topic WHERE {
              ?citing_work wdt:P2860 target: .
              ?citing_work wdt:P921 ?topic .
            }
          }
        }
        GROUP BY ?topic
      }
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    ORDER BY DESC(?score)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_topic-scores.sparql
  title: work_topic-scores
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_topic-scores.sparql'
- name: work_wikipedia-mentions
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: work-wikipedia-mentions--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX bd: <http://www.bigdata.com/rdf#>
    PREFIX mwapi: <https://www.mediawiki.org/ontology#API/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wikibase: <http://wikiba.se/ontology#>
    SELECT ?title ?titleUrl ?wikipedia ?wikipediaLabel ?item ?itemLabel ?itemDescription WHERE {
      SERVICE <https://query.wikidata.org/sparql> {
        {
          SERVICE wikibase:mwapi {
            bd:serviceParam wikibase:endpoint "da.wikipedia.org" ;
                            wikibase:api "Generator" ;
                            mwapi:generator "search" ;
                            mwapi:gsrsearch '{{ q }}{% for doi in dois %} OR "{{ doi }}"{% endfor %}' ;
                            mwapi:gsrlimit "200" .
            ?title_ wikibase:apiOutput mwapi:title .
            ?item wikibase:apiOutputItem mwapi:item .
          }
          BIND (URI(CONCAT("https://da.wikipedia.org/wiki/", ENCODE_FOR_URI(REPLACE(?title_, " ", "_")))) AS ?titleUrl)
          BIND (wd:Q181163 AS ?wikipedia)
        }
        UNION {
          SERVICE wikibase:mwapi {
            bd:serviceParam wikibase:endpoint "de.wikipedia.org" ;
                            wikibase:api "Generator" ;
                            mwapi:generator "search" ;
                            mwapi:gsrsearch '{{ q }}{% for doi in dois %} OR "{{ doi }}"{% endfor %}' ;
                            mwapi:gsrlimit "200" .
            ?title_ wikibase:apiOutput mwapi:title .
            ?item wikibase:apiOutputItem mwapi:item .
          }
          BIND (URI(CONCAT("https://de.wikipedia.org/wiki/", ENCODE_FOR_URI(REPLACE(?title_, " ", "_")))) AS ?titleUrl)
          BIND (wd:Q48183 AS ?wikipedia)
        }
        UNION {
          SERVICE wikibase:mwapi {
            bd:serviceParam wikibase:endpoint "en.wikipedia.org" ;
                            wikibase:api "Generator" ;
                            mwapi:generator "search" ;
                            mwapi:gsrsearch '{{ q }}{% for doi in dois %} OR "{{ doi }}"{% endfor %}' ;
                            mwapi:gsrlimit "200" .
            ?title_ wikibase:apiOutput mwapi:title .
            ?item wikibase:apiOutputItem mwapi:item .
          }
          BIND (URI(CONCAT("https://en.wikipedia.org/wiki/", ENCODE_FOR_URI(REPLACE(?title_, " ", "_")))) AS ?titleUrl)
          BIND (wd:Q328 AS ?wikipedia)
        }
        UNION {
          SERVICE wikibase:mwapi {
            bd:serviceParam wikibase:endpoint "fr.wikipedia.org" ;
                            wikibase:api "Generator" ;
                            mwapi:generator "search" ;
                            mwapi:gsrsearch '{{ q }}{% for doi in dois %} OR "{{ doi }}"{% endfor %}' ;
                            mwapi:gsrlimit "200" .
            ?title_ wikibase:apiOutput mwapi:title .
            ?item wikibase:apiOutputItem mwapi:item .
          }
          BIND (URI(CONCAT("https://fr.wikipedia.org/wiki/", ENCODE_FOR_URI(REPLACE(?title_, " ", "_")))) AS ?titleUrl)
          BIND (wd:Q8447 AS ?wikipedia)
        }
        UNION {
          SERVICE wikibase:mwapi {
            bd:serviceParam wikibase:endpoint "pt.wikipedia.org" ;
                            wikibase:api "Generator" ;
                            mwapi:generator "search" ;
                            mwapi:gsrsearch '{{ q }}{% for doi in dois %} OR "{{ doi }}"{% endfor %}' ;
                            mwapi:gsrlimit "200" .
            ?title_ wikibase:apiOutput mwapi:title .
            ?item wikibase:apiOutputItem mwapi:item .
          }
          BIND (URI(CONCAT("https://pt.wikipedia.org/wiki/", ENCODE_FOR_URI(REPLACE(?title_, " ", "_")))) AS ?titleUrl)
          BIND (wd:Q11921 AS ?wikipedia)
        }
      }

      BIND (CONCAT(?title_, "&nbsp;‚Üó") AS ?title)
      {{ sparql_helpers.labels(["?wikipedia", "?item"], languages) }}
      {{ sparql_helpers.descriptions(["?item"], languages) }}
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/work_wikipedia-mentions.sparql
  title: work_wikipedia-mentions
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/work_wikipedia-mentions.sparql'
- name: works_authors
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: works-authors--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?count ?author ?authorLabel ?example_work ?example_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?author (SAMPLE(?work) AS ?example_work) WHERE {
          VALUES ?work { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          ?work wdt:P50 ?author .
        }
        GROUP BY ?author
        ORDER BY DESC(?count)
        LIMIT 200
      }
      {{ sparql_helpers.labels(["?author", "?example_work"], languages) }}
    }
    ORDER BY DESC(?count)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/works_authors.sparql
  title: works_authors
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/works_authors.sparql'
- name: works_citations-per-year
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: works-citations-per-year--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:LineChart
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?year (COUNT(DISTINCT ?citing_work) AS ?number_of_citations) (CONCAT(?work1Label, " (", SUBSTR(STR(?work1), 32), ")") AS ?work) WHERE {
      VALUES ?work1 { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
      ?citing_work wdt:P2860 ?work1 .
      # Year of citation
      ?citing_work wdt:P577 ?date .
      BIND (STR(YEAR(?date)) AS ?year)
      {{ sparql_helpers.labels(["?work1"], languages) }}
    }
    GROUP BY ?year ?work1 ?work1Label
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/works_citations-per-year.sparql
  title: works_citations-per-year
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/works_citations-per-year.sparql'
- name: works_citing-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: works-citing-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT ?count (MIN(?dates) AS ?date) ?citing_work ?citing_workLabel WHERE {
      {
        SELECT (COUNT(?work) AS ?count) ?citing_work WHERE {
          VALUES ?work { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
          ?citing_work wdt:P2860 ?work .
        }
        GROUP BY ?citing_work
        ORDER BY DESC(?count)
        LIMIT 200
      }
      OPTIONAL {
        ?citing_work wdt:P577 ?datetimes .
        BIND (xsd:date(?datetimes) AS ?dates)
      }
      {{ sparql_helpers.labels(["?citing_work"], languages) }}
    }
    GROUP BY ?count ?citing_work ?citing_workLabel
    ORDER BY DESC(?count) DESC(?date)
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/works_citing-works.sparql
  title: works_citing-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/works_citing-works.sparql'
- name: works_list-of-works
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: works-list-of-works--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT ?work ?workLabel ?example_author ?example_authorLabel WHERE {
      {
        VALUES ?work { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
        FILTER NOT EXISTS { ?work wdt:P50 [] }
      }
      UNION {
        {
          SELECT ?work (SAMPLE(?author) AS ?example_author) WHERE {
            VALUES ?work { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
            ?work wdt:P50 ?author
          }
          GROUP BY ?work
        }
        {{ sparql_helpers.labels(["?work", "?example_author"], languages) }}
      }
    }
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/works_list-of-works.sparql
  title: works_list-of-works
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/works_list-of-works.sparql'
- name: works_topics
  namespace: named_queries_qlever
  domain: scholia.toolforge.org
  query_id: works-topics--named_queries_qlever@scholia.toolforge.org
  sparql: |
    {% import 'sparql-helpers.sparql' as sparql_helpers -%}

    #defaultView:BubbleChart
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    SELECT (COUNT(?work) AS ?count) ?topic ?topicLabel WHERE {
      VALUES ?work { {% for q in qs -%} wd:{{ q }} {% endfor -%} }
      ?work wdt:P921 ?topic .
      {{ sparql_helpers.labels(["?topic"], languages) }}
    }
    GROUP BY ?topic ?topicLabel
    ORDER BY DESC(?count)
    LIMIT 200
  url: https://raw.githubusercontent.com/ad-freiburg/scholia/qlever/scholia/app/templates/works_topics.sparql
  title: works_topics
  description: Imported from ad-freiburg/scholia
  comment: 'Path: scholia/app/templates/works_topics.sparql'
