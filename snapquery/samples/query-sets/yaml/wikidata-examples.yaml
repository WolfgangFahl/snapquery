domain: wikidata.org
namespace: examples
target_graph_name: wikidata
queries:
- name: Cats
  namespace: examples
  domain: wikidata.org
  query_id: cats--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel
    WHERE
    {
      ?item wdt:P31 wd:Q146. # <translate><!--T:680--> Must be a cat</translate>
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". } # <translate><!--T:681--> Helps get the label in your language, if not, then en language</translate>
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Cats
  description: This query looks at all items whose value of  is . It uses the service
    wikibase:label to return the labels in your default language or in English.
- name: Horses (showing some info about them)
  namespace: examples
  domain: wikidata.org
  query_id: horses-showing-some-info-about-them--examples@wikidata.org
  sparql: |2

    #Illustrates optional fields, instances of subclasses, language fallback on label service, date to year conversion
    #title: <translate><!--T:745--> Horses on Wikidata</translate>
    SELECT DISTINCT ?horse ?horseLabel ?mother ?motherLabel ?father ?fatherLabel (year(?birthdate) as ?birthyear) (year(?deathdate) as ?deathyear) ?genderLabel
    WHERE
    {
      ?horse wdt:P31/wdt:P279* wd:Q726 .     # Instance of and subclasses of Q726 (horse)

      OPTIONAL{?horse wdt:P25 ?mother .}     # mother
      OPTIONAL{?horse wdt:P22 ?father .}     # father
      OPTIONAL{?horse wdt:P569 ?birthdate .} # date of birth
      OPTIONAL{?horse wdt:P570 ?deathdate .} # date of death
      OPTIONAL{?horse wdt:P21 ?gender .}     # sex or gender

      SERVICE wikibase:label { #BabelRainbow
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],fr,ar,be,bg,bn,ca,cs,da,de,el,en,es,et,fa,fi,he,hi,hu,hy,id,it,ja,jv,ko,nb,nl,eo,pa,pl,pt,ro,ru,sh,sk,sr,sv,sw,te,th,tr,uk,yue,vec,vi,zh"
      }
    }
    ORDER BY ?horse
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Horses (showing some info about them)
  description: This query looks at items whose value of  is  or any subclass of ()
    . It displays the value of , , and  and computes the birth year using  and the
    death year using . Items are ordered using the horses' qid.
- name: Cats, with pictures
  namespace: examples
  domain: wikidata.org
  query_id: cats-with-pictures--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:746--> Cats, with pictures</translate>
    #defaultView:ImageGrid
    SELECT ?item ?itemLabel ?pic WHERE {
      ?item wdt:P31 wd:Q146;
        wdt:P18 ?pic.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Cats, with pictures
  description: This query looks at all items with value of  equals to  with a . The
    results are displayed as a gallery with the option '#defaultView:ImageGrid'.
- name: Map of hospitals
  namespace: examples
  domain: wikidata.org
  query_id: map-of-hospitals--examples@wikidata.org
  sparql: |
    #added 2017-08
    #defaultView:Map
    SELECT DISTINCT * WHERE {
      ?item wdt:P31/wdt:P279* wd:Q16917;
            wdt:P625 ?geo .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of hospitals
  description: The query displays all items whose value of  is  or any  of  with .
    The results are displayed on a map using 'defaultView:Map'.
- name: Map of hackerspaces
  namespace: examples
  domain: wikidata.org
  query_id: map-of-hackerspaces--examples@wikidata.org
  sparql: |
    #added 2021-12
    #defaultView:Map
    SELECT DISTINCT * WHERE {
      ?item wdt:P31 wd:Q1032372;
            wdt:P625 ?geo .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of hackerspaces
  description: |-
    The query displays on a map ("defaultView:Map") all items whose value of  is  and with values for property .


    Warnings:
    * Items of class  without any value for  are not returned in the query.
    * Items which are instances of a subclass of  are not returned.
- name: Number of humans in Wikidata
  namespace: examples
  domain: wikidata.org
  query_id: number-of-humans-in-wikidata--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:747--> Number of humans in Wikidata</translate>
    SELECT (COUNT(*) AS ?count)
    WHERE {
      ?item wdt:P31 wd:Q5 .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Number of humans in Wikidata
  description: "This query takes all items whose value of  is  and count the total\
    \ number of items using COUNT function.\n\n*  Items used: \n*  Properties used:"
- name: Only truthy values
  namespace: examples
  domain: wikidata.org
  query_id: only-truthy-values--examples@wikidata.org
  sparql: |2

    #<translate>Demonstrates "no value" handling</translate>
    #title: <translate><!--T:748--> Humans without children (only truthy values)</translate>
    SELECT ?human ?humanLabel
    WHERE
    {
      ?human wdt:P31 wd:Q5 .       #find humans
      ?human rdf:type wdno:P40 .   #with at least one truthy P40 (child) statement defined to be "no value"
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Only truthy values
  description: "In the simplest form (using only [[<tvar name=\"truthyLink\">:mw:Wikibase/Indexing/RDF_Dump_Format#Truthy_statements</tvar>|truthy]]\
    \ values):\n\n*  Items used: \n*  Properties used:"
- name: Including non-truthy values
  namespace: examples
  domain: wikidata.org
  query_id: including-non-truthy-values--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:749--> Humans without children (including non-truthy values)</translate>
    SELECT ?human ?humanLabel
    WHERE
    {
      ?human wdt:P31 wd:Q5 .         #find humans
      ?human p:P40 ?childStatement . #with at least one P40 (child) statement
      ?childStatement rdf:type wdno:P40 .   #where the P40 (child) statement is defined to be "no value"
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Including non-truthy values
  description: "A similar query which also considers non-truthy (for example, values\
    \ with deprecated rank) \"no value\" statements:\n\n*  Items used: \n*  Properties\
    \ used:"
- name: Humans born in New York City
  namespace: examples
  domain: wikidata.org
  query_id: humans-born-in-new-york-city--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:750--> Humans born in New York City</translate>
    SELECT DISTINCT ?item ?itemLabel ?itemDescription ?sitelinks
    WHERE {
        ?item wdt:P31 wd:Q5;            # Any instance of a human
              wdt:P19/wdt:P131* wd:Q60; # Who was born in any value (eg. a hospital)
    # that has the property of 'administrative area of' New York City or New York City itself.

    # Note that using wdt:P19 wd:Q60;  # Who was born in New York City.
    # Doesn't include humans with the birth place listed as a hospital
    # or an administrative area or other location of New York City.

              wikibase:sitelinks ?sitelinks.

        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    ORDER BY DESC(?sitelinks)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Humans born in New York City
  description: "This example highlights the correct way to use the  property, and\
    \ by extension the  property.  is the most specific known place of birth. For\
    \ example, it is known that Donald Trump () was born in the Jamaica Hospital ()\
    \ in New York City. Therefore, he wouldn't show up in direct query for humans\
    \ born in New York City.\n\n*  Items used:  \n*  Properties used:"
- name: Humans who died on a specific date on the English Wikipedia, ordered by label
  namespace: examples
  domain: wikidata.org
  query_id: humans-who-died-on-a-specific-date-on-the-english-wikipedia-ordered-by-label--examples@wikidata.org
  sparql: |2-

    # <translate>Humans who died on August 25 2001 according to the English Wikipedia</translate>
    SELECT ?item ?articlename ?itemLabel ?itemDescription ?sl
    WHERE {
       VALUES ?dod {"+2001-08-25"^^xsd:dateTime}
        ?dod ^wdt:P570 ?item .
        ?item wikibase:sitelinks ?sl .
        ?item ^schema:about ?article .
        ?article schema:isPartOf <https://en.wikipedia.org/>;
        schema:name ?articlename .
      SERVICE wikibase:label
        {
          bd:serviceParam wikibase:language "en" .
          ?item rdfs:label ?itemLabel .
          ?item schema:description ?itemDescription .
        }
      BIND(REPLACE(?itemLabel, "^.*(?<! [Vv][ao]n
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Humans who died on a specific date on the English Wikipedia, ordered by label
  description: ''
- name: Items with a Wikispecies sitelink
  namespace: examples
  domain: wikidata.org
  query_id: items-with-a-wikispecies-sitelink--examples@wikidata.org
  sparql: |2

    # <translate>illustrates sitelink selection, ";" notation</translate>
    #title: <translate><!--T:751--> Items with a Wikispecies sitelink</translate>
    SELECT ?item ?itemLabel ?article
    WITH {
      SELECT *
      WHERE {
        ?article schema:about ?item ;
          schema:isPartOf <https://species.wikimedia.org/> .
      }
      LIMIT 200
    } AS %i
    WHERE {
      INCLUDE %i
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Items with a Wikispecies sitelink
  description: ''
- name: Items about authors with a Wikispecies page
  namespace: examples
  domain: wikidata.org
  query_id: items-about-authors-with-a-wikispecies-page--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:752--> Items about authors with a Wikispecies page</translate>
    SELECT ?author ?authorLabel ?count
    WITH {
      SELECT ?author (COUNT(?paper) AS ?count)
      WHERE {
        ?article schema:about ?author ;
          schema:isPartOf <https://species.wikimedia.org/> .
        ?author wdt:P31 wd:Q5.
        ?paper wdt:P50 ?author.
      }
      GROUP BY ?author
      ORDER BY DESC(?count)
      LIMIT 200
    } AS %i
    WHERE {
      INCLUDE %i
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Items about authors with a Wikispecies page
  description: ''
- name: Recent events
  namespace: examples
  domain: wikidata.org
  query_id: recent-events--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:753--> Recent events</translate>
    SELECT ?event ?eventLabel ?date
    WITH {
      SELECT DISTINCT ?event ?date
      WHERE {
        # find events
        ?event wdt:P31/wdt:P279* wd:Q1190554.
        # with a point in time or start date
        OPTIONAL { ?event wdt:P585 ?date. }
        OPTIONAL { ?event wdt:P580 ?date. }
        # but at least one of those
        FILTER(BOUND(?date) && DATATYPE(?date) = xsd:dateTime).
        # not in the future, and not more than 31 days ago
        BIND(NOW() - ?date AS ?distance).
        FILTER(0 <= ?distance && ?distance < 31).
      }
      LIMIT 150
    } AS %i
    WHERE {
      INCLUDE %i
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Recent events
  description: ''
- name: Popular eye colors among humans
  namespace: examples
  domain: wikidata.org
  query_id: popular-eye-colors-among-humans--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:754--> Popular eye colors among humans</translate>
    # <translate>illustrates bubblechart view, count</translate>
    #defaultView:BubbleChart
    SELECT ?eyeColor ?eyeColorLabel ?rgb (COUNT(?human) AS ?count)
    WHERE
    {
      ?human wdt:P31 wd:Q5.
      ?human wdt:P1340 ?eyeColor.
      OPTIONAL { ?eyeColor wdt:P465 ?rgb. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    GROUP BY ?eyeColor ?eyeColorLabel ?rgb
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Popular eye colors among humans
  description: ''
- name: Humans whose gender we know we don't know
  namespace: examples
  domain: wikidata.org
  query_id: humans-whose-gender-we-know-we-don-t-know--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:755--> Humans whose gender we know we don't know</translate>
    # <translate>Demonstrates filtering for "unknown value"</translate>
    SELECT ?human ?humanLabel
    WHERE
    {
      ?human wdt:P31 wd:Q5 . # instance of human
      ?human wdt:P21 ?gender .
      FILTER wikibase:isSomeValue(?gender)
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Humans whose gender we know we don't know
  description: ''
- name: URLs of Wikipedia in all languages
  namespace: examples
  domain: wikidata.org
  query_id: urls-of-wikipedia-in-all-languages--examples@wikidata.org
  sparql: |
    #title: <translate><!--T:756--> URLs of Wikipedia in all languages</translate>
    SELECT ?wikipedia WHERE {
      ?wikipedia wikibase:wikiGroup "wikipedia".
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: URLs of Wikipedia in all languages
  description: This query provides an alternative to scraping the Wikipedia.org portal
    page and various lists/tables of Wikipedias that are out there. (The [[<tvar name=1>mw:Special:MyLanguage/API:sitematrix</tvar>|sitematrix
    API]] is another alternative.)
- name: Names of Wikipedia articles in multiple languages
  namespace: examples
  domain: wikidata.org
  query_id: names-of-wikipedia-articles-in-multiple-languages--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?lang ?name WHERE {
      ?article schema:about wd:Q5 . hint:Prior hint:runFirst true.
      ?article schema:inLanguage ?lang ;
        schema:name ?name ;
        schema:isPartOf [ wikibase:wikiGroup "wikipedia" ] .
      FILTER(?lang in ('en', 'uz', 'ru', 'ko')) .
      FILTER (!CONTAINS(?name, ':')) .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Names of Wikipedia articles in multiple languages
  description: The query retrieves Wikipedia article names (in the main namespace)
    in various languages for the given Q identity. Labels are returned instead of
    real article names.
- name: All items with a property
  namespace: examples
  domain: wikidata.org
  query_id: all-items-with-a-property--examples@wikidata.org
  sparql: |
    # <translate>Sample to query all values of a property</translate>
    # <translate>Property talk pages on Wikidata include basic queries adapted to each property</translate>
    SELECT
      ?item ?itemLabel
      ?value ?valueLabel
    # <translate>valueLabel is only useful for properties with item-datatype</translate>
    WHERE
    {
      ?item wdt:P1800 ?value
      # <translate>change P1800 to another property</translate>
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    # <translate>remove or change limit for more results</translate>
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All items with a property
  description: ''
- name: All statements of an item containing another item (direct / first-degree connections)
  namespace: examples
  domain: wikidata.org
  query_id: all-statements-of-an-item-containing-another-item-direct-first-degree-connections--examples@wikidata.org
  sparql: |
    #defaultView:Graph
    #TEMPLATE={ "template": { "en": "All statements of ?item containing another item" }, "variables": { "?item": {} } }
    SELECT ?item ?itemLabel ?itemImage ?value ?valueLabel ?valueImage ?edgeLabel WHERE {
      BIND(wd:Q12345 AS ?item)
      ?item ?wdt ?value.
      ?edge a wikibase:Property;
            wikibase:propertyType wikibase:WikibaseItem; # <translate>note: to show all statements, removing this is not enough, the graph view only shows entities</translate>
            wikibase:directClaim ?wdt.
      OPTIONAL { ?item wdt:P18 ?itemImage. }
      OPTIONAL { ?value wdt:P18 ?valueImage. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All statements of an item containing another item (direct / first-degree
    connections)
  description: ''
- name: Wikidata items of Wikipedia articles
  namespace: examples
  domain: wikidata.org
  query_id: wikidata-items-of-wikipedia-articles--examples@wikidata.org
  sparql: |
    # <translate>Returns a list of Wikidata items for a given list of Wikipedia article names</translate>
    # <translate>List of Wikipedia article names (lemma) is like "WIKIPEDIA ARTICLE NAME"@LANGUAGE CODE with de for German, en for English, etc.</translate>
    # <translate>Language version and project is defined in schema:isPartOF with de.wikipedia.org for German Wikipedia, es.wikivoyage for Spanish Wikivoyage, etc.</translate>
    SELECT ?lemma ?item WHERE {
      VALUES ?lemma {
        "Wikipedia"@de
        "Wikidata"@de
        "Berlin"@de
        "Technische Universität Berlin"@de
      }
      ?sitelink schema:about ?item;
        schema:isPartOf <https://de.wikipedia.org/>;
        schema:name ?lemma.
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Wikidata items of Wikipedia articles
  description: ''
- name: Total population in the Øresund Region
  namespace: examples
  domain: wikidata.org
  query_id: total-population-in-the-øresund-region--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:757--> Total population in the Øresund Region</translate>
    # <translate>Illustrates the SUM aggregate function</translate>

    SELECT DISTINCT ?area ?areaLabel (sum(?folkm_ngd) as ?total_folkm) # <translate>the first two variables can be removed</translate>
                                                                       # <translate>if only the number is needed</translate>
    WHERE {
      ?item wdt:P361 wd:Q297853. # <translate>part of (P361) Øresund Region (Q297853)</translate>
      ?item wdt:P1082 ?folkm_ngd. # <translate>population (P1082)</translate>
      ?area wdt:P31 wd:Q1907114. # <translate>instance of (P31) metropolitan area (Q1907114)</translate>
      ?area wdt:P527 ?item. # <translate>has part (P527)</translate>
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    GROUP BY ?area ?areaLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Total population in the Øresund Region
  description: ''
- name: Mayors that are any kind of domesticated animal
  namespace: examples
  domain: wikidata.org
  query_id: mayors-that-are-any-kind-of-domesticated-animal--examples@wikidata.org
  sparql: |
    #title: <translate><!--T:758--> Mayors that are any kind of domesticated animal</translate>
    SELECT ?image ?speciesLabel ?mayorLabel ?placeLabel WHERE {
      ?species wdt:P279* wd:Q622852 .
      ?mayor wdt:P31 ?species .

      ?mayor p:P39 ?node .
      ?node ps:P39 wd:Q30185 .
      ?node pq:P642 ?place .
      OPTIONAL {?mayor wdt:P18 ?image}
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Mayors that are any kind of domesticated animal
  description: ''
- name: Mayors that are either a dog, a cat or a chicken
  namespace: examples
  domain: wikidata.org
  query_id: mayors-that-are-either-a-dog-a-cat-or-a-chicken--examples@wikidata.org
  sparql: |
    # <translate>Illustrates the VALUES clause.</translate>
    SELECT ?image ?speciesLabel ?mayorLabel ?placeLabel WHERE {
      VALUES ?species {wd:Q144 wd:Q146 wd:Q780}
      ?mayor wdt:P31 ?species .
      ?mayor p:P39 ?node .
      ?node ps:P39 wd:Q30185 .
      ?node pq:P642 ?place .
      OPTIONAL {?mayor wdt:P18 ?image}
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Mayors that are either a dog, a cat or a chicken
  description: ''
- name: Items in the Messier Catalog, with image
  namespace: examples
  domain: wikidata.org
  query_id: items-in-the-messier-catalog-with-image--examples@wikidata.org
  sparql: "\n#defaultView:ImageGrid\n# <translate>Items in the Messier Catalog</translate>\n\
    SELECT DISTINCT ?item ?itemLabel ?numero (SAMPLE(?image) AS ?image)\nWHERE {\n\
    \  ?item p:P528 ?catalogStatement .\n  ?catalogStatement ps:P528 ?numero .\n \
    \ ?catalogStatement pq:P972 wd:Q14530 .\n  OPTIONAL {?item wdt:P18 ?image . }\n\
    \n\tSERVICE wikibase:label { bd:serviceParam wikibase:language \"en\" }\n}\nGROUP\
    \ BY ?item ?itemLabel ?numero \nORDER BY ?numero\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Items in the Messier Catalog, with image
  description: ''
- name: Brightest stars, with image
  namespace: examples
  domain: wikidata.org
  query_id: brightest-stars-with-image--examples@wikidata.org
  sparql: "\n#defaultView:ImageGrid\n# <translate>Brightest celestial bodies</translate>\n\
    SELECT ?star ?starLabel ?images ?apparent_magnitude\nWHERE {\n  SERVICE wikibase:label\
    \ { bd:serviceParam wikibase:language \"en\". }\n  { SELECT  ?star ?apparent_magnitude\
    \ ?images\n    WHERE {   \n      ?star wdt:P31 wd:Q523;\n            wdt:P1215\
    \ ?apparent_magnitude;\n            wdt:P18 ?images .\n      FILTER(?apparent_magnitude\
    \ < 1)\n    } LIMIT 10 \n  }\n} ORDER BY (?apparent_magnitude)\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Brightest stars, with image
  description: ''
- name: Map of the world's sign languages with number of practicians
  namespace: examples
  domain: wikidata.org
  query_id: map-of-the-world-s-sign-languages-with-number-of-practicians--examples@wikidata.org
  sparql: "\n#title:<translate><!--T:759--> Map of the world's sign languages with\
    \ number of practicians</translate>\n#defaultView:Map\nSELECT ?sign_language ?sign_languageLabel\
    \ ?indigenous_to ?coordinate_location ?practicians WHERE {\n  SERVICE wikibase:label\
    \ { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }\n  OPTIONAL {\
    \ ?sign_language wdt:P1098 ?practicians. }\n  OPTIONAL { ?sign_language wdt:P17\
    \ ?country. }\n  OPTIONAL { ?country wdt:P625 ?coordinate_location. }\n  ?sign_language\
    \ wdt:P31 wd:Q34228. \n}\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of the world's sign languages with number of practicians
  description: ''
- name: Senses on Swedish phrase lexemes with a synonym
  namespace: examples
  domain: wikidata.org
  query_id: senses-on-swedish-phrase-lexemes-with-a-synonym--examples@wikidata.org
  sparql: "\n#title: <translate><!--T:760--> Senses on Swedish phrase lexemes with\
    \ a synonym</translate>\n# <translate>date: 2024-04-25</translate>\n# <translate>author:\
    \ So9q</translate>\n# <translate>note: Thanks to Nikki and Ainali for help with\
    \ selecting the synonym lexeme</translate> \nSELECT ?l ?sense ?lemma ?synonym\
    \ ?synonym_lemma WHERE {\n  ?l   ontolex:sense ?sense ; # <translate>the sense</translate>\n\
    \       dct:language wd:Q9027 ; # <translate>the language</translate>\n      \
    \ wikibase:lemma ?lemma ; # <translate>and the lemma</translate>\n       wikibase:lexicalCategory\
    \ ?category.\n  ?category wdt:P279/wdt:P31* wd:Q187931. # <translate>subclass\
    \ of phrase</translate>\n  ?sense wdt:P5973 ?synonym_sense .\n  ?synonym ontolex:sense\
    \ ?synonym_sense . # <translate>select synonym lexeme</translate>\n  ?synonym\
    \ wikibase:lemma ?synonym_lemma . # <translate>get the synonym lemma</translate>\n\
    }\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Senses on Swedish phrase lexemes with a synonym
  description: ''
- name: Senses on English lexemes with an offensive or profanity style statement
  namespace: examples
  domain: wikidata.org
  query_id: senses-on-english-lexemes-with-an-offensive-or-profanity-style-statement--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:761--> Senses on English lexemes with an offensive or profanity style statement</translate>
    # <translate>date: 2024-01-25</translate>
    # <translate>author: So9q</translate>
    SELECT ?l ?sense ?lemma ?swearLabel WHERE {
      ?l ontolex:sense ?sense ; # the sense
         dct:language wd:Q1860 ; # the language
         wikibase:lemma ?lemma . # and the lemma
      VALUES ?swear {
        wd:Q184439
        wd:Q545779
      }
      ?sense wdt:P6191 ?swear .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Senses on English lexemes with an offensive or profanity style statement
  description: ''
- name: Swedish lexemes missing in SAOB
  namespace: examples
  domain: wikidata.org
  query_id: swedish-lexemes-missing-in-saob--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:762--> Swedish lexemes that are missing in the biggest official printed Swedish dictionary SAOB.</translate>
    # <translate>date: 2021-10-12</translate>
    # <translate>author:So9q</translate>
    SELECT ?lemma
    WHERE {
      ?lexemeId dct:language wd:Q9027;
                wikibase:lemma ?lemma;
                wdt:P9660 wd:Q1935308.
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Swedish lexemes missing in SAOB
  description: ''
- name: Forms in Swedish that have no example demonstrating them
  namespace: examples
  domain: wikidata.org
  query_id: forms-in-swedish-that-have-no-example-demonstrating-them--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:763--> Forms in Swedish that have no example demonstrating them</translate>
    # <translate>2021-08-06</translate>
    SELECT ?form ?lemma
    WHERE {
      ?lexemeId dct:language wd:Q9027;
                wikibase:lemma ?lemma;
                ontolex:lexicalForm ?form.
      MINUS {
      ?lexemeId p:P5831 ?statement.
      ?statement ps:P5831 ?example;
                 pq:P6072 [];
                 pq:P5830 ?form_with_example.
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Forms in Swedish that have no example demonstrating them
  description: ''
- name: Get the lemma for an inflected word in English
  namespace: examples
  domain: wikidata.org
  query_id: get-the-lemma-for-an-inflected-word-in-english--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:764--> Get the lemma for an inflected word in English</translate>
    # <translate>Author: So9q</translate>
    # <translate>2021-07-25</translate>
    # <translate>inspired by https://sinaahmadi.github.io/posts/10-essential-sparql-queries-for-lexicographical-data-on-wikidata.html</translate>
    SELECT DISTINCT ?l ?word ?lemma WHERE {
      VALUES ?word { "bought"@en }
      ?l dct:language wd:Q1860 ;
         wikibase:lemma ?lemma ;
         ontolex:lexicalForm ?form .
      ?form ontolex:representation ?word .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Get the lemma for an inflected word in English
  description: ''
- name: The Swedish alphabet
  namespace: examples
  domain: wikidata.org
  query_id: the-swedish-alphabet--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:765--> The Swedish alphabet</translate>
    # <translate>Author: So9q</translate>
    # <translate>2021-07-22</translate>
    SELECT ?lexemeId ?lemma WHERE {
      ?lexemeId dct:language wd:Q9027;
                wikibase:lemma ?lemma.
      ?lexemeId wikibase:lexicalCategory wd:Q9788
    }
    ORDER BY ?lemma
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The Swedish alphabet
  description: ''
- name: Danish phrases
  namespace: examples
  domain: wikidata.org
  query_id: danish-phrases--examples@wikidata.org
  sparql: |2

    #title: <translate>Danish phrases</translate>
    # <translate>Author: So9q</translate>
    # <translate>Date: 2024-01-03</translate>
    SELECT ?l ?lemma WHERE {
      ?l dct:language wd:Q9035; # Change language here
         wikibase:lemma ?lemma;
         wikibase:lexicalCategory ?cat.
      ?cat wdt:P279 wd:Q187931.
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Danish phrases
  description: ''
- name: All forms in Swedish missing a pronunciation for the form with a representation
    identical to the lemma of the lexeme
  namespace: examples
  domain: wikidata.org
  query_id: all-forms-in-swedish-missing-a-pronunciation-for-the-form-with-a-representation-identical-to-the-lemma-of-the-lexeme--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:766--> All forms in Swedish missing a pronunciation for the form with a representation identical to the lemma of the lexeme</translate>
    # So9q 13-01-2021
    SELECT ?l ?lemma ?form ?audio WHERE {
      ?l dct:language wd:Q9027;
         wikibase:lemma ?lemma;
         ontolex:lexicalForm ?form .
      ?form ontolex:representation ?lemma .
      MINUS {?form wdt:P443 ?audio.}
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All forms in Swedish missing a pronunciation for the form with a representation
    identical to the lemma of the lexeme
  description: ''
- name: Lexemes in English that match an expression
  namespace: examples
  domain: wikidata.org
  query_id: lexemes-in-english-that-match-an-expression--examples@wikidata.org
  sparql: |2

    # <translate>Lexemes in English that match an expression</translate>
    SELECT ?lexemeId ?lemma WHERE {
      ?lexemeId dct:language wd:Q1860;
                wikibase:lemma ?lemma.
      # only those lemmas that begin with "pota", i.e. "potato"
      FILTER (regex(?lemma, '^pota.*'))
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Lexemes in English that match an expression
  description: ''
- name: Lexemes in Swedish with usage example that demonstrates both a form and a
    sense
  namespace: examples
  domain: wikidata.org
  query_id: lexemes-in-swedish-with-usage-example-that-demonstrates-both-a-form-and-a-sense--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:767--> Lexemes in Swedish with usage example that demonstrates both a form and a sense</translate>
    # So9q 23-12-2020
    SELECT ?lexemeId ?lemma ?example WHERE {
      ?lexemeId dct:language wd:Q9027;
                wikibase:lemma ?lemma.
      ?lexemeId p:P5831 ?statement.
      ?statement ps:P5831 ?example;
                 pq:P6072 [];
                 pq:P5830 [].
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Lexemes in Swedish with usage example that demonstrates both a form and a
    sense
  description: ''
- name: Pictures of noun lexemes in English (picture dictionary à la Wikidata)
  namespace: examples
  domain: wikidata.org
  query_id: pictures-of-noun-lexemes-in-english-picture-dictionary-à-la-wikidata--examples@wikidata.org
  sparql: |2

    # <translate>Lexemes in English with picture and description fetched from the concept Q-item</translate>
    # <translate>NB: when 2 or more pictures occur for the same lemma a preferred rank is missing on the Q-item.</translate>
    # <translate>Please fix that if you know how.</translate>
    # <translate>by So9q</translate>
    #defaultView:ImageGrid
    SELECT DISTINCT ?lexemeId ?lemma ?q_concept ?q_conceptDescription ?picture
    WHERE {
      ?lexemeId dct:language wd:Q1860;
                wikibase:lemma ?lemma;
                ontolex:sense ?sense.
      ?sense wdt:P5137 ?q_concept.
      ?q_concept wdt:P18 ?picture.
      # <translate>if you wish to only browse certain items you can insert a FILTER</translate>
      # <translate>regular expression here, like in the example above.</translate>
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY lcase(?lemma) # order a-z
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Pictures of noun lexemes in English (picture dictionary à la Wikidata)
  description: ''
- name: German picture dictionary for young children
  namespace: examples
  domain: wikidata.org
  query_id: german-picture-dictionary-for-young-children--examples@wikidata.org
  sparql: |2

    # <translate>German picture dictionary for young children</translate>
    # <translate>NB: when 2 or more pictures occur for the same lemma a preferred rank is missing on the Q-item.</translate>
    # <translate>Please fix that if you know how.</translate>
    # <translate>If any inapproriate terms show up it is probably because the sense is missing a correct P5137</translate>
    # <translate>by So9q</translate>
    #defaultView:ImageGrid
    SELECT DISTINCT ?lexemeId ?lemma ?q_concept ?q_conceptDescription ?picture
    WHERE {
      ?lexemeId dct:language wd:Q188; # change language here
                wikibase:lemma ?lemma;
                ontolex:sense ?sense.
      ?sense wdt:P5137 ?q_concept.
      ?q_concept wdt:P18 ?picture.
      ############
      # <translate>Exclusions</translate>
      ############
      # <translate>Exclude out of scope concepts</translate>
      MINUS {?q_concept wdt:P31 wd:Q3624078.}. # countries

      # <translate>Exclude non suitable concepts</translate>
      VALUES ?minus {
      wd:Q47092 # <translate>rape</translate>
      wd:Q198   # <translate>war</translate>
      wd:Q124490 # <translate>violence</translate>
      wd:Q170382 # <translate>revolver</translate>
      wd:Q1576   # <translate>cigar</translate>
      #... <translate>add yours here</translate>
      }.
      MINUS {?sense wdt:P5137 ?minus.}.

      # <translate>Exclude senses not suitable for young children:</translate>
      VALUES ?filter {
      wd:Q8102
      wd:Q545779
      wd:Q1521634
      wd:Q184439}.
      FILTER NOT EXISTS {?sense wdt:P6191 ?filter.}.
      # <translate>if you wish to only browse certain items you can insert a FILTER</translate>
      # <translate>regular expression here, like in the example above.</translate>
      SERVICE wikibase:label { bd:serviceParam wikibase:language "de,en". }
    }
    ORDER BY lcase(?lemma) # order a-z
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: German picture dictionary for young children
  description: ''
- name: Lexeme languages by number of usage examples
  namespace: examples
  domain: wikidata.org
  query_id: lexeme-languages-by-number-of-usage-examples--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:768--> Lexeme languages by number of usage examples</translate>
    # <translate>by Vesihiisi</translate>
    # <translate>improved by So9q 23-20-2020 to only show those with both a form and a sense,</translate>
    # <translate>because that's what we really want</translate>

    #defaultView:BubbleChart
    SELECT ?languageLabel (COUNT(?example) AS ?count) WHERE {
      ?l dct:language ?language;
         p:P5831 ?statement.
      ?statement ps:P5831 ?example;
                 pq:P6072 [];
                 pq:P5830 [].
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    GROUP BY ?languageLabel
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Lexeme languages by number of usage examples
  description: ''
- name: Lexemes describing a color
  namespace: examples
  domain: wikidata.org
  query_id: lexemes-describing-a-color--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:769--> Lexemes describing a color</translate>
    # <translate>By Vesihiisi</translate>

    SELECT ?l ?lemma ?languageLabel WHERE {
      ?l dct:language ?language;
         wikibase:lemma ?lemma;
         wdt:P31 wd:Q376431.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY ?languageLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Lexemes describing a color
  description: ''
- name: Lexemes that means water ordered by language
  namespace: examples
  domain: wikidata.org
  query_id: lexemes-that-means-water-ordered-by-language--examples@wikidata.org
  sparql: |2

    # <translate>By So9q</translate>
    # <translate>Lexemes that means (liquid) water</translate>
    SELECT ?l ?sense ?lemma ?languageLabel WHERE {
      ?l a ontolex:LexicalEntry ; # <translate>get from the special LexicalEntry</translate>
           ontolex:sense ?sense ; # <translate>the sense</translate>
           dct:language ?language ; # <translate>the language</translate>
           wikibase:lemma ?lemma. # <translate>and the lemma</translate>
      ?sense wdt:P5137 wd:Q29053744 .
                       # <translate>change Q29053744 to anything you want</translate>
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    # <translate>Lower case before order</translate>
    ORDER BY (LCASE(?languageLabel))
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Lexemes that means water ordered by language
  description: ''
- name: The 100 most translated concepts in the Lexeme namespace
  namespace: examples
  domain: wikidata.org
  query_id: the-100-most-translated-concepts-in-the-lexeme-namespace--examples@wikidata.org
  sparql: |2

    # <translate>by So9q, 2019-11-21</translate>
    #defaultView:BubbleChart
    SELECT ?meaning ?meaningLabel ?count
    WITH {
      SELECT ?meaning (count(?l) as ?count)
      WHERE {
        ?l a ontolex:LexicalEntry ;
          ontolex:sense ?sense.
        ?sense wdt:P5137 ?meaning.
      }
      GROUP BY ?meaning
      ORDER BY desc(?count)
      LIMIT 100
    } AS %i
    WHERE {
      INCLUDE %i
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
    ORDER BY desc(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The 100 most translated concepts in the Lexeme namespace
  description: ''
- name: Demonyms on map
  namespace: examples
  domain: wikidata.org
  query_id: demonyms-on-map--examples@wikidata.org
  sparql: |2

    # <translate>Words describing people from a certain place</translate>
    # <translate>e.g. swede</translate>
    # by Vesihiisi
    #defaultView:Map
    SELECT ?l ?lemma ?demoPlaceLabel ?coords WHERE {
      ?l a ontolex:LexicalEntry ;
           dct:language ?language ;
           wikibase:lemma ?lemma .
      ?language wdt:P218 'sv'. # <translate>language</translate>
      ?l ontolex:sense ?sense.
         ?sense wdt:P6271 ?demoPlace.
      ?demoPlace wdt:P625 ?coords
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Demonyms on map
  description: ''
- name: Forms in Hebrew that are both feminine and masculine
  namespace: examples
  domain: wikidata.org
  query_id: forms-in-hebrew-that-are-both-feminine-and-masculine--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:770--> Forms of nouns in Hebrew that are both feminine and masculine</translate>
    # by Uziel302
    SELECT ?lexemeId ?lemma ?form ?word WHERE {
      ?lexemeId dct:language wd:Q9288;
                wikibase:lexicalCategory wd:Q1084;
                wikibase:lemma ?lemma;
                ontolex:lexicalForm ?form.
      ?form wikibase:grammaticalFeature wd:Q499327, wd:Q1775415;
            ontolex:representation ?word.
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Forms in Hebrew that are both feminine and masculine
  description: ''
- name: Lexemes by number of statements
  namespace: examples
  domain: wikidata.org
  query_id: lexemes-by-number-of-statements--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:771--> Lexemes by number of statements</translate>
    SELECT * {
      ?l dct:language [];
         wikibase:statements ?c.
    }
    ORDER BY desc(?c) LIMIT 50
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Lexemes by number of statements
  description: ''
- name: Standard Mandarin Lexeme Forms missing Pinyin Transliteration
  namespace: examples
  domain: wikidata.org
  query_id: standard-mandarin-lexeme-forms-missing-pinyin-transliteration--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:772--> Standard Mandarin Lexeme Forms missing Pinyin Transliteration</translate>
    #author:0xDeadbeef 2022-07-31
    SELECT ?lexemeId ?lemma ?form ?word WHERE {
      ?lexemeId dct:language wd:Q727694;
        wikibase:lemma ?lemma;
        ontolex:lexicalForm ?form.
      ?form ontolex:representation ?word.
      FILTER(NOT EXISTS { ?form wdt:P1721 ?o. })
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Standard Mandarin Lexeme Forms missing Pinyin Transliteration
  description: ''
- name: Properties grouped by their parent property
  namespace: examples
  domain: wikidata.org
  query_id: properties-grouped-by-their-parent-property--examples@wikidata.org
  sparql: |
    #Properties grouped by their parent property
    #TODO: should display links and numeric ids
    #defaultView:Tree
    SELECT ?property2 ?property2Label ?property1 ?property1Label WHERE {
      ?property1 rdf:type wikibase:Property. #not replaceable with wikibase:Item, wikibase:Statement, wikibase:Reference at WDQS
                                             #https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#WDQS_data_differences
      ?property1 wdt:P1647 ?property2.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Properties grouped by their parent property
  description: ''
- name: Subproperties of <tvar name=p276>{{Property|P276}}</tvar>
  namespace: examples
  domain: wikidata.org
  query_id: subproperties-of-tvar-name-p276-property-p276-tvar--examples@wikidata.org
  sparql: |
    #Subproperties of location (P276)
    SELECT DISTINCT ?subProperties ?subPropertiesLabel WHERE {
      ?subProperties wdt:P1647* wd:P276.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Subproperties of <tvar name=p276>{{Property|P276}}</tvar>
  description: ''
- name: Properties grouped by their <tvar name="qWikibaseDatatype">{{Q|Q19798645}}</tvar>
    with number of properties
  namespace: examples
  domain: wikidata.org
  query_id: properties-grouped-by-their-tvar-name-qwikibasedatatype-q-q19798645-tvar-with-number-of-properties--examples@wikidata.org
  sparql: |
    #Properties grouped by their type with number of properties
    SELECT (COUNT(?property) as ?pcount ) ?wbtype WHERE {
      ?property rdf:type wikibase:Property.
      ?property wikibase:propertyType ?wbtype.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    GROUP BY ?wbtype
    ORDER BY DESC(?pcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Properties grouped by their <tvar name="qWikibaseDatatype">{{Q|Q19798645}}</tvar>
    with number of properties
  description: ''
- name: properties used to link to instances of <tvar name="qTechnicalStandard">{{Q|Q317623}}</tvar>
  namespace: examples
  domain: wikidata.org
  query_id: properties-used-to-link-to-instances-of-tvar-name-qtechnicalstandard-q-q317623-tvar--examples@wikidata.org
  sparql: |
    #properties used to link to instances of technical standard
    SELECT DISTINCT ?propertyRel ?propertyItem ?propertyItemLabel WHERE
    {
       ?item ?propertyRel ?standard.
       ?standard wdt:P31 wd:Q317623.
       ?propertyItem wikibase:directClaim ?propertyRel
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: properties used to link to instances of <tvar name="qTechnicalStandard">{{Q|Q317623}}</tvar>
  description: ''
- name: All properties with descriptions and aliases and types
  namespace: examples
  domain: wikidata.org
  query_id: all-properties-with-descriptions-and-aliases-and-types--examples@wikidata.org
  sparql: |
    SELECT ?property ?propertyType ?propertyLabel ?propertyDescription ?propertyAltLabel WHERE {
      ?property wikibase:propertyType ?propertyType .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY ASC(xsd:integer(STRAFTER(STR(?property), 'P')))
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All properties with descriptions and aliases and types
  description: ''
- name: Properties connecting items of type <tvar name="qZoo">{{Q|Q43501}}</tvar>
    with items of type <tvar name="qAnimal">{{Q|Q729}}</tvar>
  namespace: examples
  domain: wikidata.org
  query_id: properties-connecting-items-of-type-tvar-name-qzoo-q-q43501-tvar-with-items-of-type-tvar-name-qanimal-q-q729-tvar--examples@wikidata.org
  sparql: |
    SELECT ?p ?pLabel (count (*) as ?count) {
      ?s ?pd ?o .
      ?p wikibase:directClaim ?pd .
      ?s wdt:P31/wdt:P279* wd:Q729 .
      ?o wdt:P31/wdt:P279* wd:Q43501 .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } GROUP BY ?p ?pLabel ORDER BY desc(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Properties connecting items of type <tvar name="qZoo">{{Q|Q43501}}</tvar>
    with items of type <tvar name="qAnimal">{{Q|Q729}}</tvar>
  description: ''
- name: References
  namespace: examples
  domain: wikidata.org
  query_id: references--examples@wikidata.org
  sparql: |2

    # See also the SPARQL manual
    # https://en.wikibooks.org/wiki/SPARQL/WIKIDATA_Qualifiers,_References_and_Ranks
    # In this example we look for statements which assign a specific value (Q51955019)
    # to the property P1343 and then look for references of that property, specifically
    # the string associated to P958 for the reference. May actually bring up references
    # for other P1343 statements; uses the shortened expression syntax with brackets.
    SELECT ?item ?reference
    WHERE {
      ?item wdt:P1343 wd:Q51955019 .
      ?item p:P1343 [ prov:wasDerivedFrom [ pr:P958 ?reference ] ] .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: References
  description: ''
- name: Content of a reference for a specific statement
  namespace: examples
  domain: wikidata.org
  query_id: content-of-a-reference-for-a-specific-statement--examples@wikidata.org
  sparql: |2

    # See also the SPARQL manual
    # https://en.wikibooks.org/wiki/SPARQL/WIKIDATA_Qualifiers,_References_and_Ranks
    # In this example we look for statements which assign a specific value (Q51955019)
    # to the property P1343 and then look for references of that property, specifically
    # the string associated to P958 for the reference. May actually bring up references
    # for other P1343 statements; uses the shortened expression syntax with brackets.
    SELECT ?item ?reference
    WHERE {
      ?item wdt:P1343 wd:Q51955019 .
      ?item p:P1343 [ prov:wasDerivedFrom [ pr:P958 ?reference ] ] .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Content of a reference for a specific statement
  description: ''
- name: Subclasses
  namespace: examples
  domain: wikidata.org
  query_id: subclasses--examples@wikidata.org
  sparql: |2

    # This gives a list of classes whose super-classes include both "physical entity" and "non-physical entity".
    # One of these is, presumably, in error.
    # Due to timeouts, it is necessary to explicitly limit the depth.
    SELECT DISTINCT ?item ?itemLabel WHERE {
      {
        SELECT ?item WHERE { ?item (wdt:P279/wdt:P279/(wdt:P279?)/(wdt:P279?)/(wdt:P279?)) wd:Q7048977, wd:Q112276019. }
        LIMIT 300
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,es,fr,de". }
    }
    ORDER BY (?itemLabel)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Subclasses
  description: ''
- name: Some classes with both physical and non-physical super-classes
  namespace: examples
  domain: wikidata.org
  query_id: some-classes-with-both-physical-and-non-physical-super-classes--examples@wikidata.org
  sparql: |2

    # This gives a list of classes whose super-classes include both "physical entity" and "non-physical entity".
    # One of these is, presumably, in error.
    # Due to timeouts, it is necessary to explicitly limit the depth.
    SELECT DISTINCT ?item ?itemLabel WHERE {
      {
        SELECT ?item WHERE { ?item (wdt:P279/wdt:P279/(wdt:P279?)/(wdt:P279?)/(wdt:P279?)) wd:Q7048977, wd:Q112276019. }
        LIMIT 300
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,es,fr,de". }
    }
    ORDER BY (?itemLabel)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Some classes with both physical and non-physical super-classes
  description: ''
- name: Countries that have sitelinks to en.wiki
  namespace: examples
  domain: wikidata.org
  query_id: countries-that-have-sitelinks-to-en-wiki--examples@wikidata.org
  sparql: |
    SELECT ?country ?countryLabel ?article WHERE {

        ?country wdt:P31 wd:Q3624078 . # sovereign state
        ?article schema:about ?country .
        ?article schema:isPartOf <https://en.wikipedia.org/>.

        SERVICE wikibase:label {
           bd:serviceParam wikibase:language "en"
        }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Countries that have sitelinks to en.wiki
  description: ''
- name: Canadian subjects with no English article in Wikipedia
  namespace: examples
  domain: wikidata.org
  query_id: canadian-subjects-with-no-english-article-in-wikipedia--examples@wikidata.org
  sparql: |-
    #added before 2019-02

    SELECT ?item ?itemLabel ?cnt WHERE {
    {
      SELECT ?item (COUNT(?sitelink) AS ?cnt) WHERE {
      ?item wdt:P27
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Canadian subjects with no English article in Wikipedia
  description: ''
- name: Countries that have a Featured Article on Russian Wikipedia
  namespace: examples
  domain: wikidata.org
  query_id: countries-that-have-a-featured-article-on-russian-wikipedia--examples@wikidata.org
  sparql: |
    SELECT ?sitelink ?itemLabel WHERE {
      ?item wdt:P31 wd:Q6256.
      ?sitelink schema:isPartOf <https://ru.wikipedia.org/>;
         schema:about ?item;
         wikibase:badge wd:Q17437796 . # Sitelink is badged as a Featured Article
        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" } .
    } ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Countries that have a Featured Article on Russian Wikipedia
  description: ''
- name: Numbers of Wikipedia sitelinks for items with {{P|1367}} for each language
  namespace: examples
  domain: wikidata.org
  query_id: numbers-of-wikipedia-sitelinks-for-items-with-p-1367-for-each-language--examples@wikidata.org
  sparql: |
    SELECT ?lang (COUNT(DISTINCT ?article) AS ?count) WHERE {
      hint:Query hint:optimizer "None".
      ?item wdt:P1367 ?yp_id .
      ?article schema:about ?item . # find articles about things with an Art UK artist identifier
      ?article schema:isPartOf / wikibase:wikiGroup "wikipedia" . # only Wikipedia articles
      hint:Prior hint:gearing "forward" .
      # This hint says to search the property chain above from left to right ("forward"),
      # i.e. it is checked if each previously found value for ?article is linked to a Wikipedia.
      # The default ("reverse") would be to search it from right to left, i.e. find all Wikipedia
      # articles first, and then select the intersection with the previously found values of ?article.
      ?article schema:inLanguage ?lang .
    } GROUP BY ?lang
    ORDER BY DESC (?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Numbers of Wikipedia sitelinks for items with {{P|1367}} for each language
  description: ''
- name: Titles of articles about Ukrainian villages on Romanian Wikipedia
  namespace: examples
  domain: wikidata.org
  query_id: titles-of-articles-about-ukrainian-villages-on-romanian-wikipedia--examples@wikidata.org
  sparql: |
    #Show titles of articles about Ukrainian villages on Romanian Wikipedia, plus English and Ukrainian labels in Wikidata items
    #added in 2017-05
    SELECT DISTINCT ?item ?LabelEN ?LabelUK ?page_titleRO WHERE {
      # item: is a - village
      ?item wdt:P31 wd:Q532 .
      # item: country - Ukraine
      ?item wdt:P17 wd:Q212 .
      # exists article in item that is ro.wiki
      ?article schema:about ?item ; schema:isPartOf <https://ro.wikipedia.org/> ; schema:name ?page_titleRO .
      # wd labels
      ?item rdfs:label ?LabelEN FILTER (lang(?LabelEN) = "en") .
      ?item rdfs:label ?LabelUK FILTER (lang(?LabelUK) = "uk") .
    }
    LIMIT 300
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Titles of articles about Ukrainian villages on Romanian Wikipedia
  description: ''
- name: Wikisource pages for authors of scientific articles
  namespace: examples
  domain: wikidata.org
  query_id: wikisource-pages-for-authors-of-scientific-articles--examples@wikidata.org
  sparql: |
    #Wikisource pages for authors of scientific articles, ordered by Wikisource language
    #added in 2017-09
    SELECT DISTINCT ?item ?wikisourceSitelink ?wikisourceLanguage WHERE {
      ?wikisourceSitelink schema:isPartOf [ wikibase:wikiGroup "wikisource" ];
                          schema:inLanguage ?wikisourceLanguage;
                          schema:about ?item.
      ?paper wdt:P31 wd:Q13442814;
             wdt:P50 ?item.
    }
    ORDER BY ?wikisourceLanguage
    LIMIT 300
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Wikisource pages for authors of scientific articles
  description: ''
- name: Items with a GTAA id and their articles on the Dutch and English Wikipedia
  namespace: examples
  domain: wikidata.org
  query_id: items-with-a-gtaa-id-and-their-articles-on-the-dutch-and-english-wikipedia--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel ?gtaa ?_articleEN ?_articleNL where {
      ?item wdt:P1741 ?gtaa. # GTAA id
      OPTIONAL {
        ?_articleEN schema:about ?item.
        ?_articleNL schema:about ?item.
        ?_articleEN schema:isPartOf <https://en.wikipedia.org/>.
        ?_articleNL schema:isPartOf <https://nl.wikipedia.org/>.
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,nl". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Items with a GTAA id and their articles on the Dutch and English Wikipedia
  description: ''
- name: People deceased in 2018 ordered by the number of sitelinks
  namespace: examples
  domain: wikidata.org
  query_id: people-deceased-in-2018-ordered-by-the-number-of-sitelinks--examples@wikidata.org
  sparql: |2

    SELECT ?person ?personLabel ?died ?sitelinks
    WITH {
      SELECT *
      WHERE {
        ?person wdt:P31 wd:Q5;
          wdt:P570 ?died.
        FILTER (?died >= "2018-01-01T00:00:00Z"^^xsd:dateTime && ?died < "2019-01-01T00:00:00Z"^^xsd:dateTime)
        ?person wikibase:sitelinks ?sitelinks.
      }
      ORDER BY desc(?sitelinks)
      LIMIT 100
    } AS %i
    WHERE {
      INCLUDE %i
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
    ORDER BY desc(?sitelinks)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: People deceased in 2018 ordered by the number of sitelinks
  description: ''
- name: List of small monuments and other similar sites with link to Commons category
    (sitelink or P373)
  namespace: examples
  domain: wikidata.org
  query_id: list-of-small-monuments-and-other-similar-sites-with-link-to-commons-category-sitelink-or-p373--examples@wikidata.org
  sparql: |
    SELECT ?item ?comm ?p373 ?cat WHERE {
      ?item wdt:P131* wd:Q894107. # ... municipality ...

      OPTIONAL {?comm schema:about ?item ; schema:isPartOf <https://commons.wikimedia.org/> .}
      BIND(replace(wikibase:decodeUri(SUBSTR(STR(?comm), 45)),"_"," ") AS ?comm_decode)
       OPTIONAL {?item wdt:P373 ?p373 .}

     bind(COALESCE(?comm_decode, ?p373) as ?cat) .
     VALUES ?trida { wd:Q1746392 wd:Q108325 wd:Q4989906 wd:Q10861631 wd:Q15077340 wd:Q1516537 wd:Q47008262} # chapel, small monument, memorial, belltower, memorial monument, technical monument, group of small monuments
     ?item wdt:P31/wdt:P279* ?trida. # small monument
      }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of small monuments and other similar sites with link to Commons category
    (sitelink or P373)
  description: ''
- name: Most famous child of a librarian
  namespace: examples
  domain: wikidata.org
  query_id: most-famous-child-of-a-librarian--examples@wikidata.org
  sparql: |
    #Children of librarians with the most number of sitelinks (as a proxy for fame)
    SELECT ?person ?personLabel ?parentLabel ?linkcount WHERE {
        ?parent wdt:P106 wd:Q182436 .
        ?parent wdt:P40 ?person .
        ?person wikibase:sitelinks ?linkcount .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,de,es,ar,fr" }
    }
    GROUP BY ?linkcount ?person ?personLabel ?parent ?parentLabel
    ORDER BY DESC(?linkcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Most famous child of a librarian
  description: ''
- name: All languages with a Wikimedia language code (P424)
  namespace: examples
  domain: wikidata.org
  query_id: all-languages-with-a-wikimedia-language-code-p424--examples@wikidata.org
  sparql: |
    #title: <translate><!--T:773--> All languages with a Wikimedia language code (P424)</translate>
    # Date: 2021-09-24
    SELECT DISTINCT ?lang_code ?itemLabel ?item
    WHERE
    {
      # ?lang is one of these options
      VALUES ?lang {
        wd:Q34770   # language
        wd:Q436240  # ancient language
        wd:Q1288568 # modern language
        wd:Q33215   # constructed language
      }
      ?item wdt:P31 ?lang ;
        # get the language code
        wdt:P424 ?lang_code .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } ORDER BY ?lang_code
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All languages with a Wikimedia language code (P424)
  description: ''
- name: All Wikipedia sites
  namespace: examples
  domain: wikidata.org
  query_id: all-wikipedia-sites--examples@wikidata.org
  sparql: |
    # Get all Wikipedia sites
    SELECT ?item ?itemLabel ?website
    WHERE
    {
      #?item wdt:P31 wd:Q10876391.
      ?item wdt:P856 ?website.
      ?website wikibase:wikiGroup "wikipedia".
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All Wikipedia sites
  description: ''
- name: Featured articles of all Wikimedia projects
  namespace: examples
  domain: wikidata.org
  query_id: featured-articles-of-all-wikimedia-projects--examples@wikidata.org
  sparql: |
    # Get all Featured Articles (Q17437796)
    SELECT ?lang ?name ?itemLabel ?sitelink ?linkcount ?item WHERE {
      ?item wikibase:sitelinks ?linkcount.
      ?sitelink schema:name ?name;
        schema:inLanguage ?lang;
        schema:about ?item;
        # Sitelink is badged as a Featured Article
        wikibase:badge wd:Q17437796.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Featured articles of all Wikimedia projects
  description: ''
- name: People born in Lisbon without articles on ptwiki but with articles on other
    Wikipedias
  namespace: examples
  domain: wikidata.org
  query_id: people-born-in-lisbon-without-articles-on-ptwiki-but-with-articles-on-other-wikipedias--examples@wikidata.org
  sparql: |-
    # People born in Lisbon that don't have an article on Portuguese Wikipedia
    # but do have an article on other Wikipedias.
    SELECT DISTINCT ?person ?personLabel WHERE
    {
      ?person wdt:P31 wd:Q5. # Instance of human
      ?person (wdt:P19
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: People born in Lisbon without articles on ptwiki but with articles on other
    Wikipedias
  description: ''
- name: List of present-day countries and capital(s)
  namespace: examples
  domain: wikidata.org
  query_id: list-of-present-day-countries-and-capital-s--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?country ?countryLabel ?capital ?capitalLabel
    WHERE
    {
      ?country wdt:P31 wd:Q3624078 .
      #not a former country
      FILTER NOT EXISTS {?country wdt:P31 wd:Q3024240}
      #and no an ancient civilisation (needed to exclude ancient Egypt)
      FILTER NOT EXISTS {?country wdt:P31 wd:Q28171280}
      OPTIONAL { ?country wdt:P36 ?capital } .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    ORDER BY ?countryLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of present-day countries and capital(s)
  description: ''
- name: UN member states
  namespace: examples
  domain: wikidata.org
  query_id: un-member-states--examples@wikidata.org
  sparql: |2-

    SELECT DISTINCT ?state WHERE {
      ?state wdt:P31/wdt:P279* wd:Q3624078;
             p:P463 ?memberOfStatement.
      ?memberOfStatement a wikibase:BestRank;
                         ps:P463 wd:Q1065.
      MINUS { ?memberOfStatement pq:P582 ?endTime. }
      MINUS { ?state wdt:P576
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: UN member states
  description: ''
- name: Countries sorted by population
  namespace: examples
  domain: wikidata.org
  query_id: countries-sorted-by-population--examples@wikidata.org
  sparql: |
    # defaultView:BubbleChart
    SELECT DISTINCT ?countryLabel ?population
    {
      ?country wdt:P31 wd:Q6256 ;
               wdt:P1082 ?population .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    GROUP BY ?population ?countryLabel
    ORDER BY DESC(?population)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Countries sorted by population
  description: "* Items used: \n* Properties used:"
- name: Country populations together with total city populations
  namespace: examples
  domain: wikidata.org
  query_id: country-populations-together-with-total-city-populations--examples@wikidata.org
  sparql: |2

    SELECT ?country ?countryLabel ?population ?totalCityPopulation (?population / ?totalCityPopulation AS ?ratio) {
      ?country wdt:P1082 ?population .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
      {
        SELECT ?country (SUM(?cityPopulation) AS ?totalCityPopulation) WHERE {
          ?city wdt:P31 wd:Q515 .
          ?city wdt:P17 ?country .
          ?city wdt:P1082 ?cityPopulation .
        } GROUP BY ?country
      }
    } ORDER BY ?ratio
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Country populations together with total city populations
  description: |-
    Lists for each country the population and the total of the populations of all cities of this country.
    If data were complete and populations were measured at the same time for each country and the respective cities then the ratio would be 1.
- name: Names of African countries in all their official languages and English
  namespace: examples
  domain: wikidata.org
  query_id: names-of-african-countries-in-all-their-official-languages-and-english--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?item ?itemLabel_ol ?official_language ?itemLabel_en WHERE {
      ?item wdt:P30 wd:Q15 ;
            wdt:P37 ?officiallanguage ;
            wdt:P31 wd:Q6256 .
      ?officiallanguage wdt:P424 ?langcode .
      ?item rdfs:label ?itemLabel_ol . FILTER(lang(?itemLabel_ol)=?langcode)
      ?item rdfs:label ?itemLabel_en . FILTER(lang(?itemLabel_en)='en')
      ?officiallanguage rdfs:label ?official_language . FILTER(lang(?official_language)='en')
    }
    ORDER BY ?item ?itemLabel_ol ?official_language
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Names of African countries in all their official languages and English
  description: ''
- name: Languages and dialects spoken in the Netherlands with their optional Wikipedia
    editions
  namespace: examples
  domain: wikidata.org
  query_id: languages-and-dialects-spoken-in-the-netherlands-with-their-optional-wikipedia-editions--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?language ?languageLabel ?wikipediaLabel where {
      ?language wdt:P31 ?instance;
                wdt:P17 wd:Q55.
      FILTER (?instance in (wd:Q34770, wd:Q33384)).
      OPTIONAL {
        ?wikipedia wdt:P31 wd:Q10876391;
                   wdt:P407 ?language.
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "nl,en". }
    } GROUP BY ?language ?languageLabel ?wikipediaLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Languages and dialects spoken in the Netherlands with their optional Wikipedia
    editions
  description: ''
- name: Population of cities and towns in Denmark and their OSM relation id
  namespace: examples
  domain: wikidata.org
  query_id: population-of-cities-and-towns-in-denmark-and-their-osm-relation-id--examples@wikidata.org
  sparql: |2

    # Population of cities and towns in Denmark and their OSM relation id
    # This shows a simple OR using VALUES and a variable
    SELECT ?city ?cityLabel ?population ?OSM_relation_ID WHERE {
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
      VALUES ?town_or_city {
        wd:Q3957
        wd:Q515
      }
      ?city (wdt:P31/(wdt:P279*)) ?town_or_city;
        wdt:P17 wd:Q35.
      OPTIONAL { ?city wdt:P1082 ?population. }
      OPTIONAL { ?city wdt:P402 ?OSM_relation_ID. }
    }
    LIMIT 100
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Population of cities and towns in Denmark and their OSM relation id
  description: ''
- name: Former capitals
  namespace: examples
  domain: wikidata.org
  query_id: former-capitals--examples@wikidata.org
  sparql: |
    #defaultView:Map
    SELECT DISTINCT ?country ?countryLabel ?capital ?capitalLabel ?coordinates ?ended
    WHERE
    {
      ?country p:P36 ?stat.
      ?stat ps:P36 ?capital.
      ?capital wdt:P625 ?coordinates.
      OPTIONAL {
        ?country wdt:P582{{!}}wdt:P576 ?ended.
      }
      OPTIONAL {
        ?capital wdt:P582{{!}}wdt:P576 ?ended.
      }
      OPTIONAL {
        ?stat pq:P582 ?ended.
      }
      FILTER(BOUND(?ended)).
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Former capitals
  description: '*  Properties used:'
- name: Metro station of city with template
  namespace: examples
  domain: wikidata.org
  query_id: metro-station-of-city-with-template--examples@wikidata.org
  sparql: |2

    #TEMPLATE={"template":"metro station of ?city","variables":{"?city":{"query":"SELECT DISTINCT ?cityLabel where {?city wdt:P31/wdt:P279* wd:Q1637706. SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE]\"} }"} } }
    #defaultView:Map{"hide":["?comm1Label","?coord1", "?comm2","coord2","?layer","?str","?line", "?rgb"],"layer":"?connectingLine1Label"}
    SELECT ?comm1 ?comm1Label ?coord1 ?comm2 ?coord2 ?line ?connectingLine1 ?connectingLine1Label ?layer ?rgb WHERE {
      BIND(wd:Q8686 AS ?city)
      ?comm1 wdt:P31/wdt:P279* wd:Q928830 ;
             wdt:P131*/wdt:P279* ?city;
             wdt:P625 ?coord1 ;
             wdt:P81 ?connectingLine1;
             wdt:P197 ?comm2 .
      ?connectingLine1 wdt:P465 ?rgb.
      ?comm2 wdt:P81 ?connectingLine2;
             wdt:P625 ?coord2 .
      FILTER (?connectingLine1 = ?connectingLine2)

      ?comm1 p:P625 [# ps:P625 [];
                      psv:P625 [ wikibase:geoLongitude ?coord1lon; wikibase:geoLatitude ?coord1lat; ] ] .
      ?comm2 p:P625 [# ps:P625 [];
                      psv:P625 [ wikibase:geoLongitude ?coord2lon; wikibase:geoLatitude ?coord2lat; ] ] .

      BIND(CONCAT('LINESTRING (', STR(?coord1lon), ' ', STR(?coord1lat), ',', STR(?coord2lon), ' ', STR(?coord2lat), ')') AS ?str) .
      BIND(STRDT(?str, geo:wktLiteral) AS ?line) .
      BIND(?connectingLine1 AS ?layer)

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE]". }
    }

    ORDER BY (?connectingLine1Label)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Metro station of city with template
  description: ''
- name: grouped by dist range, color-coded
  namespace: examples
  domain: wikidata.org
  query_id: grouped-by-dist-range-color-coded--examples@wikidata.org
  sparql: |2

    #defaultView:BarChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from ?to ?distGrp WHERE {
      {
        SELECT ?from ?to ?distNum ?mun ?mun2 WHERE {
          { SELECT ?mun (SAMPLE(?loc) AS ?loc)
            WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                         wdt:P131 var_area:;
                         wdt:P625 ?loc. }
            GROUP BY ?mun
          }
          OPTIONAL {
            { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
              WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                           wdt:P131 var_area:;
                           wdt:P625 ?loc. }
              GROUP BY ?mun
            }
          }
          BIND(geof:distance(?loc, ?loc2) AS ?distNum).

          SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
            ?mun rdfs:label ?from.
            ?mun2 rdfs:label ?to.
          }
        }
      }
      FILTER(CONCAT(?from,STR(?mun)) <= CONCAT(?to,STR(?mun2))).
      #BIND(IF(STR(?from) < STR(?to),CONCAT(?from," <--> ",?to),
      # CONCAT(?to," <--> ",?from)) AS ?distLabel).

      BIND(COALESCE(
        IF(?distNum >= 40, "40 - .. km", 1/0),
        IF(?distNum >= 30, "30 - 40 km", 1/0),
        IF(?distNum >= 20, "20 - 30 km", 1/0),
        IF(?distNum >= 10, "10 - 20 km", 1/0),
        IF(?distNum >= 5, "05 - 10 km", 1/0),
        IF(?distNum >= 1, "01 - 05 km", "00 - 01 km")) AS ?distGrp).
    }
    ORDER BY ?from ?distGrp
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped by dist range, color-coded
  description: '='
- name: grouped per municipality on x-axis, alphabetically
  namespace: examples
  domain: wikidata.org
  query_id: grouped-per-municipality-on-x-axis-alphabetically--examples@wikidata.org
  sparql: |2

    #defaultView:ScatterChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from (?distGrp1 AS ?kilometers) ?to WHERE {
      { SELECT ?mun (SAMPLE(?loc) AS ?loc)
        WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                     wdt:P131 var_area:;
                     wdt:P625 ?loc. }
        GROUP BY ?mun
      }
      OPTIONAL {
        { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
          WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                       wdt:P131 var_area:;
                       wdt:P625 ?loc. }
          GROUP BY ?mun
        }
      }
      BIND(geof:distance(?loc, ?loc2) AS ?distNum).
      BIND(STR(ROUND(?distNum)) AS ?distGrp0).
      BIND(CONCAT(SUBSTR("000",STRLEN(?distGrp0)+1),?distGrp0,".",STR(ROUND((?distNum-FLOOR(?distNum))*10))," km") AS ?distGrp1).

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?mun rdfs:label ?from.
        ?mun2 rdfs:label ?to.
      }
    }
    ORDER BY ?from ?kilometers
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped per municipality on x-axis, alphabetically
  description: '='
- name: grouped per municipality on x-axis, by sum of dist
  namespace: examples
  domain: wikidata.org
  query_id: grouped-per-municipality-on-x-axis-by-sum-of-dist--examples@wikidata.org
  sparql: |2

    #defaultView:ScatterChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from (?distNum AS ?kilometers) ?to WHERE {
      { SELECT ?mun (SAMPLE(?loc) AS ?loc)
        WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                     wdt:P131 var_area:;
                     wdt:P625 ?loc. }
        GROUP BY ?mun
      }
      OPTIONAL {
        { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
          WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                       wdt:P131 var_area:;
                       wdt:P625 ?loc. }
          GROUP BY ?mun
        }
      }
      BIND(geof:distance(?loc, ?loc2) AS ?distNum).

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?mun rdfs:label ?from.
        ?mun2 rdfs:label ?to.
      }
    }
    ORDER BY ?from ?kilometers
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped per municipality on x-axis, by sum of dist
  description: '='
- name: grouped per municipality on x-axis, animated per municipality on x-axis
  namespace: examples
  domain: wikidata.org
  query_id: grouped-per-municipality-on-x-axis-animated-per-municipality-on-x-axis--examples@wikidata.org
  sparql: |2

    #defaultView:ScatterChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from (?distNum AS ?kilometers) ?to (?from AS ?animation) WHERE {
      { SELECT ?mun (SAMPLE(?loc) AS ?loc)
        WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                     wdt:P131 var_area:;
                     wdt:P625 ?loc. }
        GROUP BY ?mun
      }
      OPTIONAL {
        { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
          WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                       wdt:P131 var_area:;
                       wdt:P625 ?loc. }
          GROUP BY ?mun
        }
      }
      BIND(geof:distance(?loc, ?loc2) AS ?distNum).

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?mun rdfs:label ?from.
        ?mun2 rdfs:label ?to.
      }
    }
    ORDER BY ?from ?kilometers
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped per municipality on x-axis, animated per municipality on x-axis
  description: '='
- name: grouped per municipality on x-axis, animated per municipality on z-axis
  namespace: examples
  domain: wikidata.org
  query_id: grouped-per-municipality-on-x-axis-animated-per-municipality-on-z-axis--examples@wikidata.org
  sparql: |2

    #defaultView:ScatterChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from (?distNum AS ?kilometers) ?to (?to AS ?animation) WHERE {
      { SELECT ?mun (SAMPLE(?loc) AS ?loc)
        WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                     wdt:P131 var_area:;
                     wdt:P625 ?loc. }
        GROUP BY ?mun
      }
      OPTIONAL {
        { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
          WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                       wdt:P131 var_area:;
                       wdt:P625 ?loc. }
          GROUP BY ?mun
        }
      }
      BIND(geof:distance(?loc, ?loc2) AS ?distNum).

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?mun rdfs:label ?from.
        ?mun2 rdfs:label ?to.
      }
    }
    ORDER BY ?from ?kilometers
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped per municipality on x-axis, animated per municipality on z-axis
  description: '='
- name: grouped per municipality on x-axis, animated by fixed dist range groups
  namespace: examples
  domain: wikidata.org
  query_id: grouped-per-municipality-on-x-axis-animated-by-fixed-dist-range-groups--examples@wikidata.org
  sparql: |2

    #defaultView:ScatterChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from (?distNum AS ?kilometers) ?to (?distGrp AS ?animation) WHERE {
      { SELECT ?mun (SAMPLE(?loc) AS ?loc)
        WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                     wdt:P131 var_area:;
                     wdt:P625 ?loc. }
        GROUP BY ?mun
      }
      OPTIONAL {
        { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
          WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                       wdt:P131 var_area:;
                       wdt:P625 ?loc. }
          GROUP BY ?mun
        }
      }
      #FILTER (STR(?mun) <= STR(?mun2)).
      BIND(geof:distance(?loc, ?loc2) AS ?distNum).
      BIND(COALESCE(
        IF(?distNum >= 40, "40 km und mehr", 1/0),
        IF(?distNum >= 30, "30 - 40 km", 1/0),
        IF(?distNum >= 20, "20 - 30 km", 1/0),
        IF(?distNum >= 10, "10 - 20 km", 1/0),
        IF(?distNum >= 5, "05 - 10 km", 1/0),
        IF(?distNum >= 1, "01 - 05 km", "00 - 01 km")) AS ?distGrp).

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?mun rdfs:label ?from.
        ?mun2 rdfs:label ?to.
      }
    }
    ORDER BY ?animation ?from ?kilometers
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped per municipality on x-axis, animated by fixed dist range groups
  description: '='
- name: grouped per municipality on x-axis, animated by ranked dist (farthest, 2nd
    farthest, ..)
  namespace: examples
  domain: wikidata.org
  query_id: grouped-per-municipality-on-x-axis-animated-by-ranked-dist-farthest-2nd-farthest--examples@wikidata.org
  sparql: |2

    #defaultView:ScatterChart
    PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
    PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
    SELECT ?from ?kilometers ?to ?rank_group
    WHERE {
      {
        SELECT (SAMPLE(?mun) AS ?mun) (SAMPLE(?mun2) AS ?mun2) (SAMPLE(?distNum) AS ?kilometers)
               (COUNT(*)-1 AS ?rg) (SUBSTR("00",1+STRLEN(STR(?rg))) AS ?rgpad)
               (IF(FLOOR((?rg-(100*FLOOR(?rg/100)))/10)=1,0,?rg-(10*FLOOR(?rg/10))) AS ?rgmod)
               (IF(?rgmod=1,"st",IF(?rgmod=2,"nd",IF(?rgmod=3,"rd","th"))) AS ?rgord)
               (CONCAT(?rgpad,STR(?rg),?rgord,"-most farthest places") AS ?rank_group)
        WHERE {
          { SELECT ?mun (SAMPLE(?loc) AS ?loc)
            WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                         wdt:P131 var_area:;
                         wdt:P625 ?loc. }
            GROUP BY ?mun
          }
          OPTIONAL {
            { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
              WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                           wdt:P131 var_area:;
                           wdt:P625 ?loc. }
              GROUP BY ?mun
            }
          }
          OPTIONAL {
            { SELECT (?mun AS ?mun3) (SAMPLE(?loc) AS ?loc3)
              WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                           wdt:P131 var_area:;
                           wdt:P625 ?loc. }
              GROUP BY ?mun
            }
          }
          BIND(geof:distance(?loc, ?loc2) AS ?distNum).
          BIND(geof:distance(?loc, ?loc3) AS ?d).
          FILTER(?distNum >= ?d).
        } GROUP BY ?mun ?mun2 ?distNum
      }

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?mun rdfs:label ?from.
        ?mun2 rdfs:label ?to.
      }
    }
    ORDER BY ?rank_group ?kilometers ?from
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: grouped per municipality on x-axis, animated by ranked dist (farthest, 2nd
    farthest, ..)
  description: '='
- name: Show all Dutch municipalities that share a border with {{Q|Q213246}}, ignoring
    rank
  namespace: examples
  domain: wikidata.org
  query_id: show-all-dutch-municipalities-that-share-a-border-with-q-q213246-ignoring-rank--examples@wikidata.org
  sparql: |2

    SELECT ?muni ?muniLabel where {
      ?muni p:P31 [ps:P31 wd:Q2039348];
            wdt:P47 wd:Q213246.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "nl". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Show all Dutch municipalities that share a border with {{Q|Q213246}}, ignoring
    rank
  description: ''
- name: Border cities of the world
  namespace: examples
  domain: wikidata.org
  query_id: border-cities-of-the-world--examples@wikidata.org
  sparql: |-
    # To filter by country add FILTER (?country = wd:Qxx)
    #defaultView:Map
    # To show the cities of several countries use FILTER (?country IN (wd:Qxx, wd:Qyy))
    # To obtain cities that are part of a particular continent or territory ?country
    # should not be optional and add "?country wdt:P361 wd:Qxx ."

    SELECT ?border_city ?border_cityLabel ?countryLabel ?coords
    WHERE {
      ?border_city wdt:P31 wd:Q902814.
      OPTIONAL { ?border_city wdt:P17 ?country. }
      OPTIONAL { ?border_city wdt:P625 ?coords. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
                             ?border_city rdfs:label ?border_cityLabel.
                             ?country rdfs:label ?countryLabel.}
    }
    GROUP BY ?border_city ?border_cityLabel ?countryLabel ?coords
    ORDER BY ?countryLabel ?border_cityLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Border cities of the world
  description: ''
- name: Municipalities of the Basque Country without former municipalities
  namespace: examples
  domain: wikidata.org
  query_id: municipalities-of-the-basque-country-without-former-municipalities--examples@wikidata.org
  sparql: " \n# This query has two different features:\n# First, it is able to search\
    \ for municipalities which are part of two different states, looking to P527\n\
    # Second, it doesn't show former municipalities, filtering the old ones from the\
    \ P582 statement.\nSELECT DISTINCT ?udalerri ?udalerriLabel WHERE { \n  ?udalerri\
    \ p:P31 ?status.\n  ?udalerri wdt:P131*/^wdt:P527 wd:Q47588 .\n  {?status ps:P31\
    \ wd:Q484170.} UNION {?status ps:P31 wd:Q2074737}\n  MINUS {?status pq:P582 ?old\
    \ .}\n  SERVICE wikibase:label { bd:serviceParam wikibase:language \"eu,es,fr,en\"\
    . }\n}\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Municipalities of the Basque Country without former municipalities
  description: ''
- name: Longest river of each continent
  namespace: examples
  domain: wikidata.org
  query_id: longest-river-of-each-continent--examples@wikidata.org
  sparql: |2


    SELECT ?continent ?river ?continentLabel ?riverLabel ?maxlength
    WHERE
    {
      {
        SELECT ?continent (MAX(?length) AS ?maxlength)
        WHERE
        {
          ?river wdt:P31/wdt:P279* wd:Q355304;
                 wdt:P2043 ?length;
                 wdt:P30 ?continent.
        }
        GROUP BY ?continent
      }
      ?river wdt:P31/wdt:P279* wd:Q355304;
             wdt:P2043 ?maxlength;
             wdt:P30 ?continent.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY ?continentLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Longest river of each continent
  description: ''
- name: Rivers in Antarctica
  namespace: examples
  domain: wikidata.org
  query_id: rivers-in-antarctica--examples@wikidata.org
  sparql: |2


    SELECT ?river ?riverLabel ?location
    WHERE
    {
      ?river wdt:P31/wdt:P279* wd:Q355304; # watercourse; includes a few creeks – use wd:Q4022 for rivers only
             wdt:P30 wd:Q51.
      OPTIONAL { ?river wdt:P625 ?location. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Rivers in Antarctica
  description: ''
- name: Body of water with the most watercourses ending in it
  namespace: examples
  domain: wikidata.org
  query_id: body-of-water-with-the-most-watercourses-ending-in-it--examples@wikidata.org
  sparql: |2


    # Bodies of water that most watercourses end in (transitive).
    # For example, over 4000 watercourses eventually flow into the Ob,
    # and since the Ob flows into the Kara Sea, the Kara Sea has over 4000 results as well.
    SELECT ?mouth (COUNT(?watercourse) AS ?count)
    WHERE
    {
      ?watercourse wdt:P403+ ?mouth.
    }
    GROUP BY ?mouth
    ORDER BY DESC(?count)
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Body of water with the most watercourses ending in it
  description: |-
    * Items used: None
    * Properties used:
- name: Bridges over rivers in former government district of Leipzig
  namespace: examples
  domain: wikidata.org
  query_id: bridges-over-rivers-in-former-government-district-of-leipzig--examples@wikidata.org
  sparql: |2

    #defaultView:Map
    SELECT (SAMPLE(?bridge) AS ?bridge) (SAMPLE(?bridgeLabel) AS ?bridgeLabel)
           (SAMPLE(?watercourse) AS ?watercourse) (SAMPLE(?watercourseLabel) AS ?watercourseLabel)
           (SAMPLE(?loc) AS ?loc) (SAMPLE(?pic) AS ?pic)
           (CONCAT(SAMPLE(?sKey),": ",STR(YEAR(SAMPLE(?s)))) AS ?start)
           (CONCAT(SAMPLE(?eKey),": ",STR(YEAR(SAMPLE(?e)))) AS ?end)
           (SAMPLE(?article) AS ?article) (IF(BOUND(?article),CONCAT(?bridgeLabel," in Wikipedia"),1/0) AS ?articleLabel)
    WHERE {
      {
        SELECT ?bridge ?watercourse WHERE {
          ?bridge wdt:P31/wdt:P279* wd:Q12280; wdt:P177 ?watercourse.
          ?watercourse wdt:P31/wdt:P279* wd:Q355304.
          # the following actually yields a perf penalty atm
          #?bridge wdt:P17 wd:Q183.
          #OPTIONAL { ?bridge wdt:P17 ?country. }. FILTER(!BOUND(?country) {{!}}{{!}} ?country = wd:Q183).
        }
      }

      # wd:Q1202, wd:Q183 work as well atm and take progressively more time to complete
      ?bridge (p:P131{{!}}ps:P131)+ wd:Q24186.

      OPTIONAL { ?bridge wdt:P625 ?loc. }.
      OPTIONAL { ?bridge wdt:P18 ?pic. }.
      OPTIONAL { ?bridge wdt:P571 ?s. }.
      OPTIONAL { ?bridge wdt:P576 ?e. }.

      OPTIONAL {
        ?article schema:about ?bridge.
        FILTER (IF(EXISTS {?article schema:inLanguage "[AUTO_LANGUAGE]".},
                   SUBSTR(str(?article), 1, 25) = "https://[AUTO_LANGUAGE].wikipedia.org/",
                   IF(EXISTS {?article schema:inLanguage "en".},
                      SUBSTR(str(?article), 1, 25) = "https://en.wikipedia.org/",
                      SUBSTR(str(?article), 1, 25) = "https://de.wikipedia.org/"
                   )
                )).
      }

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,de".
        ?bridge rdfs:label ?bridgeLabel.
        ?watercourse rdfs:label ?watercourseLabel.
        wd:P571 rdfs:label ?sKey.
        wd:P576 rdfs:label ?eKey.
      }
    }
    GROUP BY ?bridge ?watercourse
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Bridges over rivers in former government district of Leipzig
  description: ''
- name: Mons (mountains), with coordinates, not located on Earth
  namespace: examples
  domain: wikidata.org
  query_id: mons-mountains-with-coordinates-not-located-on-earth--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?item ?name ?coord ?lat ?lon ?globe
    {
       ?item wdt:P31 wd:Q429088 ;
             p:P625 [
               psv:P625 [
                 wikibase:geoLatitude ?lat ;
                 wikibase:geoLongitude ?lon ;
                 wikibase:geoGlobe ?globe ;
               ] ;
               ps:P625 ?coord
             ]
      FILTER ( ?globe != wd:Q2 )
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" .
        ?item rdfs:label ?name
       }
    }
    ORDER BY ASC (?name)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Mons (mountains), with coordinates, not located on Earth
  description: "* Items used:  \n* Properties used:"
- name: Highest places on Earth
  namespace: examples
  domain: wikidata.org
  query_id: highest-places-on-earth--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:774--> Elevations over 8000 meter</translate>
    SELECT ?elevation ?item ?itemLabel ?itemDescription ?coord WHERE {
      hint:Query hint:optimizer "None".
      ?st psn:P2044 ?psn .
      ?psn wikibase:quantityAmount ?elevation . FILTER(?elevation > 8000) .
      ?psn wikibase:quantityUnit wd:Q11573 .
      ?st wikibase:rank ?rank . FILTER(?rank != wikibase:DeprecatedRank) .
      ?item p:P2044 ?st .
      ?item wdt:P625 ?coord .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY DESC(?elevation)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Highest places on Earth
  description: |-
    *  Items used: None
    *  Properties used:
- name: Highest mountains in the universe (with units)
  namespace: examples
  domain: wikidata.org
  query_id: highest-mountains-in-the-universe-with-units--examples@wikidata.org
  sparql: |2


    #Elevations over 8000
    #Displays units
    #Last updated 2021-04-25

    SELECT ?elevation ?unit ?unitLabel ?item ?itemLabel ?itemDescription ?coord
    WHERE
    {
      ?psv_triples wikibase:quantityAmount ?elevation .
      filter(?elevation > 8000)
      ?psv_triples wikibase:quantityUnit ?unit .

      ?p_triples psv:P2044 ?psv_triples .
      ?p_triples a wikibase:BestRank .

      ?item p:P2044 ?p_triples .

      ?item wdt:P625 ?coord .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY DESC(?elevation)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Highest mountains in the universe (with units)
  description: |-
    *  Items used: None
    *  Properties used:
- name: Highest mountains in the universe (with units, compact form)
  namespace: examples
  domain: wikidata.org
  query_id: highest-mountains-in-the-universe-with-units-compact-form--examples@wikidata.org
  sparql: |2


    #Elevations over 8000
    #Displays units
    #Last updated 2021-04-25

    SELECT ?elevation ?unit ?unitLabel ?item ?itemLabel ?itemDescription ?coord
    WHERE
    {
      ?item wdt:P2044 ?elevation .
      # this could be dropped, but is included to speed it up
      filter(?elevation > 8000)

      ?item p:P2044 [ a wikibase:BestRank ; psv:P2044 [ wikibase:quantityAmount ?elevation ; wikibase:quantityUnit ?unit ] ] .

      ?item wdt:P625 ?coord .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY DESC(?elevation)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Highest mountains in the universe (with units, compact form)
  description: |-
    *  Items used: None
    *  Properties used:
- name: Mountains over 8000 meters elevation
  namespace: examples
  domain: wikidata.org
  query_id: mountains-over-8000-meters-elevation--examples@wikidata.org
  sparql: |2

    #Last updated 2021-04-25
    #defaultView:Map
    SELECT ?item ?itemLabel ?itemDescription ?coord ?elevation
    WHERE
    {
      ?item wdt:P31 wd:Q8502 .
      ?item p:P2044 [ a wikibase:BestRank; psn:P2044/wikibase:quantityAmount ?elevation ]
      FILTER(?elevation >= 8000 )
      ?item wdt:P625 ?coord.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Mountains over 8000 meters elevation
  description: '* Properties used:'
- name: Italian mountains higher than 4000 meters
  namespace: examples
  domain: wikidata.org
  query_id: italian-mountains-higher-than-4000-meters--examples@wikidata.org
  sparql: |
    #defaultView:ImageGrid
    SELECT ?item ?itemLabel ?coord ?elev ?picture
    {
      ?item p:P2044/psn:P2044/wikibase:quantityAmount ?elev ; # normalized height
            wdt:P625 ?coord ;
            wdt:P17 wd:Q38 ;
            wdt:P18 ?picture
      FILTER(?elev > 4000)

      SERVICE wikibase:label { bd:serviceParam wikibase:language "it" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Italian mountains higher than 4000 meters
  description: "* Items used: \n* Properties used:"
- name: Places in Antarctica more than 3000km away from the South Pole
  namespace: examples
  domain: wikidata.org
  query_id: places-in-antarctica-more-than-3000km-away-from-the-south-pole--examples@wikidata.org
  sparql: |
    #title: <translate><!--T:775--> Places in Antarctica over 3000km away from the South Pole</translate>
    #defaultView:Map
    SELECT ?place ?placeLabel ?location WHERE {
      wd:Q933 wdt:P625 ?southPole.                         # coordinates of south pole
      ?place wdt:P30 wd:Q51;                               # continent: antarctica
             wdt:P625 ?location.
      FILTER(geof:distance(?location, ?southPole) > 3000). # over 3000km away from south pole
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Places in Antarctica more than 3000km away from the South Pole
  description: ''
- name: Metro stations of {{Q|Q13224}} in Paris
  namespace: examples
  domain: wikidata.org
  query_id: metro-stations-of-q-q13224-in-paris--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel ?adjacent ?adjacentL ?coords
    {
      ?item wdt:P31/wdt:P279* wd:Q928830 ;
            wdt:P81 wd:Q13224 ;
            wdt:P625 ?coords .
      OPTIONAL {
        ?item p:P197 [ ps:P197 ?adjacent ; pq:P5051 wd:Q585752;
                                           pq:P81 wd:Q13224] .
        ?adjacent rdfs:label ?adjacentL FILTER (lang(?adjacentL) = "en")
      }
    ?item wdt:P1619 ?founded_date. #needs existence
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" . }
    } ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Metro stations of {{Q|Q13224}} in Paris
  description: "* Items used:   \n* Properties used:"
- name: Map of Broadway venues
  namespace: examples
  domain: wikidata.org
  query_id: map-of-broadway-venues--examples@wikidata.org
  sparql: |2


    #defaultView:Map
    # Venues in Broadway
    SELECT DISTINCT ?venue ?venueLabel ?coords {
        ?venue wdt:P1217 ?IDBDB .
        wd:Q235065 wdt:P625 ?broadWayLoc .

        SERVICE wikibase:around {
          ?venue wdt:P625 ?coords .
          bd:serviceParam wikibase:center ?broadWayLoc .
          bd:serviceParam wikibase:radius "1.5" .
        }

      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en" .
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of Broadway venues
  description: "* Items used: \n* Properties used:"
- name: How many states this US state borders
  namespace: examples
  domain: wikidata.org
  query_id: how-many-states-this-us-state-borders--examples@wikidata.org
  sparql: |2

    SELECT ?state ?stateLabel ?borders
    WHERE
    {
      {
        SELECT ?state (COUNT(?otherState) as ?borders)
        WHERE
        {
        ?state wdt:P31 wd:Q35657 .
        ?otherState wdt:P47 ?state .
        ?otherState wdt:P31 wd:Q35657 .
        }
        GROUP BY ?state
      }
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" .
      }
    }
    ORDER BY DESC(?borders)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: How many states this US state borders
  description: "* Items used: \n* Properties used: ,"
- name: Places that are below 10 meters above sea level
  namespace: examples
  domain: wikidata.org
  query_id: places-that-are-below-10-meters-above-sea-level--examples@wikidata.org
  sparql: |2


    #defaultView:Map
    SELECT ?place ?location ?elev ?image
    WHERE
    {
      ?place p:P2044/psv:P2044 ?placeElev.
      ?placeElev wikibase:quantityAmount ?elev.
      ?placeElev wikibase:quantityUnit ?unit.
      bind(0.01 as ?km).
      filter( (?elev < ?km*1000 && ?unit = wd:Q11573)
           {{!}}{{!}} (?elev < ?km*3281 && ?unit = wd:Q3710)
           {{!}}{{!}} (?elev < ?km      && ?unit = wd:Q828224) ).
      ?place wdt:P625 ?location.
      OPTIONAL { ?place wdt:P18 ?image }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Places that are below 10 meters above sea level
  description: "* Items used: \n* Properties used:"
- name: Globes used to represent coordinates
  namespace: examples
  domain: wikidata.org
  query_id: globes-used-to-represent-coordinates--examples@wikidata.org
  sparql: |2

     SELECT (count(?v) as ?c) ?globe
    WHERE
    {
      ?v wikibase:geoGlobe ?globe
    }
    GROUP BY ?globe
    ORDER BY DESC(?c)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Globes used to represent coordinates
  description: ''
- name: Places within 1km of the Empire State Building
  namespace: examples
  domain: wikidata.org
  query_id: places-within-1km-of-the-empire-state-building--examples@wikidata.org
  sparql: |2

     SELECT ?place ?placeLabel ?location ?instanceLabel
    WHERE
    {
      wd:Q9188 wdt:P625 ?loc .
      SERVICE wikibase:around {
          ?place wdt:P625 ?location .
          bd:serviceParam wikibase:center ?loc .
          bd:serviceParam wikibase:radius "1" .
      }
      OPTIONAL { ?place wdt:P31 ?instance }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
      BIND(geof:distance(?loc, ?location) as ?dist)
    } ORDER BY ?dist
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Places within 1km of the Empire State Building
  description: "* Items used: \n* Properties used:"
- name: Select French municipalities by INSEE code (select by identifier)
  namespace: examples
  domain: wikidata.org
  query_id: select-french-municipalities-by-insee-code-select-by-identifier--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel ?inseeCode {
      ?item wdt:P374 ?inseeCode .
      FILTER (?inseeCode in ("75056", "69123", "13055"))
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Select French municipalities by INSEE code (select by identifier)
  description: '* Properties used:'
- name: Map and list of municipalities in The Netherlands
  namespace: examples
  domain: wikidata.org
  query_id: map-and-list-of-municipalities-in-the-netherlands--examples@wikidata.org
  sparql: |
    #Concise list & map of the 355 Dutch municipalities, their geo coordinates and their provinces, per 1-1-2019
    #See also:
    #https://almanak.overheid.nl/organisaties/Gemeenten/ - 355 in aantal
    #https://nl.wikipedia.org/wiki/Lijst_van_Nederlandse_gemeenten - 355 in aantal

    #defaultView:Map
    SELECT ?muni ?muniLabel ?location where {
      ?muni p:P31 ?instanceOf; # Get statement because we need this later
            wdt:P625 ?location. # And location
      ?instanceOf ps:P31 wd:Q2039348. # P31 should be 'municipality of the Netherlands'
      MINUS { ?muni wdt:P31 wd:Q7265977. } # Don't show former municipalities
      MINUS { ?instanceOf pq:P582 ?endTime. } # And don't show municipalities that have an end time
      SERVICE wikibase:label { bd:serviceParam wikibase:language "nl". } # Show names in Dutch
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map and list of municipalities in The Netherlands
  description: ''
- name: Buildings in more than one country
  namespace: examples
  domain: wikidata.org
  query_id: buildings-in-more-than-one-country--examples@wikidata.org
  sparql: |2

    SELECT ?item ?itemLabel ?count
    WHERE
    {
      {
        SELECT ?item (COUNT(DISTINCT ?country) AS ?count) WHERE {
          ?item wdt:P31/wdt:P279* wd:Q41176 .
          ?item wdt:P17 ?country .
          FILTER NOT EXISTS { ?country wdt:P576 ?end }
        }
        GROUP BY ?item
      }
      FILTER ( ?count > 1 )
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" . }
    }
    ORDER BY DESC(?count) ?itemL
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Buildings in more than one country
  description: ''
- name: ATMs around Munich belonging to the Bankcard-Servicenetz interbank network
    (federated query)
  namespace: examples
  domain: wikidata.org
  query_id: atms-around-munich-belonging-to-the-bankcard-servicenetz-interbank-network-federated-query--examples@wikidata.org
  sparql: |2

    #defaultView:Map{"hide":["?atm","?geometry"], "layer": "?bankLabel"}

    PREFIX lgdo: <http://linkedgeodata.org/ontology/>
    PREFIX geom: <http://geovocab.org/geometry#>
    PREFIX bif: <bif:>

    SELECT ?atm ?geometry ?bank ?bankLabel WHERE {
      hint:Query hint:optimizer "None".

      SERVICE <http://linkedgeodata.org/sparql> {
        { ?atm a lgdo:Bank; lgdo:atm true. }
        UNION { ?atm a lgdo:Atm. }

        ?atm geom:geometry [geo:asWKT ?geometry];
             lgdo:operator ?operator.
        FILTER(bif:st_intersects(?geometry, bif:st_point(11.5746898, 48.1479876), 5)) # 5 km around Munich
      }

      BIND(STRLANG(?operator, "de") as ?bankLabel)
      ?bank rdfs:label ?bankLabel.

      # bank is part of the Bankcard service network, either via an explicit statement or implicitly due to its legal form (unless explicitly excluded)
      { ?bank wdt:P527 wd:Q806724. }
      UNION { ?bank wdt:P1454 wd:Q5349747. }
      MINUS { wd:Q806724 wdt:P3113 ?bank. }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: ATMs around Munich belonging to the Bankcard-Servicenetz interbank network
    (federated query)
  description: ''
- name: Items geographically located around the Wikimedia Foundation office, sorted
    by distance
  namespace: examples
  domain: wikidata.org
  query_id: items-geographically-located-around-the-wikimedia-foundation-office-sorted-by-distance--examples@wikidata.org
  sparql: |2

    SELECT ?place ?location ?distance ?placeLabel WHERE {
        SERVICE wikibase:around {
          ?place wdt:P625 ?location .
          bd:serviceParam wikibase:center "Point(-122.402251 37.789246)"^^geo:wktLiteral .
          bd:serviceParam wikibase:radius "1" .
          bd:serviceParam wikibase:distance ?distance .
        }
        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } ORDER BY ?distance LIMIT 100
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Items geographically located around the Wikimedia Foundation office, sorted
    by distance
  description: ''
- name: Ten largest islands in the world
  namespace: examples
  domain: wikidata.org
  query_id: ten-largest-islands-in-the-world--examples@wikidata.org
  sparql: |2

    #title: <translate><!--T:776--> Ten largest islands in the world</translate>
    # Inspired by this infographic: https://redd.it/a6423t

    #defaultView:ImageGrid
    SELECT DISTINCT ?island ?islandLabel ?islandImage WHERE {
      ?island (wdt:P31/(wdt:P279*)) wd:Q23442.
      OPTIONAL { ?island wdt:P18 ?islandImage. }
      ?island (p:P2046/psn:P2046/wikibase:quantityAmount) ?islandArea.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY DESC (?islandArea)
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Ten largest islands in the world
  description: ''
- name: City gates in the Dutch province of Zeeland
  namespace: examples
  domain: wikidata.org
  query_id: city-gates-in-the-dutch-province-of-zeeland--examples@wikidata.org
  sparql: |2

    SELECT ?town ?townLabel ?gate ?gateLabel where {
      # Municipalities within the province
      ?muni wdt:P31 wd:Q2039348;
            wdt:P131 wd:Q705.
      # Instances of city gate located within any of the municipalities
      ?gate wdt:P31 wd:Q82117;
            wdt:P131 ?muni;
      # The Location (usually Town) that the gate is in
            wdt:P276 ?town.

      SERVICE wikibase:label { bd:serviceParam wikibase:language "nl". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: City gates in the Dutch province of Zeeland
  description: ''
- name: Glaciers map
  namespace: examples
  domain: wikidata.org
  query_id: glaciers-map--examples@wikidata.org
  sparql: |
    <!--using initially SPARQL5 but pb with untranslated TryIt-->
    #by Jura1, 2021-05-21
    #defaultView:Map{"hide":["?coor","?area_scale_km"], "layer": "?area_scale_km"}
    SELECT ?item ?itemLabel ?itemDescription ?coor ?area_sqkm ?area_scale_km
    {
      ?item wdt:P31/wdt:P279* wd:Q35666 .
      OPTIONAL { ?item wdt:P625 ?coor }
      OPTIONAL { ?item p:P2046 [ a wikibase:BestRank; psn:P2046/wikibase:quantityAmount ?area_sqm ] .
        BIND( ROUND(?area_sqm/10000)/100 as ?area_sqkm)
        BIND( strlen(str(ROUND(?area_sqm/1000000))) as ?area_scale_km)
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Glaciers map
  description: ''
- name: Demography
  namespace: examples
  domain: wikidata.org
  query_id: demography--examples@wikidata.org
  sparql: |2


    # Coordinates of the birth places of people named Antoine
    #defaultView:Map
    SELECT ?item ?itemLabel ?coord
    WHERE
    {
      ?item wdt:P31 wd:Q5 . # human
      ?item wdt:P735 wd:Q15235674.
      ?item wdt:P19 ?place.
      ?place wdt:P625 ?coord.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "fr". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Demography
  description: ''
- name: Birthplaces of humans named Antoine
  namespace: examples
  domain: wikidata.org
  query_id: birthplaces-of-humans-named-antoine--examples@wikidata.org
  sparql: |2


    # Coordinates of the birth places of people named Antoine
    #defaultView:Map
    SELECT ?item ?itemLabel ?coord
    WHERE
    {
      ?item wdt:P31 wd:Q5 . # human
      ?item wdt:P735 wd:Q15235674.
      ?item wdt:P19 ?place.
      ?place wdt:P625 ?coord.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "fr". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Birthplaces of humans named Antoine
  description: ''
- name: Gender distribution in the candidates for the Dutch general election 2017
  namespace: examples
  domain: wikidata.org
  query_id: gender-distribution-in-the-candidates-for-the-dutch-general-election-2017--examples@wikidata.org
  sparql: |2
     #Kandidaten voor de Nederlandse tk verkiezingen van 2017
    #defaultView:Dimensions
    SELECT ?positie_op_lijst ?genderLabel ?politieke_partijLabel WHERE {
      ?item p:P3602 ?node.
      ?item wdt:P21 ?gender.
      ?node ps:P3602 wd:Q16061881 .
      ?node pq:P1545 ?positie_op_lijst.
      ?node pq:P1268 ?politieke_partij.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],nl". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Gender distribution in the candidates for the Dutch general election 2017
  description: ''
- name: Candidates for the Dutch general election 2017 living in Antwerp, Belgium
  namespace: examples
  domain: wikidata.org
  query_id: candidates-for-the-dutch-general-election-2017-living-in-antwerp-belgium--examples@wikidata.org
  sparql: |2
     SELECT ?item ?itemLabel ?twitter ?LinkedIN ?politieke_partij ?politieke_partijLabel ?positie_op_lijst WHERE {
      ?item p:P3602 ?node.
      ?item wdt:P551 wd:Q12892.
      OPTIONAL { ?item wdt:P2002 ?twitter. }
      OPTIONAL { ?item wdt:P2035 ?LinkedIN. }
      ?node ps:P3602 wd:Q16061881.
      OPTIONAL { ?node pq:P1545 ?positie_op_lijst. }
      OPTIONAL { ?node pq:P1268 ?politieke_partij. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],nl". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Candidates for the Dutch general election 2017 living in Antwerp, Belgium
  description: ''
- name: Occupations of candidates of the Dutch general election 2017
  namespace: examples
  domain: wikidata.org
  query_id: occupations-of-candidates-of-the-dutch-general-election-2017--examples@wikidata.org
  sparql: |
    #Kandidaten voor de Nederlandse TK verkiezingen van 2017
    #defaultView:Dimensions
    SELECT ?positie_op_lijst ?genderLabel ?occupationLabel ?politieke_partijLabel WHERE {
      VALUES ?politieke_partij {wd:Q747910 wd:Q275441}
      ?item p:P3602 ?node.
      ?item wdt:P21 ?gender.
      ?item wdt:P106 ?occupation.
      ?node ps:P3602 wd:Q16061881.
      ?node pq:P1545 ?positie_op_lijst.
      ?node pq:P1268 ?politieke_partij.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],nl". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Occupations of candidates of the Dutch general election 2017
  description: ''
- name: Number of ministers who are themselves children of a minister, per country
  namespace: examples
  domain: wikidata.org
  query_id: number-of-ministers-who-are-themselves-children-of-a-minister-per-country--examples@wikidata.org
  sparql: |-
    SELECT ?cc (COUNT(DISTINCT ?child) AS ?number) {
      ?child wdt:P31 wd:Q5 ; # Looking for real humans and not fictional ones
             wdt:P39/wdt:P279* wd:Q83307 ;
             (wdt:P22
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Number of ministers who are themselves children of a minister, per country
  description: "* Items used:  \n* Properties used:"
- name: List of parliament buildings with pictures by country
  namespace: examples
  domain: wikidata.org
  query_id: list-of-parliament-buildings-with-pictures-by-country--examples@wikidata.org
  sparql: |2


    #defaultView:ImageGrid
    SELECT ?building ?buildingLabel ?country ?countryLabel ?picture
    WHERE
    {
      ?building wdt:P31 wd:Q7138926 .
      ?building wdt:P18 ?picture .
      OPTIONAL { ?building wdt:P17 ?country } . #if available
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en" .
      }
    }
    ORDER BY ?countryLabel
    LIMIT 188
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of parliament buildings with pictures by country
  description: "* Items used: \n* Properties used:"
- name: The number of existing translations for diseases in Wikidata
  namespace: examples
  domain: wikidata.org
  query_id: the-number-of-existing-translations-for-diseases-in-wikidata--examples@wikidata.org
  sparql: |2


    SELECT ?disease ?doid ?enLabel (count(?language) as ?languages)
    WHERE
    {
      ?disease wdt:P699 ?doid ;
                 rdfs:label ?label ;
                 rdfs:label ?enLabel .
        FILTER (lang(?enLabel) = "en")

        BIND (lang(?label) AS ?language)
    }
    GROUP BY ?disease ?doid ?enLabel
    ORDER BY desc(?languages)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The number of existing translations for diseases in Wikidata
  description: |-
    =
    Items used:
- name: 'A network of Drug-disease interactions on infectious diseases (Source: Disease
    Ontology, NDF-RT and ChEMBL)'
  namespace: examples
  domain: wikidata.org
  query_id: a-network-of-drug-disease-interactions-on-infectious-diseases-source-disease-ontology-ndf-rt-and-chembl--examples@wikidata.org
  sparql: |2

    #defaultView:Graph
    SELECT DISTINCT ?item ?itemLabel ?rgb ?link
    WHERE
    {
      VALUES ?toggle { true false }
      ?disease wdt:P699 ?doid;
               wdt:P279+ wd:Q18123741;
               wdt:P2176 ?drug.
      ?drug rdfs:label ?drugLabel.
        FILTER(LANG(?drugLabel) = "en").
      ?disease rdfs:label ?diseaseLabel.
        FILTER(LANG(?diseaseLabel) = "en").
      BIND(IF(?toggle,?disease,?drug) AS ?item).
      BIND(IF(?toggle,?diseaseLabel,?drugLabel) AS ?itemLabel).
      BIND(IF(?toggle,"FFA500","7FFF00") AS ?rgb).
      BIND(IF(?toggle,"",?disease) AS ?link).
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: 'A network of Drug-disease interactions on infectious diseases (Source: Disease
    Ontology, NDF-RT and ChEMBL)'
  description: '='
- name: The number of Wikidata items on Diseases and the percentage of those with
    a pointer to the Disease Ontology
  namespace: examples
  domain: wikidata.org
  query_id: the-number-of-wikidata-items-on-diseases-and-the-percentage-of-those-with-a-pointer-to-the-disease-ontology--examples@wikidata.org
  sparql: |2


    SELECT (COUNT(?disease) AS ?total) (SUM(?ref) AS ?byDO) (100*?byDO/?total AS ?percent)
    WHERE
    {
      {?disease wdt:P31 wd:Q12136 }
      UNION
      {?disease wdt:P279 wd:Q12136 .}
      OPTIONAL {
        ?disease p:P699 ?statement.
        BIND(1 AS ?ref).
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The number of Wikidata items on Diseases and the percentage of those with
    a pointer to the Disease Ontology
  description: '='
- name: Infectious diseases with their human minimum and maximum incubation time (in
    days)
  namespace: examples
  domain: wikidata.org
  query_id: infectious-diseases-with-their-human-minimum-and-maximum-incubation-time-in-days--examples@wikidata.org
  sparql: |2


    SELECT ?DiseaseLabel ((?min / 86400) AS ?Minimal_Incubation_Time) ((?max / 86400) AS ?Maximum_Incubation_Time)
    WHERE {
      ?Disease wdt:P31/wdt:P279* wd:Q18123741 .
      ?Disease p:P3488/psn:P3488/wikibase:quantityAmount ?min .
      ?Disease p:P3487/psn:P3487/wikibase:quantityAmount ?max

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE]". }
    }
    ORDER BY ?DiseaseLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Infectious diseases with their human minimum and maximum incubation time
    (in days)
  description: '='
- name: Genes
  namespace: examples
  domain: wikidata.org
  query_id: genes--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?item ?ncbi_gene ?date_modified
    WHERE
    {
      ?item wdt:P351 ?ncbi_gene ;
              wdt:P703 wd:Q15978631 ;
              schema:dateModified ?date_modified .
        BIND (now() - ?date_modified as ?date_range)
        FILTER (?date_range < 8)
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Genes
  description: '='
- name: Human genes updated this week
  namespace: examples
  domain: wikidata.org
  query_id: human-genes-updated-this-week--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?item ?ncbi_gene ?date_modified
    WHERE
    {
      ?item wdt:P351 ?ncbi_gene ;
              wdt:P703 wd:Q15978631 ;
              schema:dateModified ?date_modified .
        BIND (now() - ?date_modified as ?date_range)
        FILTER (?date_range < 8)
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Human genes updated this week
  description: '='
- name: Counts of gene-variant types sourced from the CIViC database
  namespace: examples
  domain: wikidata.org
  query_id: counts-of-gene-variant-types-sourced-from-the-civic-database--examples@wikidata.org
  sparql: |2

    #defaultView:BarChart
    SELECT ?variant_typeLabel (count(?variant_typeLabel) as ?counts)
    WHERE
    {
      ?item wdt:P3329 ?civic_id ;
              wdt:P31 ?variant_type .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    GROUP BY ?variant_typeLabel
    ORDER BY ?counts
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Counts of gene-variant types sourced from the CIViC database
  description: '='
- name: Which variant of which gene predicts a positive prognosis in colorectal cancer
  namespace: examples
  domain: wikidata.org
  query_id: which-variant-of-which-gene-predicts-a-positive-prognosis-in-colorectal-cancer--examples@wikidata.org
  sparql: |2

    SELECT ?geneLabel ?variantLabel
    WHERE
    {
      VALUES ?disease {wd:Q188874}
        ?variant wdt:P3358 ?disease ; # P3358 Positive prognostic predictor
              wdt:P3433 ?gene . # P3433 biological variant of
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Which variant of which gene predicts a positive prognosis in colorectal cancer
  description: '='
- name: Variants that are associated with renal cell carcinoma
  namespace: examples
  domain: wikidata.org
  query_id: variants-that-are-associated-with-renal-cell-carcinoma--examples@wikidata.org
  sparql: |2

    # variants that are associated with renal cell carcinoma
    SELECT DISTINCT ?civic_id ?item ?itemLabel
    WHERE
    {
      VALUES ?property {
                          wdt:P3356 # positive diagnostic predictor
                          wdt:P3357 # negative diagnostic predictor
                          wdt:P3358 # positive prognostic predicator
                          wdt:P3359 # negative prognostic predictor
                         }
        ?item wdt:P3329 ?civic_id .
        {?item ?property wd:Q1164529.} # wd:Q1164529 = renal cell carcinoma
        UNION
        {?item p:P3354 ?o . # positive therapeutic predictor
         ?o pq:P2175 wd:Q1164529 .}
        UNION
        {?item p:P3354 ?o . # negative therapeutic predictor
         ?o pq:P2175 wd:Q1164529 .}

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Variants that are associated with renal cell carcinoma
  description: '='
- name: PubMed references in CIViCdb
  namespace: examples
  domain: wikidata.org
  query_id: pubmed-references-in-civicdb--examples@wikidata.org
  sparql: |2

    # variants that are associated with renal cell carcinoma
    SELECT DISTINCT ?reference ?referenceLabel ?pmid
    WHERE
    {
      ?item wdt:P3329 ?civicId ;
              ?property ?object .
        ?object prov:wasDerivedFrom ?provenance .
        ?provenance pr:P248 ?reference .
        ?reference wdt:P31 wd:Q13442814 ;
                   wdt:P698 ?pmid .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: PubMed references in CIViCdb
  description: '='
- name: Variant counts by predictor type
  namespace: examples
  domain: wikidata.org
  query_id: variant-counts-by-predictor-type--examples@wikidata.org
  sparql: |2

    #defaultView:BubbleChart
    SELECT ?propertyLabel (count(?prognostic_type) as ?counts)
    WHERE
    {
      VALUES ?prognostic_type {wdt:P3354 wdt:P3355 wdt:P3356 wdt:P3357 wdt:P3358 wdt:P3359}
        ?item wdt:P3329 ?civic_id ;
              ?prognostic_type ?prognostic_value .
        ?property wikibase:directClaim ?prognostic_type .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    GROUP BY ?propertyLabel ?prognostic_typeLabel
    ORDER BY ?counts
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Variant counts by predictor type
  description: '='
- name: Proteins
  namespace: examples
  domain: wikidata.org
  query_id: proteins--examples@wikidata.org
  sparql: |2

    SELECT ?item ?itemLabel ?uniprotid ?tax_node
    WHERE
    {
      ?item wdt:P352 ?uniprotid ;
              wdt:P703 wd:Q15978631 .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Proteins
  description: '='
- name: Get Wikidata - UniprotId mappings for homo sapiens
  namespace: examples
  domain: wikidata.org
  query_id: get-wikidata-uniprotid-mappings-for-homo-sapiens--examples@wikidata.org
  sparql: |2

    SELECT ?item ?itemLabel ?uniprotid ?tax_node
    WHERE
    {
      ?item wdt:P352 ?uniprotid ;
              wdt:P703 wd:Q15978631 .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Get Wikidata - UniprotId mappings for homo sapiens
  description: '='
- name: Metabolites and the species where they are found in
  namespace: examples
  domain: wikidata.org
  query_id: metabolites-and-the-species-where-they-are-found-in--examples@wikidata.org
  sparql: |2

    PREFIX pr: <http://www.wikidata.org/prop/reference/>
    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
    PREFIX prov: <http://www.w3.org/ns/prov#>

    SELECT ?compound ?compoundLabel ?speciesLabel ?sourceLabel ?doi ?wpid WHERE {
      ?compound wdt:P31 wd:Q11173.
      MINUS { ?compound wdt:P31 wd:Q8054. }
      ?compound p:P703 ?statement.
      ?statement rdf:type wikibase:BestRank.
      ?statement ps:P703 ?species.
      OPTIONAL {
        ?statement (prov:wasDerivedFrom/pr:P248) ?source.
        OPTIONAL { ?source wdt:P2410 ?wpid. }
        OPTIONAL { ?source wdt:P356 ?doi. }
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    ORDER BY ASC(?compound)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Metabolites and the species where they are found in
  description: '='
- name: Metabolite-metabolite interactions (mostly conversions) and their pKa change
    (federated query)
  namespace: examples
  domain: wikidata.org
  query_id: metabolite-metabolite-interactions-mostly-conversions-and-their-pka-change-federated-query--examples@wikidata.org
  sparql: |2

    #defaultView:Dimensions
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX wp: <http://vocabularies.wikipathways.org/wp#>
    PREFIX dcterms: <http://purl.org/dc/terms/>
    SELECT DISTINCT ?wpid ?metaboliteLabel ?pKa ?pKa2 ?metabolite2Label ?wpid2
    WITH {
      SELECT ?wpid ?source_pathway ?metabolite ?pKa ?pKa2 ?metabolite2 ?wpid2
      WHERE {
        # VALUES ?wpid { "WP550" }
        ?pathway wdt:P2410 ?wpid ;
                 wdt:P527 ?metabolite ;
                 wdt:P2888 ?source_pathway .
        ?metabolite wdt:P1117 ?pKa .

        SERVICE <http://sparql.wikipathways.org/sparql> {
          ?wp_mb1 wp:bdbWikidata ?metabolite .
          ?wp_mb1 dcterms:isPartOf ?interaction .
          ?interaction rdf:type wp:Interaction .
          ?wp_mb2 dcterms:isPartOf ?interaction .
          ?wp_mb2 wp:bdbWikidata ?metabolite2 .
          FILTER (?wp_mb1 != ?wp_mb2)
        }
      }
    } AS %result
    WHERE {
      INCLUDE %result
      ?metabolite2 wdt:P1117 ?pKa2 .
      ?pathway2 wdt:P2410 ?wpid2 ;
                 wdt:P527 ?metabolite2 ;
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Metabolite-metabolite interactions (mostly conversions) and their pKa change
    (federated query)
  description: |-
    =
     Federated query using the WikiPathways SPARQL endpoint to retrieve interaction information.
     The dimensions plot show the pKa changes during metabolite-metabolite interaction.
     It must be noted here that many very basic or very acidic are reported in pathways as the uncharged structure, whereas in normal biological pathways these compounds are charged and then have quite different pKa charges.
- name: Taxon
  namespace: examples
  domain: wikidata.org
  query_id: taxon--examples@wikidata.org
  sparql: |2

    #defaultView:Graph
    PREFIX gas: <http://www.bigdata.com/rdf/gas#>

    SELECT ?item ?itemLabel ?pic ?linkTo
    WHERE
    {
      SERVICE gas:service {
        gas:program gas:gasClass "com.bigdata.rdf.graph.analytics.SSSP" ;
                    gas:in wd:Q1968598;
                    gas:traversalDirection "Reverse" ;
                    gas:out ?item ;
                    gas:out1 ?depth ;
                    gas:maxIterations 3 ;
                    gas:linkType wdt:P171 .
      }
      OPTIONAL { ?item wdt:P171 ?linkTo }
      OPTIONAL { ?item wdt:P18 ?pic }
      SERVICE wikibase:label {bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Taxon
  description: '='
- name: Asterophryinae parent taxon reverse graph
  namespace: examples
  domain: wikidata.org
  query_id: asterophryinae-parent-taxon-reverse-graph--examples@wikidata.org
  sparql: |2

    #defaultView:Graph
    PREFIX gas: <http://www.bigdata.com/rdf/gas#>

    SELECT ?item ?itemLabel ?pic ?linkTo
    WHERE
    {
      SERVICE gas:service {
        gas:program gas:gasClass "com.bigdata.rdf.graph.analytics.SSSP" ;
                    gas:in wd:Q1968598;
                    gas:traversalDirection "Reverse" ;
                    gas:out ?item ;
                    gas:out1 ?depth ;
                    gas:maxIterations 3 ;
                    gas:linkType wdt:P171 .
      }
      OPTIONAL { ?item wdt:P171 ?linkTo }
      OPTIONAL { ?item wdt:P18 ?pic }
      SERVICE wikibase:label {bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Asterophryinae parent taxon reverse graph
  description: '='
- name: All human pathways from Wikipathways
  namespace: examples
  domain: wikidata.org
  query_id: all-human-pathways-from-wikipathways--examples@wikidata.org
  sparql: |2

    SELECT ?pathway ?pathwayLabel ?wpid WHERE {
       ?pathway wdt:P2410 ?wpid ;
                wdt:P703 wd:Q15978631 .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All human pathways from Wikipathways
  description: '='
- name: Biomarkers in Wikidata which interact with proteins in human pathways from
    Wikipathways
  namespace: examples
  domain: wikidata.org
  query_id: biomarkers-in-wikidata-which-interact-with-proteins-in-human-pathways-from-wikipathways--examples@wikidata.org
  sparql: |2

    prefix void:  <http://rdfs.org/ns/void#>
    prefix pav:   <http://purl.org/pav/>
    prefix xsd:   <http://www.w3.org/2001/XMLSchema#>
    prefix freq:  <http://purl.org/cld/freq/>
    prefix biopax: <http://www.biopax.org/release/biopax-level3.owl#>
    prefix skos:  <http://www.w3.org/2004/02/skos/core#>
    prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
    prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
    prefix gpml:  <http://vocabularies.wikipathways.org/gpml#>
    prefix wp:    <http://vocabularies.wikipathways.org/wp#>
    prefix dcterms: <http://purl.org/dc/terms/>
    prefix wprdf: <http://rdf.wikipathways.org/>
    prefix prov:  <http://www.w3.org/ns/prov#>
    prefix foaf:  <http://xmlns.com/foaf/0.1/>
    prefix dc:    <http://purl.org/dc/elements/1.1/>

    SELECT DISTINCT ?biomarkerLabel ?proteinLabel ?geneID ?WP_gene ?PathwayID ?PathwayName #results that are displayed.
    WHERE {
      VALUES ?biomarker {wd:Q420633 wd:Q27125809 wd:Q422462} #you can add more biomarkers here if needed, separated by a space.
      ?biomarker wdt:P31 wd:Q11173. #Stating that all biomarkers have to be "instance of" "chemical compound" (you could ommit this, but query will probably take longer).
      ?biomarker wdt:P638 ?pdbID . #Checking if a biomarker has a Protein Databank ID (PDB) -> meaning the metabolite can interact with a protein.
      ?protein wdt:P31 wd:Q8054 . #Stating that all proteins are "instance of" "protein"
      ?protein wdt:P638 ?pdbID . #Checking which proteins have a PDB ID, which we queried previously in relationship to the biomarkers.
      ?protein wdt:P702 ?gene . #Connecting the protein to a gene ("encoded by" relationship) -> to get an identifier we can use later in federated WikiPathways query.
      ?gene wdt:P703 wd:Q15978631 . #Now removing all genes that are not found in species "Homo sapiens". -> This info is not always available for proteins in WikiData.
      ?gene wdt:P2888 ?geneID . #Getting the "exact match" identifier for the gene, related to the protein, related to the biomarker.

      ##The IRI from Wikidata starts with http:// , where the one from WikiPathways starts with https:// , so we need to rewrite the IRI
        BIND(                      # Bind the created IRI into a new variable (called ?newIRI)
            IRI(                   # Convert the string back to an IRI
              CONCAT(              # Concatenate item 1 and 2 together as one string
                   "https",        # First item to concat (more items can be added with a comma
                  #Second item to concat:
                   SUBSTR(         # Obtain a substring
                     STR(?geneID), # Convert the geneID IRI from Wikidata to a string,
                     5)            # removing the first 5 characters (<http)
            )) AS ?newIRI          # Name for the new variable
        )

      SERVICE <http://sparql.wikipathways.org/sparql> { #Connecting to the WikiPathways SPARQL endpoint.
         ?WP_pathway a wp:Pathway . #Stating a ?WP_pathway is indeed a pathway in the WikiPathways RDF .
         ?WP_pathway wp:organismName "Homo sapiens" . #Removing all PWs not for species Homo sapiens.
         ?WP_pathway dc:identifier ?PathwayID . #Query the identifier of the pathway in WPs.
         ?WP_pathway dc:title ?PathwayName . #Obtaining the name of the pathway.

         ?WP_gene a wp:Protein . #Stating that a ?WP_gene is a Protein DataNode (you could ommit this, to also get all DataNodes modeled as GeneProducts out, but query will take longer).
         ?WP_gene wp:bdbEntrezGene ?newIRI . #Connecting the previously queried "exact match" from WikiData to the NCBI/Entrez Gene ID in WPs.
         ?WP_gene dcterms:isPartOf ?WP_pathway . #Connecting the WP_gene to the WP_pathway.

       }
     OPTIONAL {?biomarker rdfs:label ?biomarkerLabel. #Create a label (aka name) for the biomarkers in WikiData, without using the service query.
    FILTER(LANG(?biomarkerLabel) = "en").
    }
       OPTIONAL {?protein rdfs:label ?proteinLabel. #Create a label(aka name) for the proteins in WikiData, without using the service query.
    FILTER(LANG(?proteinLabel) = "en").
    }

    }
    ORDER BY DESC (?biomarkerLabel) #Order results for biomarkers
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Biomarkers in Wikidata which interact with proteins in human pathways from
    Wikipathways
  description: '='
- name: Ranking of most cited work in WikiPathways
  namespace: examples
  domain: wikidata.org
  query_id: ranking-of-most-cited-work-in-wikipathways--examples@wikidata.org
  sparql: |2

    SELECT ?citation ?citationLabel (count(?pathway) as ?times_cited) WHERE {
      ?pathway wdt:P2410 ?WikiPathwaysID ;
               wdt:P2860 ?citation .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
      }
    GROUP BY ?pathway ?citation ?citationLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Ranking of most cited work in WikiPathways
  description: '='
- name: Gene and metabolite counts per pathway
  namespace: examples
  domain: wikidata.org
  query_id: gene-and-metabolite-counts-per-pathway--examples@wikidata.org
  sparql: |2

    #Gene and metabolite counts per path
    #defaultView:ScatterChart
    SELECT ?path ?genes ?metabolites ?pathway WHERE {
      {SELECT DISTINCT ?path (COUNT(?pwPart) AS ?genes) WHERE {
          ?path wdt:P2410 ?WikipathsID.
          ?path wdt:P527 ?pwPart.
          ?pwPart wdt:P31 wd:Q7187.
          SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
        }
        GROUP BY ?path ?genes
      }
      {SELECT DISTINCT ?path (COUNT(?pwPart) AS ?metabolites) WHERE {
          ?path wdt:P2410 ?WikipathsID.
          ?path wdt:P527 ?pwPart.
          ?pwPart wdt:P31 wd:Q11173.
          SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
        }
        GROUP BY ?path ?metabolites
      }
      OPTIONAL { ?path rdfs:label ?pathway. }
    }
    ORDER BY DESC(?genes)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Gene and metabolite counts per pathway
  description: '='
- name: Biological pathways with protein structures in the PDB database
  namespace: examples
  domain: wikidata.org
  query_id: biological-pathways-with-protein-structures-in-the-pdb-database--examples@wikidata.org
  sparql: |2

    SELECT ?pathway ?pathwayLabel ?WikiPathways ?Reactome (COUNT(DISTINCT ?protein) as ?count) WHERE {
      VALUES ?pathwayType { wd:Q4915012 wd:Q2996394 }
      ?pathway wdt:P31 ?pathwayType .
      { ?pathway wdt:P527/wdt:P688 ?protein . } UNION { ?pathway wdt:P527 ?protein . }
      ?protein wdt:P638 ?PDBID .
      OPTIONAL { ?pathway wdt:P2410 ?WikiPathways }
      OPTIONAL { ?pathway wdt:P3937 ?Reactome }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } GROUP BY ?pathway ?pathwayLabel ?WikiPathways ?Reactome
      ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Biological pathways with protein structures in the PDB database
  description: '='
- name: 'Get known variants reported in <tvar name=q1>{{Q|Q27612411}}</tvar> of genes
    reported in a Wikipathways pathway: <tvar name=q2>{{Q|Q30230812}}</tvar>'
  namespace: examples
  domain: wikidata.org
  query_id: get-known-variants-reported-in-tvar-name-q1-q-q27612411-tvar-of-genes-reported-in-a-wikipathways-pathway-tvar-name-q2-q-q30230812-tvar--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?pathway ?pathwayLabel ?pwpart ?pwpartLabel ?variant ?variantLabel ?disease?diseaseLabel WHERE {

       VALUES ?predictor {p:P3354 p:P3355 p:P3356 p:P3357 p:P3358 p:P3359}
       VALUES ?predictorQualifier {pq:P2175}
       VALUES ?wpID {"WP2828"}

       ?pathway wdt:P2410 ?wpID ; # Pathways has a Wikipathways identifier
              wdt:P527 ?pwpart . # which contains pathways parts

       ?disease wdt:P279+ wd:Q504775 . # The disease is a subclass of urinary bladder cancer
                                       # based on annotations in the Disease ontology
       ?variant wdt:P3329 ?civicID ; # a variant known in CIViC
                 ?predictor ?node ; # has a predicting relation with diseases
                                       # labeled as being a subclass of urinary bladder cancer
                 wdt:P3433 ?pwpart . # variant is biological variant of

       {?node ?predictorStatement ?drug_label ;
                  ?predictorQualifier ?disease .}
       UNION
       {
          ?node ?predictorStatement ?disease .
       }
       SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: 'Get known variants reported in <tvar name=q1>{{Q|Q27612411}}</tvar> of genes
    reported in a Wikipathways pathway: <tvar name=q2>{{Q|Q30230812}}</tvar>'
  description: '='
- name: Known interaction types in Wikipathways for a pathway with Identifier WP716
    (federated query)
  namespace: examples
  domain: wikidata.org
  query_id: known-interaction-types-in-wikipathways-for-a-pathway-with-identifier-wp716-federated-query--examples@wikidata.org
  sparql: |
    PREFIX dcterms: <http://purl.org/dc/terms/>
    PREFIX wp: <http://vocabularies.wikipathways.org/wp#>
    SELECT DISTINCT ?interaction_type WHERE {
      VALUES ?wpid {"WP716"}
      ?item wdt:P2410 ?wpid ;
            wdt:P2888 ?source_pathway .

      SERVICE <http://sparql.wikipathways.org/sparql> {
         ?wp_pathway dc:identifier ?source_pathway .
         ?s dcterms:isPartOf ?wp_pathway, ?interaction .
         ?interaction rdf:type wp:Interaction .
         ?interaction rdf:type ?interaction_type .
         ?interaction wp:participants ?participants .
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Known interaction types in Wikipathways for a pathway with Identifier WP716
    (federated query)
  description: '='
- name: Local annotations from Wikipathways using Federated query on a Pathway with
    identifier WP716 (federated query)
  namespace: examples
  domain: wikidata.org
  query_id: local-annotations-from-wikipathways-using-federated-query-on-a-pathway-with-identifier-wp716-federated-query--examples@wikidata.org
  sparql: |
    PREFIX dcterms: <http://purl.org/dc/terms/>
    PREFIX wp: <http://vocabularies.wikipathways.org/wp#>
    SELECT DISTINCT ?item ?pw_annotation WHERE {
      VALUES ?wpid {"WP716"}
      ?item wdt:P2410 ?wpid ;
            wdt:P2888 ?source_pathway .

      SERVICE <http://sparql.wikipathways.org/sparql> {
         ?wp_pathway dc:identifier ?source_pathway .
         ?wp_pathway wp:ontologyTag ?pw_annotation .
         # ?pw_annotation rdfs:label ?annotation_label .
       }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Local annotations from Wikipathways using Federated query on a Pathway with
    identifier WP716 (federated query)
  description: '='
- name: Find drugs for cancers that target genes related to cell proliferation
  namespace: examples
  domain: wikidata.org
  query_id: find-drugs-for-cancers-that-target-genes-related-to-cell-proliferation--examples@wikidata.org
  sparql: |2-

    #cases where a drug physically interacts with the product of gene known to be genetically associated a disease
    #these cases may show opportunities to repurpose a drug for a new disease
    #See http://database.oxfordjournals.org/content/2016/baw083.long and
    #http://drug-repurposing.nationwidechildrens.org/search
    #an example that was recently validated involved a new link between Metformin wd:Q19484 and cancer survival
    #https://jamia.oxfordjournals.org/content/22/1/179
    #currently set up to find drugs for cancers that target genes related to cell proliferation
    #adapt by changing constraints (e.g. to 'heart disease' Q190805) or removing them
    SELECT ?drugLabel ?geneLabel ?biological_processLabel ?diseaseLabel
    WHERE {
      ?drug wdt:P129 ?gene_product . # drug interacts with a gene_product
      ?gene wdt:P688 ?gene_product . # gene_product (usually a protein) is a product of a gene (a region of DNA)
      ?disease wdt:P2293 ?gene .     # genetic association between disease and gene
      ?disease wdt:P279* wd:Q12078 . # limit to cancers wd:Q12078 (the * operator runs up a transitive relation..)
      ?gene_product wdt:P682 ?biological_process . #add information about the GO biological processes that the gene is related to

       ?biological_process (wdt:P361
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Find drugs for cancers that target genes related to cell proliferation
  description: ''
- name: Taxons and what they are named after
  namespace: examples
  domain: wikidata.org
  query_id: taxons-and-what-they-are-named-after--examples@wikidata.org
  sparql: |2


    SELECT ?taxon ?eponym ?taxonName ?eponymLabel
    WHERE
    {
      ?taxon wdt:P31 wd:Q16521;
             wdt:P225 ?taxonName;
             wdt:P138 ?eponym.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    ORDER BY ?eponym
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Taxons and what they are named after
  description: ''
- name: Biologists with Twitter accounts
  namespace: examples
  domain: wikidata.org
  query_id: biologists-with-twitter-accounts--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?personLabel (CONCAT("https://twitter.com/",?twitterName) AS ?twitterlink) ?pic
    WHERE {
      ?person wdt:P2002 ?twitterName ;
        wdt:P106 ?occupation .
      OPTIONAL { ?person wdt:P18 ?pic . }
      ?occupation wdt:P279* wd:Q864503 . # all subclasses of biologists
       SERVICE wikibase:label {
         bd:serviceParam wikibase:language "en"
       }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Biologists with Twitter accounts
  description: ''
- name: Cell lines with names that could also be URLs (Internet of Cell Lines).
  namespace: examples
  domain: wikidata.org
  query_id: cell-lines-with-names-that-could-also-be-urls-internet-of-cell-lines--examples@wikidata.org
  sparql: |
    SELECT * WHERE {
      {
        SELECT ?cell_line ?cell_line_name WHERE {
          ?cell_line wdt:P31 wd:Q21014462;
                     rdfs:label ?cell_line_name.
              FILTER(LANG(?cell_line_name) = "en").
              Filter REGEX(STR(?cell_line_name), "^[\\w\\-\\.]+\\.[A-z]+$")
        }
      }
      ?tld wdt:P31/wdt:P279* wd:Q14296;
           rdfs:label ?tld_name.
      FILTER(LANG(?tld_name) = "en").
      FILTER REGEX(STR(?cell_line_name), CONCAT(REPLACE(?tld_name, "\\.", "\\\\."), "$"), "i")
      BIND(URI(CONCAT("http://", ?cell_line_name)) as ?url)
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Cell lines with names that could also be URLs (Internet of Cell Lines).
  description: ''
- name: List of pharmaceutical drugs with picture
  namespace: examples
  domain: wikidata.org
  query_id: list-of-pharmaceutical-drugs-with-picture--examples@wikidata.org
  sparql: |2


    SELECT ?moleculeLabel ?formule ?picture ?molecule
    WHERE
    {
      ?molecule wdt:P31 wd:Q12140 ;
                wdt:P274 ?formule ;
                wdt:P117 ?picture
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en, de" . }
    }
    ORDER BY ?moleculeLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of pharmaceutical drugs with picture
  description: ''
- name: Organisms that are located in the female urogential tract and that have a
    gene with product indole
  namespace: examples
  domain: wikidata.org
  query_id: organisms-that-are-located-in-the-female-urogential-tract-and-that-have-a-gene-with-product-indole--examples@wikidata.org
  sparql: |2


    SELECT ?organism_name
    WHERE
    {
      ?organism_item wdt:P2974 wd:Q5880 ;
                     rdfs:label ?organism_name .
      ?gene wdt:P703 ?organism_item ;
            wdt:P1056 wd:Q319541 .
      FILTER (LANG(?organism_name) = "en") .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Organisms that are located in the female urogential tract and that have a
    gene with product indole
  description: "* Items used:  \n* Properties used:"
- name: Threatened Species of Animals as per IUCN Classification
  namespace: examples
  domain: wikidata.org
  query_id: threatened-species-of-animals-as-per-iucn-classification--examples@wikidata.org
  sparql: |
    #title: <translate><!--T:778--> Animals which are Threatened as per IUCN Red List</translate>
    # https://en.wikipedia.org/wiki/Conservation_status
    # Common names are in English only

    SELECT ?animal ?scientific_names ?common_names ?statusLabel where
    {
      # hint:Prior hint:runLast true
       {
          SELECT DISTINCT ?animal (GROUP_CONCAT(DISTINCT ?scientific_name; separator=", ") as ?scientific_names) (GROUP_CONCAT(DISTINCT ?common_name; separator=", ") as ?common_names) WHERE
          {

            ?animal wdt:P141 ?status;
                    wdt:P225 ?scientific_name;
                    wdt:P1843 ?common_name.
            filter( ?status
               IN (
                   wd:Q11394,  #Endangered
                   wd:Q219127, #critcally endangered
                   wd:Q278113  #vulnurable
                  )
              ).

            # Only return common names in English
            FILTER(LANGMATCHES(LANG(?common_name), "en"))
          }
          GROUP BY ?animal
       }.
       ?animal wdt:P141 ?status.
       SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Threatened Species of Animals as per IUCN Classification
  description: ''
- name: List of computer files formats
  namespace: examples
  domain: wikidata.org
  query_id: list-of-computer-files-formats--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?idExtension ?extension ?mediaType ?idExtensionLabel
    WHERE
    {
      ?idExtension wdt:P31 wd:Q235557 ;
                   wdt:P1195 ?extension .
      OPTIONAL { ?idExtension wdt:P1163 ?mediaType }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    ORDER BY ?extension ?mediaType
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of computer files formats
  description: ''
- name: List of W3C standards
  namespace: examples
  domain: wikidata.org
  query_id: list-of-w3c-standards--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?standard ?standardLabel ?website
    WHERE
    {
            ?standard wdt:P1462 wd:Q37033 .
            OPTIONAL{ ?standard wdt:P856 ?website }
            SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    ORDER BY ?standardLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of W3C standards
  description: ''
- name: Oldest software
  namespace: examples
  domain: wikidata.org
  query_id: oldest-software--examples@wikidata.org
  sparql: |
    SELECT ?software ?softwareLabel ?date (ROUND((NOW() - ?date)/365.2425) AS ?age)
    {
      ?software wdt:P31/wdt:P139* wd:Q7397.
      OPTIONAL { ?software wdt:P571 ?date. }
      OPTIONAL { ?software p:P348/pq:P577 ?date. }
      FILTER(BOUND(?date)).
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    ORDER BY ?date
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Oldest software
  description: ''
- name: Software applications ranked in descending order by the number of writable
    file formats
  namespace: examples
  domain: wikidata.org
  query_id: software-applications-ranked-in-descending-order-by-the-number-of-writable-file-formats--examples@wikidata.org
  sparql: |
    #defaultView:BubbleChart
    #title:<translate><!--T:779--> Software applications ranked in descending order by the number of writable file formats</translate>
    SELECT ?app ?appLabel (COUNT(?format) AS ?count)
    WHERE {
      ?app (p:P31/ps:P31/wdt:P279) wd:Q7397 .
      ?app wdt:P1072 ?format .

      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en" .

    }
      }

    GROUP BY ?app ?appLabel
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Software applications ranked in descending order by the number of writable
    file formats
  description: ''
- name: Return a bubble chart of mediatypes by count of file formats
  namespace: examples
  domain: wikidata.org
  query_id: return-a-bubble-chart-of-mediatypes-by-count-of-file-formats--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?mediaType (COUNT (?ff) as ?count)
    WHERE
    {
      ?ff wdt:P31/wdt:P279* wd:Q235557.
      ?ff wdt:P1163 ?mediaType.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }

    GROUP BY ?mediaType
    ORDER BY DESC (?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Return a bubble chart of mediatypes by count of file formats
  description: ''
- name: All pKa data in Wikidata and the source titles
  namespace: examples
  domain: wikidata.org
  query_id: all-pka-data-in-wikidata-and-the-source-titles--examples@wikidata.org
  sparql: |2


    SELECT ?compound ?compoundLabel ?pKa ?source ?sourceLabel ?doi
    WHERE
    {
      ?compound wdt:P31 wd:Q11173 ; p:P1117 ?statement .
      ?statement rdf:type wikibase:BestRank ;
        ps:P1117 ?pKa .
      OPTIONAL {
        ?statement prov:wasDerivedFrom/pr:P248 ?source .
        OPTIONAL { ?source wdt:P356 ?doi . }
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". } #English label
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All pKa data in Wikidata and the source titles
  description: ''
- name: All CAS registry numbers in Wikidata
  namespace: examples
  domain: wikidata.org
  query_id: all-cas-registry-numbers-in-wikidata--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?compound ?compoundLabel ?cas
    WHERE
    {
      ?compound wdt:P231 ?cas .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All CAS registry numbers in Wikidata
  description: ''
- name: Chemical compounds in Wikidata sharing the same CAS registry number
  namespace: examples
  domain: wikidata.org
  query_id: chemical-compounds-in-wikidata-sharing-the-same-cas-registry-number--examples@wikidata.org
  sparql: |2


    #two chemical compounds with the same CAS registry number
    SELECT DISTINCT ?cas ?compound1 ?compound1Label ?compound2 ?compound2Label WHERE {
      ?compound1 wdt:P231 ?cas .
      ?compound2 wdt:P231 ?cas .
      FILTER (?compound1 != ?compound2)
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Chemical compounds in Wikidata sharing the same CAS registry number
  description: ''
- name: The number of Chemical compounds in Wikidata sharing the same CAS registry
    number
  namespace: examples
  domain: wikidata.org
  query_id: the-number-of-chemical-compounds-in-wikidata-sharing-the-same-cas-registry-number--examples@wikidata.org
  sparql: |2


    #The number of times a cas registry number is shared by distinct Wikidata items
    SELECT ?cas ?items
    WHERE
    {
      {SELECT DISTINCT ?cas (count(?compound) as ?items) WHERE {
          ?compound wdt:P231 ?cas .
      }
        GROUP BY ?cas }
        FILTER (?items >1)
    }
    ORDER BY desc(?items)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The number of Chemical compounds in Wikidata sharing the same CAS registry
    number
  description: ''
- name: Awarded Chemistry Nobel Prizes
  namespace: examples
  domain: wikidata.org
  query_id: awarded-chemistry-nobel-prizes--examples@wikidata.org
  sparql: |2


    #defaultView:Timeline
    SELECT DISTINCT ?item ?itemLabel ?when (YEAR(?when) as ?date) ?pic
    WHERE {
      ?item p:P166 ?awardStat . # … with an awarded(P166) statement
      ?awardStat ps:P166 wd:Q44585 . # … that has the value Nobel Prize in Chemistry (Q44585)
      ?awardStat pq:P585 ?when . # when did they receive the Nobel prize

    SERVICE wikibase:label { bd:serviceParam wikibase:language "en" . }
    OPTIONAL { ?item wdt:P18 ?pic }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Awarded Chemistry Nobel Prizes
  description: ''
- name: Images of organic acids
  namespace: examples
  domain: wikidata.org
  query_id: images-of-organic-acids--examples@wikidata.org
  sparql: |2-

    #defaultView:ImageGrid
    SELECT ?compound ?compoundLabel ?image WHERE {
      ?compound wdt:P279+
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Images of organic acids
  description: ''
- name: Boiling points of alkanes
  namespace: examples
  domain: wikidata.org
  query_id: boiling-points-of-alkanes--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?comp ?compLabel ?formula ?bp ?bpUnit ?bpUnitLabel WHERE {
      ?comp wdt:P31/wdt:P279* wd:Q41581 ;
            wdt:P274 ?formula ;
            p:P2102 [
              ps:P2102 ?bp ;
              psv:P2102/wikibase:quantityUnit ?bpUnit
            ] .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } ORDER BY DESC(?bpUnit) ASC(?bp)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Boiling points of alkanes
  description: ''
- name: Solubilities of chemicals
  namespace: examples
  domain: wikidata.org
  query_id: solubilities-of-chemicals--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?chemical ?chemicalLabel ?value ?units ?unitsLabel ?solvent ?solventLabel ?temperature ?temperatureUnit ?temperatureUnitLabel ?source ?sourceLabel ?doi
    WITH {
      SELECT DISTINCT ?chemical ?value ?units ?source ?doi ?solvent ?temperature ?temperatureUnit WHERE {
        ?chemical ?propp ?statement .
        ?statement a wikibase:BestRank ;
          ?proppsv [
            wikibase:quantityAmount ?value ;
            wikibase:quantityUnit ?units
          ] .
        OPTIONAL {
          ?statement prov:wasDerivedFrom/pr:P248 ?source .
          OPTIONAL { ?source wdt:P356 ?doi . }
        }
        ?property wikibase:claim ?propp ;
                wikibase:statementValue ?proppsv ;
                wdt:P1629 wd:Q170731 ;
                wdt:P31 wd:Q21077852 .
        OPTIONAL {
          ?statement pqv:P2076 ?temperatureNode .
          ?temperatureNode wikibase:quantityAmount ?temperature ;
                           wikibase:quantityUnit ?temperatureUnit .
        }
        OPTIONAL {
          wd:P2178 wikibase:qualifier ?qualifierS .
          ?qualifierS a owl:ObjectProperty .
          ?statement ?qualifierS ?solvent .
        }
      } GROUP BY ?chemical ?value ?units ?temperature ?temperatureUnit ?solvent ?source ?doi
    } AS %result
    WHERE {
      INCLUDE %result
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY ASC(?propEntityLabel)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Solubilities of chemicals
  description: ''
- name: Who discovered the most asteroids?
  namespace: examples
  domain: wikidata.org
  query_id: who-discovered-the-most-asteroids--examples@wikidata.org
  sparql: |2

    SELECT ?discoverer ?discovererLabel ?count
    WITH {
      SELECT ?discoverer (COUNT(?asteroid) AS ?count)
      WHERE {
        ?asteroid wdt:P31 wd:Q3863;
          wdt:P61 ?discoverer .
      }
      GROUP BY ?discoverer
      ORDER BY DESC(?count)
      LIMIT 20
    } AS %i
    WHERE {
      INCLUDE %i
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Who discovered the most asteroids?
  description: ''
- name: Who discovered the most planets? (with list)
  namespace: examples
  domain: wikidata.org
  query_id: who-discovered-the-most-planets-with-list--examples@wikidata.org
  sparql: |2

    SELECT
      ?discoverer ?discovererLabel
      (COUNT(DISTINCT ?planet) as ?count)
      (GROUP_CONCAT(DISTINCT(?planetLabel); separator=", ") as ?planets)
    WHERE
    {
      ?ppart wdt:P279* wd:Q634 .
      ?planet wdt:P31 ?ppart .
      ?planet wdt:P61 ?discoverer .
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en" .
        ?discoverer rdfs:label ?discovererLabel .
        ?planet rdfs:label ?planetLabel
      }
    }
    GROUP BY ?discoverer ?discovererLabel
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Who discovered the most planets? (with list)
  description: ''
- name: List of space probes with pictures
  namespace: examples
  domain: wikidata.org
  query_id: list-of-space-probes-with-pictures--examples@wikidata.org
  sparql: |2


    #defaultView:ImageGrid
    SELECT ?spaceProbeLabel ?date ?picture
    WHERE
    {
      ?spaceProbe wdt:P31 wd:Q26529;
            wdt:P18 ?picture;
            wdt:P619 ?date . #mandatory
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "fr,en" .
      }
    }
    ORDER BY ?date
    LIMIT 88
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of space probes with pictures
  description: ''
- name: Number of scientists per gender
  namespace: examples
  domain: wikidata.org
  query_id: number-of-scientists-per-gender--examples@wikidata.org
  sparql: |2

    SELECT ?gender (count(DISTINCT ?human) as ?number)
    WHERE
    {
      ?human wdt:P31 wd:Q5 ;
             wdt:P21 ?gender ;
             wdt:P106/wdt:P279* wd:Q901 .
    }
    GROUP BY ?gender
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Number of scientists per gender
  description: "* Items used: , \n* Properties used: , , ,"
- name: Most eponymous mathematicians
  namespace: examples
  domain: wikidata.org
  query_id: most-eponymous-mathematicians--examples@wikidata.org
  sparql: |2


    SELECT ?eponym ?eponymLabel ?count ?sample ?sampleLabel
    WHERE
    {
      {
      SELECT ?eponym (COUNT(?item) as ?count) (SAMPLE(?item) AS ?sample)
      WHERE
      {
        ?item wdt:P138 ?eponym.
        ?eponym wdt:P106 wd:Q170790.
      }
      GROUP BY ?eponym
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Most eponymous mathematicians
  description: "* Items used: \n* Properties used:"
- name: Authors of scientific articles by occupation
  namespace: examples
  domain: wikidata.org
  query_id: authors-of-scientific-articles-by-occupation--examples@wikidata.org
  sparql: |2


    #defaultView:BubbleChart
    SELECT ?occupationLabel (count(DISTINCT ?author) as ?count)
    WHERE
    {
            ?object wdt:P31 wd:Q13442814 ;
                    wdt:P50 ?author .
            ?author wdt:P106 ?occupation .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en,fr" }
    }
    GROUP BY ?occupationLabel
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authors of scientific articles by occupation
  description: ''
- name: Authors of scientific articles who received a Nobel prize
  namespace: examples
  domain: wikidata.org
  query_id: authors-of-scientific-articles-who-received-a-nobel-prize--examples@wikidata.org
  sparql: |
    #added in 2016-10

    #Authors of scientific articles who received a Nobel prize
    SELECT ?item ?itemLabel ?person ?personLabel ?_image ?award ?awardLabel
    WHERE {
      ?person wdt:P166 ?award ; #person received an award
              wdt:P31 wd:Q5 . #person is instance of human
      ?award wdt:P31/wdt:P279* wd:Q7191 . #award is a Nobel Prize
      ?item wdt:P50 ?person ; #person is an author of item
            wdt:P31 wd:Q13442814 . #item is a scientific article
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }

    OPTIONAL { ?person wdt:P18 ?_image. } #Wikimedia Commons has an image of person
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authors of scientific articles who received a Nobel prize
  description: ''
- name: Using VALUES for extracting scientific articles of specific authors
  namespace: examples
  domain: wikidata.org
  query_id: using-values-for-extracting-scientific-articles-of-specific-authors--examples@wikidata.org
  sparql: |
    SELECT ?entity ?entityLabel ?authorLabel WHERE {
      VALUES ?author {wd:Q18016466} #initialize "?author with the Wikidata item "Lydia Pintscher"
      ?entity wdt:P31 wd:Q13442814. #filter by scientific articles
      ?entity wdt:P50 ?author.
     SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Using VALUES for extracting scientific articles of specific authors
  description: "* Items used:  \n* Properties used:"
- name: Female scientists with most number of sitelinks (but not English Wikipedia)
  namespace: examples
  domain: wikidata.org
  query_id: female-scientists-with-most-number-of-sitelinks-but-not-english-wikipedia--examples@wikidata.org
  sparql: |2

    #Female scientists with most number of sitelinks (but not English Wikipedia)
    #PREFIX schema: <http://schema.org/>

    SELECT ?item ?itemLabel ?linkcount WHERE {
        ?item wdt:P31 wd:Q5 .
        ?item wdt:P21 wd:Q6581072 .
        ?item wdt:P106 wd:Q901 .
        ?item wikibase:sitelinks ?linkcount .
      FILTER (?linkcount >= 1) . # only include items with 1 or more sitelinks
      FILTER NOT EXISTS {
        ?article schema:about ?item .
        ?article schema:inLanguage "en" .
        ?article schema:isPartOf <https://en.wikipedia.org/>
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en,de,es,ar,fr" }
    }
    GROUP BY ?item ?itemLabel ?linkcount
    ORDER BY DESC(?linkcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Female scientists with most number of sitelinks (but not English Wikipedia)
  description: ''
- name: Inventors killed by their own invention
  namespace: examples
  domain: wikidata.org
  query_id: inventors-killed-by-their-own-invention--examples@wikidata.org
  sparql: |2

    SELECT ?inventor ?inventorLabel ?gadget ?gadgetLabel WHERE {
      ?inventor wdt:P157 ?gadget.
      ?gadget wdt:P61 ?inventor.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Inventors killed by their own invention
  description: ''
- name: Most cited female authors
  namespace: examples
  domain: wikidata.org
  query_id: most-cited-female-authors--examples@wikidata.org
  sparql: |-
    #added 2016-12
    ##defaultView:BubbleChart
    SELECT ?author ?authorLabel (COUNT(?publication) AS ?count)
    WHERE
    {
        ?item wdt:P2860 ?publication . #citations
        ?publication wdt:P50 ?author . #authors
        ?author wdt:P21 wd:Q6581072. #females
        SERVICE wikibase:label {
            bd:serviceParam wikibase:language "en" .
        }
    }
    GROUP BY ?author ?authorLabel
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Most cited female authors
  description: ''
- name: Scientists who have worked together but whose Erdos numbers don’t reflect
    that
  namespace: examples
  domain: wikidata.org
  query_id: scientists-who-have-worked-together-but-whose-erdos-numbers-don-t-reflect-that--examples@wikidata.org
  sparql: |2


    # Finds authors who have published scientific articles together,
    # but whose Erdos numbers are more than one apart.
    # These would appear to violate the definition of the Erdos number.

    SELECT
      # Q#s
      ?paper
      ?author1
      ?author2
      # title (either from title statement or label)
      (IF(BOUND(?title), ?title, ?paperLabel) AS ?title)
      # author labels (should be names) and their Erdos numbers
      ?author1Label
      ?erdos1
      ?author2Label
      ?erdos2
      # distance between Erdos numbers
      ?distance
    WHERE
    {
      # paper, instance of or subclass of scientific article; also has two authors
      ?paper wdt:P31/wdt:P279* wd:Q13442814;
               wdt:P50 ?author1, ?author2.
      # if it has a title, we’ll grab that as well, but it’s also okay if there’s no title
      OPTIONAL { ?paper wdt:P1476 ?title. }
      # grab Erdos numbers of the two authors
      ?author1 wdt:P2021 ?erdos1.
      ?author2 wdt:P2021 ?erdos2.
      # introduce a new variable for the difference of the Erdos numbers
      BIND(?erdos2 - ?erdos1 AS ?distance).
      # select those cases where the distance is > 1
      # (note: by *not* taking the absolute value of the distance, we avoid getting duplicated cases because the author variables might be swapped)
      FILTER(?distance > 1).
      # get *Label variables automagically
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    # sort by distance first (descending), then by first author, then by second author
    ORDER BY DESC(?distance) ?author1Label ?author2Label
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Scientists who have worked together but whose Erdos numbers don’t reflect
    that
  description: ''
- name: Map of institutions where Canadian citizens got their PhD
  namespace: examples
  domain: wikidata.org
  query_id: map-of-institutions-where-canadian-citizens-got-their-phd--examples@wikidata.org
  sparql: |2

    #defaultView:Map
    SELECT DISTINCT ?institution ?institutionLabel ?academics ?academicsLabel ?degree ?degreeLabel ?geoloc ?image WHERE {
      ?academics wdt:P31 wd:Q5 ; # instances (P31) of humans (Q5)
                 wdt:P27 wd:Q16 ; # country of citizenship
                 p:P69 ?statement . # check for an "educated at" (P69) statement
      OPTIONAL { ?academics wdt:P18 ?image }. #image

      ?statement ps:P69 ?institution . # get value of the "educated at" statement, i.e. the institution
      ?institution wdt:P625 ?geoloc . # get the geolocation of the institution

      ?statement pq:P512 ?degree . # get qualifier "academic degree" (P512)
      ?degree wdt:P31/wdt:P279* wd:Q849697 . # filter for doctoral degrees

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }

    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of institutions where Canadian citizens got their PhD
  description: thumb| Map of institutions where Canadian citizens got their PhD -
    screenshot of the query results as of 2018-08-01.
- name: The number of statements by DOI
  namespace: examples
  domain: wikidata.org
  query_id: the-number-of-statements-by-doi--examples@wikidata.org
  sparql: |
    SELECT ?doi (COUNT (?entry) as ?entries)
    {
      ?entry ?p ?statement .
      ?statement prov:wasDerivedFrom/pr:P248/wdt:P356 ?doi .
    }
    GROUP BY ?doi
    ORDER BY DESC(?entries)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The number of statements by DOI
  description: ''
- name: number of statements backed by a reference with a DOI
  namespace: examples
  domain: wikidata.org
  query_id: number-of-statements-backed-by-a-reference-with-a-doi--examples@wikidata.org
  sparql: |2


    SELECT (COUNT (?statement) as ?statements)
    WHERE
    {
      ?entry ?p ?statement .
      ?statement prov:wasDerivedFrom/
           <http://www.wikidata.org/prop/reference/P248>/
           wdt:P356 ?doi .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: number of statements backed by a reference with a DOI
  description: ''
- name: Statements originating from a specific DOI
  namespace: examples
  domain: wikidata.org
  query_id: statements-originating-from-a-specific-doi--examples@wikidata.org
  sparql: |2


    SELECT ?entryRes ?entry ?statement
    WHERE
    {
      ?entryRes ?p ?statement ;
        rdfs:label ?entry .
      ?statement prov:wasDerivedFrom/
           <http://www.wikidata.org/prop/reference/P248>/
           wdt:P356 "10.1021/JA01577A030" .
       FILTER(lang(?entry) = "en")
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Statements originating from a specific DOI
  description: ''
- name: Translations of the Disease Ontology term DOID:399 (Tuberculosis)
  namespace: examples
  domain: wikidata.org
  query_id: translations-of-the-disease-ontology-term-doid-399-tuberculosis--examples@wikidata.org
  sparql: |
    SELECT ?English ?language ?label WHERE {
      ?disease wdt:P699 "DOID:399";
                 rdfs:label ?English;
                 rdfs:label ?label .
      BIND(LANG(?label) as ?languageCode)
      ?wdLanguage wdt:P424 ?languageCode;
                  rdfs:label ?language .
        FILTER EXISTS {?wdLanguage wdt:P31?/wdt:P279+ wd:Q17376908}
      FILTER (LANG(?English)="en")
      FILTER (LANG(?language)="en")
    } ORDER BY ?language
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Translations of the Disease Ontology term DOID:399 (Tuberculosis)
  description: '* Properties used:'
- name: Library and Information Science journals
  namespace: examples
  domain: wikidata.org
  query_id: library-and-information-science-journals--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?journal ?name WHERE {
        ?journal wdt:P31 wd:Q5633421 . # is scientific journal
        {
                { ?journal wdt:P921 wd:Q199655 }   # with topic library science
          UNION { ?journal wdt:P921 wd:Q16387 }    # and/or topic information science
          UNION { ?journal wdt:P921 wd:Q13420675 } # and/or topic library and information science
        }
        SERVICE wikibase:label {
            bd:serviceParam wikibase:language "en" .
            ?journal rdfs:label ?name .
        }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Library and Information Science journals
  description: "* items used:     \n* Properties used:"
- name: Most popular subjects of scientific articles
  namespace: examples
  domain: wikidata.org
  query_id: most-popular-subjects-of-scientific-articles--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:780--> Most popular subjects of scientific articles</translate>
    SELECT (count(?work) as ?count) ?subject ?subjectLabel where {
      ?work wdt:P31 wd:Q13442814;
            wdt:P921 ?subject .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    GROUP BY ?subject ?subjectLabel
    ORDER BY desc(?count)
    LIMIT 200
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Most popular subjects of scientific articles
  description: ''
- name: Galaxies ordered by the ones that are most linked from scientific articles
  namespace: examples
  domain: wikidata.org
  query_id: galaxies-ordered-by-the-ones-that-are-most-linked-from-scientific-articles--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:781--> Galaxies ordered by the ones that are most linked from scientific articles</translate>
    #author: So9q
    #date:2021-10-27
    #note:I deliberately choose a smaller subgraph (galaxies) to prevent a timeout on WDQS
    SELECT ?main_subject ?main_subjectLabel (count(?item) as ?c)
    WHERE
    {
      ?item wdt:P31 wd:Q13442814;
            wdt:P921 ?main_subject.
      ?main_subject wdt:P31/wdt:P279* wd:Q318.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    GROUP BY ?main_subject ?main_subjectLabel
    ORDER BY DESC(?c)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Galaxies ordered by the ones that are most linked from scientific articles
  description: ''
- name: Scientific journals with editors on Twitter
  namespace: examples
  domain: wikidata.org
  query_id: scientific-journals-with-editors-on-twitter--examples@wikidata.org
  sparql: |2-

    SELECT ?journal ?journalLabel ?editor ?editorLabel ?twitter ?ex_publisher ?ex_publisherLabel
    WITH {
      SELECT ?journal ?editor ?twitter (SAMPLE(?publisher) AS ?ex_publisher) WHERE {
        ?journal wdt:P31 wd:Q5633421 ; wdt:P98 ?editor .
        OPTIONAL { ?journal wdt:P123 ?publisher }
        ?editor wdt:P2002 ?twitter .
      } GROUP BY ?journal ?editor ?twitter
    } AS %result
    WHERE {
      INCLUDE %result
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } ORDER BY ?journalLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Scientific journals with editors on Twitter
  description: ''
- name: Mathematical proofs
  namespace: examples
  domain: wikidata.org
  query_id: mathematical-proofs--examples@wikidata.org
  sparql: |2


    SELECT ?proof ?proofLabel
    WHERE
    {
      ?proof wdt:P31 wd:Q11538.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Mathematical proofs
  description: ''
- name: Timeline of death of mathematicans and their theorems
  namespace: examples
  domain: wikidata.org
  query_id: timeline-of-death-of-mathematicans-and-their-theorems--examples@wikidata.org
  sparql: |2

    #defaultView:Timeline
    SELECT
      ?genderLabel
      ?theorem
      ?theoremLabel
      ?nameLabel
      ?death
      ?formula
    WHERE {
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,de,pl". }
      ?theorem wdt:P31 wd:Q65943;
               wdt:P138 ?name.
      ?name    wdt:P570 ?death;
               wdt:P21 ?gender .
      # OPTIONAL{
      ?theorem wdt:P2534 ?formula.
      # }
    }
    ORDER BY DESC(?death)
    LIMIT 100
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Timeline of death of mathematicans and their theorems
  description: ''
- name: Databases listed in Wikidata and if available applicable licenses
  namespace: examples
  domain: wikidata.org
  query_id: databases-listed-in-wikidata-and-if-available-applicable-licenses--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT *
    WHERE
    {
      ?item wdt:P31 wd:Q8513 ;
        rdfs:label ?name .
      OPTIONAL { ?item wdt:P275 ?licenseItem .
          ?licenseItem rdfs:label ?license .
          FILTER (LANG(?license) = "en")}
      FILTER (LANG(?name) = "en")
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Databases listed in Wikidata and if available applicable licenses
  description: ''
- name: Fictional universes with most fictional planets
  namespace: examples
  domain: wikidata.org
  query_id: fictional-universes-with-most-fictional-planets--examples@wikidata.org
  sparql: |2


    SELECT ?universe (SAMPLE(?label) AS ?label) (COUNT(?planet) AS ?count)
    WHERE
    {
      ?planet wdt:P31 wd:Q2775969;
              wdt:P1080 ?universe.
      ?universe rdfs:label ?label.
      FILTER(LANG(?label) = "en").
    }
    GROUP BY ?universe
    ORDER BY DESC(?count)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Fictional universes with most fictional planets
  description: ''
- name: Objects with most mass
  namespace: examples
  domain: wikidata.org
  query_id: objects-with-most-mass--examples@wikidata.org
  sparql: |2

    SELECT ?object ?objectLabel ?mass WHERE {
      {
        SELECT ?object (MAX(?mass) AS ?mass) WHERE {
          ?object p:P2067/psn:P2067/wikibase:quantityAmount ?mass.
          MINUS { ?object wdt:P31 wd:Q3647172. }
        }
        GROUP BY ?object
        ORDER BY DESC(?mass)
        LIMIT 100
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    ORDER BY DESC(?mass)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Objects with most mass
  description: ''
- name: Biological databases listed in Wikidata and, if available, applicable licenses
  namespace: examples
  domain: wikidata.org
  query_id: biological-databases-listed-in-wikidata-and-if-available-applicable-licenses--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel ?url ?licence ?licenceLabel
    WHERE {
      ?item wdt:P31 wd:Q4117139.
      OPTIONAL { ?item wdt:P856 ?url }
      OPTIONAL { ?item wdt:P275 ?licence }
    SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    } ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Biological databases listed in Wikidata and, if available, applicable licenses
  description: ''
- name: American universities founded before the states they reside in were created
  namespace: examples
  domain: wikidata.org
  query_id: american-universities-founded-before-the-states-they-reside-in-were-created--examples@wikidata.org
  sparql: |
    SELECT ?uLabel ?founded ?stateLabel ?stateStart
    WHERE {
      ?u wdt:P31/wdt:P279* wd:Q3918 ;
           wdt:P131+ ?state ;
           wdt:P571 ?founded .
      ?state wdt:P31 wd:Q35657 ;
               wdt:P571 ?stateStart .
      FILTER (?founded < ?stateStart) .
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
      }
    }
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: American universities founded before the states they reside in were created
  description: "* Items used: . \n* Properties used: , , , ,"
- name: Universities ranked by PageRank on English Wikipedia (federated query)
  namespace: examples
  domain: wikidata.org
  query_id: universities-ranked-by-pagerank-on-english-wikipedia-federated-query--examples@wikidata.org
  sparql: |
    PREFIX vrank:<http://purl.org/voc/vrank#>

    SELECT DISTINCT ?uni ?uniLabel ?pr WHERE {
      ?uni wdt:P31/wdt:P279* wd:Q3918.
      SERVICE <http://dbpedia.org/sparql> {
        ?uni vrank:hasRank/vrank:rankValue ?pr
      }
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
      }
    } ORDER BY DESC(?pr) LIMIT 50
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Universities ranked by PageRank on English Wikipedia (federated query)
  description: "*  Items used: \n*  Properties used: ,"
- name: List of presidents with causes of death
  namespace: examples
  domain: wikidata.org
  query_id: list-of-presidents-with-causes-of-death--examples@wikidata.org
  sparql: |
    SELECT ?h ?hLabel ?cause ?causeLabel (YEAR(?date) AS ?year) WHERE {
    ?h wdt:P39 wd:Q11696;
       wdt:P509 ?cause;
       wdt:P570 ?date
    SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } ORDER BY ?year
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of presidents with causes of death
  description: "*  Items used: \n*  Properties used: ,"
- name: Presidents and their causes of death ranking
  namespace: examples
  domain: wikidata.org
  query_id: presidents-and-their-causes-of-death-ranking--examples@wikidata.org
  sparql: |2


    #defaultView:BubbleChart
    SELECT ?cid ?cause (count(*) as ?count)
    WHERE
    {
      ?pid wdt:P39 wd:Q11696 .
      ?pid wdt:P509 ?cid .
      OPTIONAL {
        ?cid rdfs:label ?cause FILTER (lang(?cause) = "en") .
      }
    }
    GROUP BY ?cid ?cause
    ORDER BY DESC(?count) ASC(?cause)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Presidents and their causes of death ranking
  description: ''
- name: Politicians who died of cancer (of any type)
  namespace: examples
  domain: wikidata.org
  query_id: politicians-who-died-of-cancer-of-any-type--examples@wikidata.org
  sparql: |2

    SELECT ?politician ?cause ?politician_label ?cause_of_death_label
    WHERE
    {
      ?politician wdt:P106 wd:Q82955 .    # find items that have "occupation (P106): politician (Q82955)"
      ?politician wdt:P509 ?cause .       # with a P509 (cause of death) claim
      ?cause wdt:P279* wd:Q12078 .        # ... where the cause is a subclass of (P279*) cancer (Q12078)
      # ?politician wdt:P39 wd:Q11696 .   # Uncomment this line to include only U.S. Presidents

      OPTIONAL {?politician rdfs:label ?politician_label FILTER (lang(?politician_label) = "en") .}
      OPTIONAL {?cause rdfs:label ?cause_of_death_label FILTER (lang(?cause_of_death_label) = "en").}
    }
    ORDER BY ASC (?politician)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Politicians who died of cancer (of any type)
  description: "* Items used: , \n* Properties used: , ,"
- name: List of popes
  namespace: examples
  domain: wikidata.org
  query_id: list-of-popes--examples@wikidata.org
  sparql: |2


    SELECT ?link ?linkLabel ?picture ?age
    WHERE
    {
      ?link wdt:P31 wd:Q5 ;
              p:P39 [ ps:P39 wd:Q19546 ; pq:P580 ?startTime ] .
      OPTIONAL { ?link wdt:P569 ?dateOfBirth }
      OPTIONAL { ?link wdt:P18 ?picture }
      OPTIONAL { ?link wdt:P570 ?dateOfDeath }
      BIND(YEAR(?dateOfDeath) - YEAR(?dateOfBirth) as ?age)
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],fr,en" }
    }
    ORDER BY DESC(?startTime)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of popes
  description: "*  Items used:  \n*  Properties used:"
- name: List of countries in 1754
  namespace: examples
  domain: wikidata.org
  query_id: list-of-countries-in-1754--examples@wikidata.org
  sparql: |
    #updated 2020-12-06
    SELECT DISTINCT ?h ?hLabel ?inception ?dissolved ?coor
    WHERE
    {
      VALUES ?countryclass { wd:Q3024240 wd:Q6256 wd:Q3624078 }
      ?h p:P31/ps:P31 ?countryclass .
      ?h wdt:P571 ?inception .
      OPTIONAL { ?h wdt:P576 ?dissolved } .
      FILTER (?inception < "1755-01-01T00:00:00Z"^^xsd:dateTime)
      FILTER (?dissolved >= "1755-01-01T00:00:00Z"^^xsd:dateTime {{!}}{{!}} !Bound(?dissolved) )
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
      OPTIONAL { ?h wdt:P625 ?coor } .
    }
    ORDER BY ?inception
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of countries in 1754
  description: |-
    *  Items used:  ( country),  ( former country),  ( sovereign state)
    *  Properties used: , ,
- name: Population in Europe after 1960
  namespace: examples
  domain: wikidata.org
  query_id: population-in-europe-after-1960--examples@wikidata.org
  sparql: |2


    SELECT ?objectLabel (YEAR(?date) as ?year)
           ?population (?objectLabel as ?Location)
    WHERE
    {
            wd:Q458 wdt:P150 ?object . # European Union contains administrative territorial entity
            ?object p:P1082 ?populationStatement .
            ?populationStatement ps:P1082 ?population ;
                                 pq:P585 ?date .
            SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
      FILTER (YEAR(?date) >= 1960)
    }
    ORDER BY ?objectLabel ?year
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Population in Europe after 1960
  description: "*  Items used: \n*  Properties used:"
- name: List of suicide attacks
  namespace: examples
  domain: wikidata.org
  query_id: list-of-suicide-attacks--examples@wikidata.org
  sparql: |2


    SELECT ?h ?hLabel ?location (CONCAT("injured: ",str(?injured)) as ?injuredl) (concat("dead: ",str(?dead)) as ?deadl) ?date ?image
    WHERE
    {
            ?h wdt:P31 ?attack.
        values (?attack) {
          (wd:Q18493502)
          (wd:Q217327)

        }
        OPTIONAL { ?h wdt:P1339 ?injured . }
        OPTIONAL { ?h wdt:P1120 ?dead. }
        OPTIONAL { ?h wdt:P276?/wdt:P625 ?location }
        OPTIONAL { ?h wdt:P585 ?date }
        OPTIONAL { ?h wdt:P18 ?image }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of suicide attacks
  description: ''
- name: People elevated in the public domain in 2020 "life+50 years"
  namespace: examples
  domain: wikidata.org
  query_id: people-elevated-in-the-public-domain-in-2020-life-50-years--examples@wikidata.org
  sparql: |
    #added before 2019-02

    #Shows people raised in the public domain "life + 50 years".
    SELECT ?item ?itemLabel ?genderLabel (GROUP_CONCAT(DISTINCT ?occupationLabel; SEPARATOR=", ") AS ?occupations) (GROUP_CONCAT(DISTINCT ?countryLabel; SEPARATOR=", ") AS ?countries) ?death ?articles {
      VALUES ?target_country { wd:Q16 wd:Q142 wd:Q39 wd:Q31 wd:Q30 } . #countries: Canada, France, Switzerland, Belgium, USA. Removing this line to get worldwide may cause a query timeout.
      VALUES ?occ { wd:Q2500638 wd:Q20826540 wd:Q215627 } . #occupation: creator, erudite, person. These 3 occupations will also look for subclasses. Example: Alan Turing is a cryptographer, a subclass of cryptologist, a subclass of mathematician, a subclass of scientist, a subclass of erudite.
       ?item wdt:P31 wd:Q5;
                   wdt:P21 ?gender;
                   wdt:P27 ?target_country;
                   wdt:P27 ?country;
                   wdt:P106/wdt:P279* ?occ ;
                   wdt:P106 ?occupation;
                   wikibase:sitelinks ?articles . #Service to count the number of articles in Wikipedia language versions. The higher the number, the greater the chances that the person is very notorious.
       ?item wdt:P570 ?death . hint:Prior hint:rangeSafe true .
       FILTER( ?death >= "1969-01-01T00:00:00"^^xsd:dateTime && ?death < "1970-01-01T00:00:00"^^xsd:dateTime ) #death: public domain "life+50 years". Change both years to get a list in different legislation. Example for USA: life+70 years
       SERVICE wikibase:label {
           bd:serviceParam wikibase:language "fr,en" . #Service to retrieve the labels of items, in order of language. Example: if the label does not exist in French, the service will take the English label
           ?item rdfs:label ?itemLabel .
           ?gender rdfs:label ?genderLabel .
           ?occupation rdfs:label ?occupationLabel .
           ?country rdfs:label ?countryLabel .
       } .
    } GROUP BY ?item ?itemLabel ?genderLabel ?death ?articles ORDER BY DESC (?articles) #Order by the number of articles in Wikipedia language versions. The most notorious people will be at the top of the list.
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: People elevated in the public domain in 2020 "life+50 years"
  description: ''
- name: People who were stateless for some time
  namespace: examples
  domain: wikidata.org
  query_id: people-who-were-stateless-for-some-time--examples@wikidata.org
  sparql: |2

    # persons who were stateless (country of citizenship: no value) for some time (start time and end time qualifiers)
    SELECT ?person ?personLabel ?start ?end WHERE {
      ?person wdt:P31 wd:Q5;
              p:P27 [
                rdf:type wdno:P27;
                pq:P580 ?start;
                pq:P582 ?end
              ].
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY DESC(?end - ?start)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: People who were stateless for some time
  description: ''
- name: Poets who were through An Lushan Rebellion
  namespace: examples
  domain: wikidata.org
  query_id: poets-who-were-through-an-lushan-rebellion--examples@wikidata.org
  sparql: |2

    # Poets who were through An Lushan Rebellion
    SELECT ?poet ?poetLabel WHERE {
     SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],zh-hant,zh". }
     wd:Q253774 wdt:P580 ?battleStartTime.
     wd:Q253774 wdt:P582 ?battleEndTime.
     ?poet wdt:P106 wd:Q49757.
     ?poet wdt:P497 ?cbdbId.
     ?poet wdt:P569 ?birthDate.
      FILTER(?birthDate < ?battleStartTime).
      ?poet wdt:P570 ?deathDate.
      FILTER(?deathDate > ?battleEndTime).
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Poets who were through An Lushan Rebellion
  description: ''
- name: Periods of Japanese history and what they were named after
  namespace: examples
  domain: wikidata.org
  query_id: periods-of-japanese-history-and-what-they-were-named-after--examples@wikidata.org
  sparql: |
    SELECT ?era ?eraLabel (YEAR(?start_time) AS ?start) (YEAR(?end_time) AS ?end) ?namedLabel ?namedDescription WHERE {
    ?era wdt:P31 wd:Q11514315; wdt:P361 wd:Q130436; # eras of the history of Japan
      wdt:P580 ?start_time.
    MINUS { ?era wdt:P2348/wdt:P361 wd:Q130436 } # exclude sub-eras
    OPTIONAL { ?era wdt:P582 ?end_time } # optional end-time to make sure we include the current era
    OPTIONAL { ?era wdt:P138 ?named }
    SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    } ORDER BY ?start DESC(?end)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Periods of Japanese history and what they were named after
  description: ''
- name: Ancestors of Willem-Alexander of the Netherlands
  namespace: examples
  domain: wikidata.org
  query_id: ancestors-of-willem-alexander-of-the-netherlands--examples@wikidata.org
  sparql: |-
    SELECT DISTINCT ?item ?itemLabel ?dateofbirth WHERE {
      wd:Q154952 (wdt:P22
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Ancestors of Willem-Alexander of the Netherlands
  description: ''
- name: All events that occured on 2001/09/11
  namespace: examples
  domain: wikidata.org
  query_id: all-events-that-occured-on-2001-09-11--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel
    WHERE
    {
      ?item p:P585/ps:P585 "2001-09-11T00:00:00Z"^^xsd:dateTime
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All events that occured on 2001/09/11
  description: ''
- name: Everything with a time property on a given date
  namespace: examples
  domain: wikidata.org
  query_id: everything-with-a-time-property-on-a-given-date--examples@wikidata.org
  sparql: |
    SELECT (GROUP_CONCAT(?classLabel; SEPARATOR = "; ") AS ?classes) ?propLabel ?i ?iLabel ?iDescription WHERE {
      {
        SELECT ?i ?prop ?class WHERE {
          {
            SELECT ?prop ?p WHERE {
              ?prop wikibase:directClaim ?p;
                (wdt:P31/(wdt:P279*)) wd:Q18636219.
            }
          }
          ?i ?p "2001-5-11"^^xsd:dateTime.
          OPTIONAL { ?i wdt:P31 ?class }
        }
        LIMIT 1000
      }
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
        ?class rdfs:label ?classLabel.
        ?prop rdfs:label ?propLabel.
        ?i rdfs:label ?iLabel;
          schema:description ?iDescription.
      }
    }
    GROUP BY ?propLabel ?i ?iLabel ?iDescription
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Everything with a time property on a given date
  description: ''
- name: Cathedrals in Paris
  namespace: examples
  domain: wikidata.org
  query_id: cathedrals-in-paris--examples@wikidata.org
  sparql: |2


    SELECT ?item ?itemLabel ?placeLabel ?coords ?image
    WHERE
    {
      ?item wdt:P31 wd:Q2977 .
      ?item wdt:P131 ?place .
      ?place wdt:P131 wd:Q90 .
      OPTIONAL { ?item wdt:P625 ?coords . }
      OPTIONAL { ?item wdt:P18 ?image . }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "fr" . }
    } ORDER BY ?placeLabel ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Cathedrals in Paris
  description: "* Items used:  \n* Properties used:"
- name: Churches in church district Wittenberg
  namespace: examples
  domain: wikidata.org
  query_id: churches-in-church-district-wittenberg--examples@wikidata.org
  sparql: |2

    #defaultView:Map{"layer": "?pbLabel"}
    SELECT ?item ?itemLabel ?pbLabel (SAMPLE(?cat) AS ?cat) (SAMPLE(?coord) AS ?coord) (SAMPLE(?img) AS ?img)
    WHERE {
      wd:Q75849591 wdt:P527 [ wdt:P527 ?item; wdt:P361 ?pb ].
      ?pb wdt:P31 wd:Q76598130.
      ?item wdt:P625 ?coord.
      OPTIONAL { ?item wdt:P373 ?cat. }
      OPTIONAL { ?item wdt:P18 ?img. }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "de". }
    } GROUP BY ?item ?itemLabel ?pbLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Churches in church district Wittenberg
  description: ''
- name: Special church type "Spitalkirche" in Germany
  namespace: examples
  domain: wikidata.org
  query_id: special-church-type-spitalkirche-in-germany--examples@wikidata.org
  sparql: |2

    #defaultView:Map
    SELECT ?pid ?name ?coord ?ort ?ortLabel
    WHERE
    {
      ?pid wdt:P31 wd:Q16970.
      ?pid rdfs:label ?name
      FILTER((LANG(?name)) = "de")
      FILTER(REGEX(STR(?name), "[Ss]pitalkirche")).
      ?pid wdt:P131 ?ort.
      ?pid wdt:P17 wd:Q183.
      ?pid wdt:P625 ?coord.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "de,en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Special church type "Spitalkirche" in Germany
  description: ''
- name: Museums in Brittany
  namespace: examples
  domain: wikidata.org
  query_id: museums-in-brittany--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?museumLabel ?museumDescription ?villeId ?villeIdLabel (?villeIdLabel AS ?ville) ?coord ?lat ?lon
    WHERE
    {
      ?museum wdt:P539 ?museofile. # french museofile Id
      ?museum wdt:P131* wd:Q12130. # in Brittany
      ?museum wdt:P131 ?villeId. #city of the museum
      # ?object wdt:P166 wd:Q2275045 # that have french label "musées de France"
      OPTIONAL {?museum wdt:P856 ?link.} # official website
      OPTIONAL {?museum wdt:P625 ?coord .} # geographic coord
      OPTIONAL {
        ?museum p:P625 ?statement.
        ?statement psv:P625 ?node.
        ?node wikibase:geoLatitude ?lat.
        ?node wikibase:geoLongitude ?lon.
       }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "fr". } #french label
    }
    ORDER BY ?villeIdLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Museums in Brittany
  description: ''
- name: All museums in Barcelona with coordinates
  namespace: examples
  domain: wikidata.org
  query_id: all-museums-in-barcelona-with-coordinates--examples@wikidata.org
  sparql: |2


    #All museums (including subclass of museum) in Barcelona with coordinates
    SELECT DISTINCT ?item ?name ?coord ?lat ?lon
    WHERE
    {
     hint:Query hint:optimizer "None" .
     ?item wdt:P131* wd:Q1492 .
     ?item wdt:P31/wdt:P279* wd:Q33506 .
     ?item wdt:P625 ?coord .
     ?item p:P625 ?coordinate .
     ?coordinate psv:P625 ?coordinate_node .
     ?coordinate_node wikibase:geoLatitude ?lat .
     ?coordinate_node wikibase:geoLongitude ?lon .
     SERVICE wikibase:label {
     bd:serviceParam wikibase:language "ca" .
     ?item rdfs:label ?name
     }
    }
    ORDER BY ASC (?name)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All museums in Barcelona with coordinates
  description: ''
- name: List of actors with pictures with year of birth and/or death
  namespace: examples
  domain: wikidata.org
  query_id: list-of-actors-with-pictures-with-year-of-birth-and-or-death--examples@wikidata.org
  sparql: |2


    #defaultView:ImageGrid
    SELECT ?human ?humanLabel ?yob ?yod ?picture
    WHERE
    {
      ?human wdt:P31 wd:Q5 ;
             wdt:P106 wd:Q33999 .
      ?human wdt:P18 ?picture .
      OPTIONAL { ?human wdt:P569 ?dob . ?human wdt:P570 ?dod }.
      BIND(YEAR(?dob) as ?yob) . #if available: year
      BIND(YEAR(?dod) as ?yod) .
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en" .
      }
    }
    LIMIT 88
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of actors with pictures with year of birth and/or death
  description: ''
- name: Actors who played the same role more than 40 years apart
  namespace: examples
  domain: wikidata.org
  query_id: actors-who-played-the-same-role-more-than-40-years-apart--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?actor ?actorLabel ?characterLabel ?movie1Label ?movie2Label WHERE {
      ?movie1 p:P161 [
                ps:P161 ?actor;
                pq:P453 ?character
              ];
              wdt:P577 ?movie1Publication.
      ?movie2 p:P161 [
                ps:P161 ?actor;
                pq:P453 ?character
              ];
              wdt:P577 ?movie2Publication.
      MINUS{?movie1 wdt:P31/wdt:P279? wd:Q24856} # Not a series
      MINUS{?movie2 wdt:P31/wdt:P279? wd:Q24856} # Not a series
      FILTER(?character != wd:Q18086706). # Not as "themselves"
      FILTER(?movie1Publication + "P40Y"^^xsd:duration < ?movie2Publication) # 40 years between them
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Actors who played the same role more than 40 years apart
  description: ''
- name: Films of directors by their English Wikipedia name
  namespace: examples
  domain: wikidata.org
  query_id: films-of-directors-by-their-english-wikipedia-name--examples@wikidata.org
  sparql: |2

    SELECT ?film ?filmLabel ?genere ?d WHERE {
      {
        SELECT ?film (GROUP_CONCAT(DISTINCT ?gL; SEPARATOR = ", ") AS ?genere) (MIN(YEAR(?date)) AS ?d) WHERE {
          ?sitelink schema:about ?director;
            schema:isPartOf <https://en.wikipedia.org/>;
            schema:name "Steven Spielberg"@en. # Edit this with different director's name to see their films. Use the English Wikipedia title only.
          ?film wdt:P31 wd:Q11424;
            wdt:P136 ?g, ?g.
          ?g rdfs:label ?gL.
          ?film wdt:P57 ?director;
            wdt:P577 ?date.
          FILTER((LANG(?gL)) = "en")
          SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
        }
        GROUP BY ?film
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    ORDER BY DESC (?d)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Films of directors by their English Wikipedia name
  description: ''
- name: Winner of the Academy Awards by Award and Time
  namespace: examples
  domain: wikidata.org
  query_id: winner-of-the-academy-awards-by-award-and-time--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?item ?itemLabel ?awardLabel ?time
    {
        ?item wdt:P106/wdt:P279* wd:Q3455803 ; # Items with the Occupation(P106) of Director(Q3455803) or a subclass(P279)
              p:P166 ?awardStat .              # ... with an awarded(P166) statement
        ?awardStat pq:P805 ?award ;            # Get the award (which is "subject of" XXth Academy Awards)
                   ps:P166 wd:Q103360 .        # ... that has the value Academy Award for Best Director(Q103360)
        ?award wdt:P585 ?time .                # the "point of time" of the Academy Award
        SERVICE wikibase:label {               # ... include the labels
            bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en"
        }
    }
    ORDER BY DESC(?time)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Winner of the Academy Awards by Award and Time
  description: ''
- name: Academy award data
  namespace: examples
  domain: wikidata.org
  query_id: academy-award-data--examples@wikidata.org
  sparql: |2+

  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Academy award data
  description: "* items used:  \n* Properties used:"
- name: People that received both Academy Award and Nobel Prize
  namespace: examples
  domain: wikidata.org
  query_id: people-that-received-both-academy-award-and-nobel-prize--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?Person ?PersonLabel ?NobelPrizeLabel ?AcademyAwardLabel WHERE {
      ?NobelPrize wdt:P279?/wdt:P31? wd:Q7191 .    # <- subtypes of nobel prize
      ?AcademyAward wdt:P279?/wdt:P31? wd:Q19020 . # <- subtypes of academy award
      ?Person wdt:P166? ?NobelPrize .              # <- people awarded a nobel prize
      ?Person wdt:P166? ?AcademyAward .            # <- people awarded an academy award
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" .
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: People that received both Academy Award and Nobel Prize
  description: ''
- name: Number of handed out Academy Awards per award type
  namespace: examples
  domain: wikidata.org
  query_id: number-of-handed-out-academy-awards-per-award-type--examples@wikidata.org
  sparql: |2


    SELECT ?awardCount ?award ?awardLabel WHERE {
      {
        SELECT (COUNT(?award) AS ?awardCount) ?award
        WHERE
        {
          {
            SELECT (SAMPLE(?human) AS ?human) ?award ?awardWork (SAMPLE(?director) AS ?director) (SAMPLE(?awardEdition) AS ?awardEdition) (SAMPLE(?time) AS ?time) WHERE {
              ?award wdt:P31 wd:Q19020 .      # All items that are instance of(P31) of Academy awards (Q19020)
              {
                ?human p:P166 ?awardStat .              # Humans with an awarded(P166) statement
                ?awardStat ps:P166 ?award .        # ... that has any of the values of ?award
                ?awardStat pq:P805 ?awardEdition . # Get the award edition (which is "subject of" XXth Academy Awards)
                ?awardStat pq:P1686 ?awardWork . # The work they have been awarded for
                ?human wdt:P31 wd:Q5 .        # Humans
              } UNION {
                ?awardWork wdt:P31 wd:Q11424 . # Films
                ?awardWork p:P166 ?awardStat . # ... with an awarded(P166) statement
                ?awardStat ps:P166 ?award .        # ... that has any of the values of ?award
                ?awardStat pq:P805 ?awardEdition . # Get the award edition (which is "subject of" XXth Academy Awards)
              }
              OPTIONAL {
                ?awardEdition wdt:P585 ?time . # the "point of time" of the Academy Award
                ?awardWork wdt:P57 ?director .
              }
            }
            GROUP BY ?awardWork ?award # We only want every movie once for a category (a 'random' person is selected)
          }
        } GROUP BY ?award
        ORDER BY ASC(?awardCount)
      }
      SERVICE wikibase:label { # ... include the labels
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" .
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Number of handed out Academy Awards per award type
  description: "* Items used: , \n* Properties used: , , , ,"
- name: Film directors ranked by number of sitelinks multiplied by their number of
    films
  namespace: examples
  domain: wikidata.org
  query_id: film-directors-ranked-by-number-of-sitelinks-multiplied-by-their-number-of-films--examples@wikidata.org
  sparql: |
    SELECT ?director ?director_label ?films ?sitelinks ((?films * ?sitelinks) as ?rank)
    WHERE {
      {SELECT ?director (count(DISTINCT ?film) as ?films) (count(DISTINCT ?sitelink) as ?sitelinks)
         WHERE {
           ?director wdt:P106 wd:Q2526255 .         # has "film director" as occupation
         ?film wdt:P57 ?director .            # get all films directed by the director
           ?sitelink schema:about ?director .       # get all the sitelinks about the director
           } GROUP BY ?director }
    SERVICE wikibase:label {
      bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". # Get label if it exists
    ?director rdfs:label ?director_label }
    } ORDER BY DESC(?rank)
    LIMIT 100
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Film directors ranked by number of sitelinks multiplied by their number of
    films
  description: ''
- name: The Simpsons television series episodes list by season
  namespace: examples
  domain: wikidata.org
  query_id: the-simpsons-television-series-episodes-list-by-season--examples@wikidata.org
  sparql: |
    SELECT ?show ?showLabel ?seasonNumber ?episode ?episodeLabel
    WHERE {
      BIND(wd:Q886 as ?show) .
      ?season wdt:P179 ?show;
              wdt:P527 ?episode;
              p:P179 [pq:P1545 ?seasonNumber] .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    ORDER BY xsd:integer(?seasonNumber)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: The Simpsons television series episodes list by season
  description: "* Items used: \n* Properties used: ,"
- name: Law & Order episodes
  namespace: examples
  domain: wikidata.org
  query_id: law-order-episodes--examples@wikidata.org
  sparql: |
    # All Law & Order episodes on Wikidata.
    # According to enwp, “[a] total of 456 original episodes… aired before cancellation” (https://en.wikipedia.org/wiki/List_of_Law_%26_Order_episodes).
    # As of this writing, the query returns 451 results, so some episodes are missing (either without item or lacking the necessary statements to match this query).

    SELECT (SAMPLE(?seasonNumber) AS ?seasonNumber) (SAMPLE(?episodeNumber) AS ?episodeNumber) (SAMPLE(?title) AS ?title) (MIN(?pubDate) AS ?pubDate) ?episode
    {
      # All episodes should be instance of episode with series Law & Order.
      ?episode wdt:P31 wd:Q21191270;
               wdt:P179 wd:Q321423.
      # Many of them also have the season as series, so we can get episode and season number from qualifiers there.
      OPTIONAL {
        ?episode p:P179 [
          # the season also has series Law & Order
          ps:P179/p:P179 [
            ps:P179 wd:Q321423;
                    pq:P1545 ?seasonNumber
          ] ;
          pq:P1545 ?episodeNumber
        ]
      }
      OPTIONAL { ?episode wdt:P1476 ?title. }
      OPTIONAL { ?episode wdt:P577 ?pubDate. }
    }
    GROUP BY ?episode # make sure we return each episode only once – a few have multiple publication dates, for example
    ORDER BY IF(BOUND(?seasonNumber), xsd:integer(?seasonNumber), 1000) xsd:integer(?episodeNumber) ?title
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Law & Order episodes
  description: "* Items used:  \n* Properties used:"
- name: Main subjects of West Wing episodes
  namespace: examples
  domain: wikidata.org
  query_id: main-subjects-of-west-wing-episodes--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?episode ?ordinal ?episodeLabel ?subject ?subjectLabel
    WHERE {
      ?episode wdt:P31/wdt:P279* wd:Q1983062;
               p:P179 ?statement.
      OPTIONAL{ ?episode wdt:P921 ?subject }
      ?statement ps:P179 wd:Q3577037;
                 pq:P1545 ?ordinal
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    } ORDER BY xsd:integer(?ordinal)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Main subjects of West Wing episodes
  description: ''
- name: Movies with Bud Spencer
  namespace: examples
  domain: wikidata.org
  query_id: movies-with-bud-spencer--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel (MIN(?date) AS ?firstReleased) ?_image
    WHERE {
      ?item wdt:P161 wd:Q221074;
            wdt:P577 ?date
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
      OPTIONAL { ?item wdt:P18 ?_image. }
    } GROUP BY ?item ?itemLabel ?_image
    ORDER BY (?date)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Movies with Bud Spencer
  description: ''
- name: Contemporary Indian actresses
  namespace: examples
  domain: wikidata.org
  query_id: contemporary-indian-actresses--examples@wikidata.org
  sparql: |
    SELECT ?item ?itemLabel ?itemDescription (SAMPLE(?img) AS ?image) (SAMPLE(?dob) AS ?dob) ?sl
    WHERE {
      ?item wdt:P106 wd:Q33999 ;
              wdt:P27 wd:Q668 ;
              wdt:P21 wd:Q6581072 .
      MINUS { ?item wdt:P570 [] }
      OPTIONAL { ?item wdt:P18 ?img }
      OPTIONAL { ?item wdt:P569 ?dob }
      OPTIONAL { ?item wikibase:sitelinks ?sl }
        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en"}
    } GROUP BY ?item ?itemLabel ?itemDescription ?sl
    ORDER BY DESC(?sl)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Contemporary Indian actresses
  description: ''
- name: Articles on Punjabi (Gurmukhi) Wikipedia about Pakistani actresses
  namespace: examples
  domain: wikidata.org
  query_id: articles-on-punjabi-gurmukhi-wikipedia-about-pakistani-actresses--examples@wikidata.org
  sparql: |
    #added 2017-03-25 (46 results)
    SELECT ?sitelink
    WHERE
    {
      # gender = female
        ?item wdt:P21 wd:Q6581072 .

        # country = Pakistan (Q25)
        { ?item wdt:P27 wd:Q843 }

            # occupation = actress (Q33999)
        { ?item wdt:P106 wd:Q33999 }

      # look for articles (sitelinks) in Punjabi ("pa")
        { ?sitelink schema:about ?item . ?sitelink schema:inLanguage "pa" }

      # humans only
        ?item wdt:P31 wd:Q5 .
    }
    #Listeria can only handle up to 5000
    LIMIT 5000
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Articles on Punjabi (Gurmukhi) Wikipedia about Pakistani actresses
  description: ''
- name: All Dr. Who performers
  namespace: examples
  domain: wikidata.org
  query_id: all-dr-who-performers--examples@wikidata.org
  sparql: |
    #added 2017-07-16, updated 2020-07-08
    SELECT ?doctor ?doctorLabel ?ordinal ?performer ?performerLabel
    WHERE {
      ?doctor wdt:P31 wd:Q47543030 .
      OPTIONAL { ?doctor wdt:P1545 ?ordinal }
      OPTIONAL { ?doctor p:P175 / ps:P175 ?performer }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
    ORDER BY ASC(xsd:integer(?ordinal) )
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All Dr. Who performers
  description: ''
- name: Movies and their narrative location on a map
  namespace: examples
  domain: wikidata.org
  query_id: movies-and-their-narrative-location-on-a-map--examples@wikidata.org
  sparql: |
    #defaultView:Map
    SELECT ?movie ?movieLabel ?narrative_location ?narrative_locationLabel ?coordinates WHERE {
       ?movie wdt:P840 ?narrative_location ;
              wdt:P31 wd:Q11424 .
       ?narrative_location wdt:P625 ?coordinates .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Movies and their narrative location on a map
  description: ''
- name: Movies released in 2017
  namespace: examples
  domain: wikidata.org
  query_id: movies-released-in-2017--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?item ?itemLabel WHERE {
      ?item wdt:P31 wd:Q11424.
      ?item wdt:P577 ?pubdate.
      FILTER((?pubdate >= "2017-01-01T00:00:00Z"^^xsd:dateTime) && (?pubdate <= "2017-12-31T00:00:00Z"^^xsd:dateTime))
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Movies released in 2017
  description: ''
- name: Authors, writers and poets ranked by sitelink and also includes "country of
    citizenship"
  namespace: examples
  domain: wikidata.org
  query_id: authors-writers-and-poets-ranked-by-sitelink-and-also-includes-country-of-citizenship--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?writer ?place ?linkcount
    WHERE
    {
      {?s wdt:P106 wd:Q36180 .} UNION { ?s wdt:P106 wd:Q482980 . } UNION { ?s wdt:P106 wd:Q49757 . }
      ?s wdt:P27 ?pl .
      ?s wikibase:sitelinks ?linkcount .
      OPTIONAL {
         ?s rdfs:label ?writer FILTER (lang(?writer) = "en").
       }
        OPTIONAL {
         ?pl rdfs:label ?place FILTER (lang(?place) = "en").
       }
    } GROUP BY ?place ?writer ?linkcount HAVING (?linkcount > 10) ORDER BY DESC(?linkcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authors, writers and poets ranked by sitelink and also includes "country
    of citizenship"
  description: "* Items used:   \n* Properties used:"
- name: Birth places of German poets
  namespace: examples
  domain: wikidata.org
  query_id: birth-places-of-german-poets--examples@wikidata.org
  sparql: |
    #defaultView:Map{"hide": ["?coord"]}
    SELECT ?subj ?subjLabel ?place ?placeLabel ?coord ?birthyear
    WHERE {
       ?subj wdt:P106 wd:Q49757 .
       ?subj wdt:P19 ?place .
       ?place wdt:P17 wd:Q183 .
       ?place wdt:P625 ?coord .
       OPTIONAL { ?subj wdt:P569 ?dob }
       BIND(YEAR(?dob) as ?birthyear)
    SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Birth places of German poets
  description: ''
- name: Books or literary works published before 1830 with place of publication or
    narrative location coordinates
  namespace: examples
  domain: wikidata.org
  query_id: books-or-literary-works-published-before-1830-with-place-of-publication-or-narrative-location-coordinates--examples@wikidata.org
  sparql: |2-

    SELECT ?item ?label ?coord ?place
    WHERE
    {
      VALUES ?type {wd:Q571 wd:Q7725634} # book or literary work
      ?item wdt:P31 ?type .
      ?item wdt:P577 ?date FILTER (?date < "1830-01-01T00:00:00Z"^^xsd:dateTime) .
      ?item rdfs:label ?label FILTER (lang(?label) = "en")

      OPTIONAL {
        ?item (wdt:P291
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Books or literary works published before 1830 with place of publication or
    narrative location coordinates
  description: "*  Items used:  \n*  Properties used:"
- name: Books by a given Author including genres and date of first publication
  namespace: examples
  domain: wikidata.org
  query_id: books-by-a-given-author-including-genres-and-date-of-first-publication--examples@wikidata.org
  sparql: |2

     SELECT DISTINCT ?book ?bookLabel ?authorLabel (GROUP_CONCAT(?genre_label) as ?genres) (MIN(?publicationDate) as ?firstPublication)
    WHERE
    {
      ?author rdfs:label "Ernest Hemingway"@en .
      ?book wdt:P50 ?author .
      OPTIONAL {
        ?book wdt:P136 ?genre .
        ?genre rdfs:label ?genre_label FILTER (lang(?genre_label) = "en").
      }

      OPTIONAL {
        ?book wdt:P577 ?publicationDate .
      }
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en" .
      }
    } GROUP BY ?book ?bookLabel ?authorLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Books by a given Author including genres and date of first publication
  description: ''
- name: Text by author containing case-insensitive title with optional cover image
  namespace: examples
  domain: wikidata.org
  query_id: text-by-author-containing-case-insensitive-title-with-optional-cover-image--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?item ?authorLabel ?itemLabel ?image where {
      ?item wdt:P31/wdt:P279* wd:Q234460.

      ?author ?label 'Bram Stoker'.
      ?item wdt:P50 ?author.

      ?item rdfs:label ?itemLabel.
      FILTER contains(lcase(?itemLabel), 'dracula').

      OPTIONAL {?item wdt:P18 ?image.}

      SERVICE wikibase:label {bd:serviceParam wikibase:language "[AUTO_LANGUAGE]".}
    } LIMIT 50
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Text by author containing case-insensitive title with optional cover image
  description: ''
- name: Literary works by label count
  namespace: examples
  domain: wikidata.org
  query_id: literary-works-by-label-count--examples@wikidata.org
  sparql: |2

    SELECT ?s ?desc (COUNT(DISTINCT ?label) as ?labelcount)
    WHERE
    {
      ?s wdt:P31 wd:Q7725634 .
      ?s rdfs:label ?label .
      OPTIONAL {
         ?s rdfs:label ?desc FILTER (lang(?desc) = "en").
       }
     } GROUP BY ?s ?desc ORDER BY DESC(?labelcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Literary works by label count
  description: "*  Items used: \n*  Properties used:"
- name: All subclasses of "Literary Work"
  namespace: examples
  domain: wikidata.org
  query_id: all-subclasses-of-literary-work--examples@wikidata.org
  sparql: |2

    SELECT ?s ?desc
    WHERE
    {
      ?s wdt:P279 wd:Q7725634 .
      OPTIONAL {
         ?s rdfs:label ?desc FILTER (lang(?desc) = "en").
       }
     }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All subclasses of "Literary Work"
  description: ''
- name: Epic poems by label count
  namespace: examples
  domain: wikidata.org
  query_id: epic-poems-by-label-count--examples@wikidata.org
  sparql: |2

    SELECT ?s ?desc (COUNT(DISTINCT ?label) as ?labelcount)
    WHERE
    {
      ?s wdt:P31 wd:Q37484 .
      ?s rdfs:label ?label .
      OPTIONAL {
         ?s rdfs:label ?desc FILTER (lang(?desc) = "en").
       }
     } GROUP BY ?s ?desc ORDER BY DESC(?labelcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Epic poems by label count
  description: ''
- name: Epic poems by sitelink count
  namespace: examples
  domain: wikidata.org
  query_id: epic-poems-by-sitelink-count--examples@wikidata.org
  sparql: |2

    #old method for sitelink count
    SELECT ?s ?desc ?linkcount
    WHERE
    {
      ?s wdt:P31 wd:Q37484 .
      ?s wikibase:sitelinks ?linkcount .
      OPTIONAL {
         ?s rdfs:label ?desc FILTER (lang(?desc) = "en").
       }
     } GROUP BY ?s ?desc ?linkcount ORDER BY DESC(?linkcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Epic poems by sitelink count
  description: ''
- name: Instance of Book by sitelink count
  namespace: examples
  domain: wikidata.org
  query_id: instance-of-book-by-sitelink-count--examples@wikidata.org
  sparql: |2

    #old method for sitelink count
    SELECT ?s ?desc ?linkcount
    WHERE
    {
      ?s wdt:P31 wd:Q571 .
      ?s wikibase:sitelinks ?linkcount .
      OPTIONAL {
         ?s rdfs:label ?desc FILTER (lang(?desc) = "en").
       }
     } GROUP BY ?s ?desc ?linkcount ORDER BY DESC(?linkcount)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Instance of Book by sitelink count
  description: ''
- name: Poets and monarchs
  namespace: examples
  domain: wikidata.org
  query_id: poets-and-monarchs--examples@wikidata.org
  sparql: |2


    SELECT ?poetLabel ?image ?yob ?yod ?start ?end ?monarchLabel
    WHERE
    {
      ?poet p:P39 ?positionStat.
      ?positionStat ps:P39 wd:Q877838;
                    pq:P580 ?start;
                    pq:P748 ?monarch.
      OPTIONAL {
        ?positionStat pq:P582 ?end.
      }
      OPTIONAL {
        ?poet wdt:P18 ?image;
              wdt:P569 ?dob;
              wdt:P570 ?dod.
      }
      BIND(YEAR(?dob) AS ?yob).
      BIND(YEAR(?dod) AS ?yod).
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    ORDER BY ?start DESC(?monarchLabel)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Poets and monarchs
  description: "*  Items used: \n*  Properties used:"
- name: List of digital libraries in the world
  namespace: examples
  domain: wikidata.org
  query_id: list-of-digital-libraries-in-the-world--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?item ?itemLabel ?website
    WHERE {
    ?item wdt:P31/wdt:P279* wd:Q212805 # digital libraries or subtypes
    OPTIONAL { ?item wdt:P856 ?website } # Official URL if known
    MINUS { ?item wdt:P576 [] } # Exclude those that have shut down
    SERVICE wikibase:label { bd:serviceParam wikibase:language "en, es, ca, fr, de, pl, uk, ru, he" }
    }
    ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of digital libraries in the world
  description: ''
- name: Map of Libraries in Canada
  namespace: examples
  domain: wikidata.org
  query_id: map-of-libraries-in-canada--examples@wikidata.org
  sparql: |2

    # Canadian libraries on a map (must have coordinates!)
    #defaultView:Map
    SELECT ?library ?libraryLabel ?coords WHERE {
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,fr". }
      ?library (wdt:P31/wdt:P279*) wd:Q7075.
      ?library wdt:P17 wd:Q16.
      ?library wdt:P625 ?coords.
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of Libraries in Canada
  description: ''
- name: List of authors unsuccessfully nominated for Nobel prize in literature
  namespace: examples
  domain: wikidata.org
  query_id: list-of-authors-unsuccessfully-nominated-for-nobel-prize-in-literature--examples@wikidata.org
  sparql: |2

    SELECT ?nominee ?nomineeLabel (SAMPLE(?citizenshipLabel) AS ?country) (COUNT(DISTINCT ?year) as ?timesNominated)
    WHERE
    {
        BIND( wd:Q37922 as ?prize )
        ?nominee p:P1411 [ ps:P1411 ?prize; pq:P585 ?time ]
        BIND( year(?time) as ?year )
        OPTIONAL {
          ?nominee wdt:P27 [ rdfs:label ?citizenshipLabel ] FILTER (lang(?citizenshipLabel) = "en") .
        }
        FILTER NOT EXISTS { ?nominee wdt:P166 ?prize . }
        SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    GROUP BY ?nominee ?nomineeLabel
    ORDER BY DESC(?timesNominated) ?nomineeLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of authors unsuccessfully nominated for Nobel prize in literature
  description: "*  Items used: \n*  Properties used: ,"
- name: Authors whose works enter the public domain in 2017 (died in 1946)
  namespace: examples
  domain: wikidata.org
  query_id: authors-whose-works-enter-the-public-domain-in-2017-died-in-1946--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?item WHERE
    {
      ?item wdt:P31 wd:Q5 ;
      wdt:P106/wdt:P279* wd:Q482980 .
      ?item wdt:P570 ?time0 .
      FILTER((?time0 >= "1945-01-01T00:00:00Z"^^xsd:dateTime) && (?time0 <= "1946-01-01T00:00:00Z"^^xsd:dateTime))
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authors whose works enter the public domain in 2017 (died in 1946)
  description: ''
- name: Authors with United States citizenship without a Goodreads identifier
  namespace: examples
  domain: wikidata.org
  query_id: authors-with-united-states-citizenship-without-a-goodreads-identifier--examples@wikidata.org
  sparql: |
    #authors with country of citizenship United States who do not have a Goodreads identifier
    SELECT ?item ?itemLabel
    WHERE
    {
      ?item wdt:P31 wd:Q5. #instance of (P31) human (Q5)
      ?item wdt:P27 wd:Q30. #country of citizenship (P27) is United States (Q30)
      ?item wdt:P106 wd:Q36180. #occupation (P106) is writer (Q36180)
      MINUS { ?item wdt:P2963 [] } .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authors with United States citizenship without a Goodreads identifier
  description: ''
- name: Works by women that were born between 1800 and 1900, are in the WomenWriters
    database and are translated
  namespace: examples
  domain: wikidata.org
  query_id: works-by-women-that-were-born-between-1800-and-1900-are-in-the-womenwriters-database-and-are-translated--examples@wikidata.org
  sparql: |
    SELECT ?translator ?translatorLabel ?work ?workLabel ?author ?authorLabel {
        ?work wdt:P655 ?translator;
              wdt:P50 ?author.

        ?author wdt:P2533 ?wid;
                wdt:P21 wd:Q6581072;
                wdt:P569 ?birth;

        FILTER (?birth > "1800-01-01"^^xsd:dateTime && ?birth < "1900-01-01"^^xsd:dateTime)

        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en,nl,fr". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Works by women that were born between 1800 and 1900, are in the WomenWriters
    database and are translated
  description: ''
- name: Fictional subjects of the Marvel Universe
  namespace: examples
  domain: wikidata.org
  query_id: fictional-subjects-of-the-marvel-universe--examples@wikidata.org
  sparql: |
    SELECT ?char ?charName (GROUP_CONCAT(DISTINCT ?typeLabel;separator=", ") AS ?types) (GROUP_CONCAT(DISTINCT ?universeLabel;separator=", ") AS ?universes)
    WHERE {
      ?char wdt:P1080 wd:Q931597;
              wdt:P31 ?type ;
              wdt:P1080 ?universe .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en".
                             ?char rdfs:label ?charName .
                             ?universe rdfs:label ?universeLabel .
                             ?type rdfs:label ?typeLabel .}
    } GROUP BY ?char ?charName
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Fictional subjects of the Marvel Universe
  description: ''
- name: Fictional characters whose birth/death date is in the current decade
  namespace: examples
  domain: wikidata.org
  query_id: fictional-characters-whose-birth-death-date-is-in-the-current-decade--examples@wikidata.org
  sparql: |
    SELECT DISTINCT ?character ?characterLabel ?birth ?death WITH {
      # Fictional character subclasses as a named subquery
      SELECT ?fictiontype WHERE {
        ?fictiontype wdt:P279* wd:Q95074. hint:Prior hint:gearing "forward".
      }
    } AS %i
    WHERE
    {
      INCLUDE %i
      ?character wdt:P31 ?fictiontype.
      # Date of birth
      { ?character wdt:P569 ?birth . }
      # Date of death
      UNION { ?character wdt:P570 ?death . }
      # Get actual decade to compare with dates
      BIND(xsd:integer(YEAR(NOW())/10) as ?actual_decade).
      # Only show characters born or deceased in the current decade
      FILTER(xsd:integer(YEAR(?birth)/10) = ?actual_decade {{!}}{{!}} xsd:integer(YEAR(?death)/10) = ?actual_decade)
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" .
      }
    } ORDER BY ?birth ?death
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Fictional characters whose birth/death date is in the current decade
  description: ''
- name: List tracks of an album, with links to Yandex, Apple, Spotify, Amazon
  namespace: examples
  domain: wikidata.org
  query_id: list-tracks-of-an-album-with-links-to-yandex-apple-spotify-amazon--examples@wikidata.org
  sparql: |2

    SELECT ?order ?item ?itemLabel ?yandex ?apple
    (URI(CONCAT("https://open.spotify.com/track/", ?spotify_id)) AS ?spotify)
    (URI(CONCAT("https://www.amazon.com/dp/", ?amazon_id)) AS ?amazon)
    {
      wd:Q105834355 p:P658 ?st . ?st ps:P658 ?item .

      OPTIONAL { ?st pq:P1545 ?order } .
      OPTIONAL {?item p:P750 [ps:P750 wd:Q4537983 ; pq:P2699 ?yandex ] .}
      OPTIONAL {?item p:P750 [ps:P750 wd:Q20056642 ; pq:P2699 ?apple ] .}
      OPTIONAL {?item wdt:P5749 ?amazon_id .}
      OPTIONAL {?item wdt:P2207 ?spotify_id .}

      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],ru,en" }
    } ORDER BY xsd:integer(?order)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List tracks of an album, with links to Yandex, Apple, Spotify, Amazon
  description: ''
- name: 'List tracks of an album, with links to Yandex, Apple, Spotify, Amazon: URLs
    without triangles - as text'
  namespace: examples
  domain: wikidata.org
  query_id: list-tracks-of-an-album-with-links-to-yandex-apple-spotify-amazon-urls-without-triangles-as-text--examples@wikidata.org
  sparql: "\nSELECT ?order ?item ?itemLabel\n(STR(?_yandex) AS ?yandex)\n(STR(?_apple)\
    \ AS ?apple)\n(CONCAT(\"https://open.spotify.com/track/\", ?spotify_id) AS ?spotify)\n\
    (CONCAT(\"https://www.amazon.com/dp/\", ?amazon_id) AS ?amazon)\n{\n  wd:Q105834355\
    \ p:P658 ?st . ?st ps:P658 ?item .\n\n  OPTIONAL { ?st pq:P1545 ?order } . \n\
    \  OPTIONAL {?item p:P750 [ps:P750 wd:Q4537983 ; pq:P2699 ?_yandex ] .}\n  OPTIONAL\
    \ {?item p:P750 [ps:P750 wd:Q20056642 ; pq:P2699 ?_apple ] .}\n  OPTIONAL {?item\
    \ wdt:P5749 ?amazon_id .}\n  OPTIONAL {?item wdt:P2207 ?spotify_id .}\n\n  SERVICE\
    \ wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],ru,en\"\
    \ }\n} ORDER BY xsd:integer(?order)\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: 'List tracks of an album, with links to Yandex, Apple, Spotify, Amazon: URLs
    without triangles - as text'
  description: ''
- name: Timeline of albums by Manu Chao and Mano Negra
  namespace: examples
  domain: wikidata.org
  query_id: timeline-of-albums-by-manu-chao-and-mano-negra--examples@wikidata.org
  sparql: |2

    #defaultView:Timeline
    SELECT ?album ?performerLabel ?albumLabel ?publication_date WHERE {
      VALUES ?performer {
          wd:Q936474
          wd:Q207898
        }
       ?album wdt:P175 ?performer ;
          wdt:P577 ?publication_date .
       SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Timeline of albums by Manu Chao and Mano Negra
  description: ''
- name: Music composers by birth place
  namespace: examples
  domain: wikidata.org
  query_id: music-composers-by-birth-place--examples@wikidata.org
  sparql: |
    #defaultView:Map
    SELECT ?item ?itemLabel ?_coordinates ?_image WHERE {
      ?item wdt:P106 wd:Q36834; # occupation: composer
            wdt:P18 ?_image; # with an image depicting them
            wdt:P19/wdt:P625 ?_coordinates # their birthplace, specifically the coordinates of their birthplace
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" } # labels in English
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Music composers by birth place
  description: ''
- name: Composers and their most-used tonality
  namespace: examples
  domain: wikidata.org
  query_id: composers-and-their-most-used-tonality--examples@wikidata.org
  sparql: |2


    # Each composer’s most used tonality, with number of works in that tonality.
    # (If this is ambiguous – multiple tonalities with the same number – there are multiple results for one composer.)
    #
    # The SPARQL for this is an evil perversion of three subqueries (one of them nested in another).
    # To understand it, you have to go inside out… follow the numbers.

    SELECT ?composerLabel ?tonalityLabel ?count
    WHERE
    {
      {
        # 4. Group again, this time just by the composer.
        #    We also select the highest count of a tonality.
        #    Notice that we don’t know what tonality this count is associated with – we’ll get to that.
        #    So now we have each composer, along with how often they used whatever tonality they used most.
        SELECT ?composer (MAX(?count) AS ?count_)
        WHERE
        {
          {
            # 2. Group by composer and tonality, so that for each composer and tonality, we get a count of how often the composer used this tonality.
            SELECT ?composer ?tonality (COUNT(?composition) AS ?count)
            WHERE
            {
              # 1. Extremely straightforward: the ?composition has the composer ?composer and the tonality ?tonality.
              #    (I’m not bothering with any “instance of” because the presence of these two properties is a sufficient indicator of ?composition being a composition.)
              ?composition wdt:P86 ?composer;
                           wdt:P826 ?tonality.
            }
            GROUP BY ?composer ?tonality
            HAVING(?count > 1) # 3. Limit that to counts > 1, because using a tonality once is hardly “most used”.
          }
        }
        GROUP BY ?composer
      }
      {
        # 6. Identical to 2.
        SELECT ?composer ?tonality (COUNT(?composition) AS ?count)
        WHERE
        {
          # 5. Identical to 1.
          ?composition wdt:P86 ?composer;
                       wdt:P826 ?tonality.
        }
        GROUP BY ?composer ?tonality
        HAVING(?count > 1) # 7. Identical to 3.
      }
      # 8. That’s it. Wait, what?
      #    From 4, we now have ?composer, any composer, and ?count, the count of how often they used whatever tonality they used most.
      #    From 6, we also have a ?composer, as well as a ?tonality, and the count of how often they used that particular tonality.
      #    The trick is that ?composer and ?count are the same variable in each subquery, and so now, when the two subqueries are joined,
      #    we select only that ?tonality from 6 where the ?composer and the ?count are identical to those from 4 –
      #    that is, where this tonality was used as often as the composer’s most-used tonality.
      #    In other words, this must *be* the composer’s most-used tonality (except when there are multiple tonalities with the same count).
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
    ORDER BY DESC(?count) # 9. Order by count (highest first), because the result isn’t very meaningful for low counts (many compositions aren’t on Wikidata or don’t have a tonality statement).
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Composers and their most-used tonality
  description: '*  Properties used:'
- name: Rock bands that start with "M"
  namespace: examples
  domain: wikidata.org
  query_id: rock-bands-that-start-with-m--examples@wikidata.org
  sparql: |2

    SELECT ?band ?bandLabel
    WHERE
    {
      ?band wdt:P31 wd:Q5741069 .
            ?band rdfs:label ?bandLabel .
      FILTER(LANG(?bandLabel) = "en") .
      FILTER(STRSTARTS(?bandLabel, 'M')) .
    } ORDER BY LCASE(?bandLabel)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Rock bands that start with "M"
  description: ''
- name: Musicians or singers that have a genre containing 'rock'
  namespace: examples
  domain: wikidata.org
  query_id: musicians-or-singers-that-have-a-genre-containing-rock--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?human ?humanLabel
    WHERE
    {
        VALUES ?professions {wd:Q177220 wd:Q639669}
        ?human wdt:P31 wd:Q5 .
        ?human wdt:P106 ?professions .
        ?human wdt:P136 ?genre .
        ?human wikibase:statements ?statementcount .
        ?genre rdfs:label ?genreLabel .
        FILTER CONTAINS(?genreLabel, "rock") .
        FILTER (?statementcount > 50 ) .
        SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    ORDER BY ?humanLabel
    LIMIT 50
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Musicians or singers that have a genre containing 'rock'
  description: "* items used:   \n* Properties used:"
- name: '''27 club'' - musicians who died at age 27'
  namespace: examples
  domain: wikidata.org
  query_id: 27-club-musicians-who-died-at-age-27--examples@wikidata.org
  sparql: |
    SELECT ?person ?personLabel ?dob ?dod (xsd:integer(?age_) as ?age)
    where {
      # We do a subquery here, because otherwise we'll get a timeout because of the labels
      {
        SELECT DISTINCT ?person ?dob ?dod ?age_
        where {
          ?person wdt:P31 wd:Q5; # Get all humans
            wdt:P106/wdt:P279* wd:Q639669; # That have a musician or a subclass thereof as their occupation
            p:P569 ?dob_st; # death of birth
            p:P570 ?dod_st. # death of death

          ?dob_st psv:P569 [ wikibase:timeValue ?dob; wikibase:timePrecision ?dob_prec ];
            a wikibase:BestRank.
          ?dod_st psv:P570 [ wikibase:timeValue ?dod; wikibase:timePrecision ?dod_prec ];
            a wikibase:BestRank.

          # Only accept date precisions of a day or better, so it doesn't cause problems when we calculate age
          FILTER(?dob_prec >= 11 && ?dod_prec >= 11)

          # Time differences in Blazegraph are counted as days and is xsd:double
          # We then calculate the age by dividing this by the orbital period of Earth
          # This is a shortcut, but it is accurate enough for our purposes
          bind((?dod - ?dob) / 365.2564 as ?age_)

          # And filter by age
          filter(?age_ >= 27.0 && ?age_ < 28.0)
        }
        #LIMIT 1000
      }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY desc(?dod) # Order by most recent
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: '''27 club'' - musicians who died at age 27'
  description: ''
- name: Locations of Pablo Picasso works
  namespace: examples
  domain: wikidata.org
  query_id: locations-of-pablo-picasso-works--examples@wikidata.org
  sparql: |2


    #defaultView:Map
    SELECT ?label ?coord ?subj
    WHERE
    {
       ?subj wdt:P170 wd:Q5593 .
      OPTIONAL {?subj wdt:P276 ?loc .
        ?loc wdt:P625 ?coord } .
       ?subj rdfs:label ?label FILTER (lang(?label) = "en")
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Locations of Pablo Picasso works
  description: ''
- name: Eiffel Tower in art
  namespace: examples
  domain: wikidata.org
  query_id: eiffel-tower-in-art--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?item ?itemLabel ?instanceLabel ?creatorLabel (YEAR(?date) as ?year) ?image
    WHERE
    {
      ?item wdt:P180 wd:Q243 .
      ?item wdt:P31 ?instance .
      OPTIONAL { ?item wdt:P170 ?creator }
      OPTIONAL { ?item wdt:P571 ?date }
      OPTIONAL { ?item wdt:P18 ?image }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],fr,en" . }
    }
    ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Eiffel Tower in art
  description: ''
- name: Paintings by Gustav Klimt
  namespace: examples
  domain: wikidata.org
  query_id: paintings-by-gustav-klimt--examples@wikidata.org
  sparql: |2

    #defaultView:ImageGrid
    SELECT *
    WHERE
    {
      ?item wdt:P31 wd:Q3305213 .
      ?item wdt:P170 wd:Q34661 .
      ?item wdt:P18 ?pic .
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Paintings by Gustav Klimt
  description: ''
- name: Map of all the paintings for which we know a location with the count per location
  namespace: examples
  domain: wikidata.org
  query_id: map-of-all-the-paintings-for-which-we-know-a-location-with-the-count-per-location--examples@wikidata.org
  sparql: |2


    #Map of all the paintings for which we know a location with the count per location
    #defaultView:Map
    SELECT ?locationLabel ?coord (count(*) as ?count)
    WHERE
    {
        ?painting wdt:P31 wd:Q3305213 .
        ?painting wdt:P276 ?location .
      ?location wdt:P625 ?coord
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
    GROUP BY ?locationLabel ?coord
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of all the paintings for which we know a location with the count per
    location
  description: ''
- name: Versions of The Scream
  namespace: examples
  domain: wikidata.org
  query_id: versions-of-the-scream--examples@wikidata.org
  sparql: |2


    SELECT
      ?item
      (SAMPLE (?itemL) AS ?title)
      (SAMPLE (?y) AS ?year)
      (SAMPLE (?typeL) AS ?type)
      (group_concat(DISTINCT ?materialL ; separator = ", ") as ?materials)
      (SAMPLE (?collectionL) AS ?collection)
      (SAMPLE (?img) AS ?image)
    {
      SELECT ?item ?itemL (YEAR(?date) AS ?y) ?typeL ?collectionL ?img ?materialL
      WHERE {
        ?item wdt:P179 wd:Q471379 .
        ?item wdt:P18 ?img .
        ?item wdt:P571 ?date .
        ?item wdt:P31 ?instance .
        ?item rdfs:label ?itemL FILTER (lang(?itemL) = "en").
        ?instance rdfs:label ?typeL FILTER (lang(?typeL) = "en").
        OPTIONAL {
          ?item wdt:P195 ?collection .
          ?collection rdfs:label ?collectionL FILTER (lang(?collectionL) = "en").
        }
        OPTIONAL {
          ?item wdt:P186 ?material .
          ?material rdfs:label ?materialL FILTER (lang(?materialL) = "en").
        }
      }
    }
    GROUP BY ?item
    ORDER BY ?year ?item ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Versions of The Scream
  description: ''
- name: Depicted objects in art work
  namespace: examples
  domain: wikidata.org
  query_id: depicted-objects-in-art-work--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?depicts (SAMPLE(?dL) AS ?depictsLabel) (COUNT(DISTINCT ?item) AS ?count)
    WHERE
    {
      ?item wdt:P180 ?depicts .
      OPTIONAL { ?depicts rdfs:label ?dL FILTER (lang(?dL) = "en") }
    }
    GROUP BY ?depicts
    ORDER BY DESC(?count) ?depictsLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Depicted objects in art work
  description: ''
- name: Sculptures by Max Bill
  namespace: examples
  domain: wikidata.org
  query_id: sculptures-by-max-bill--examples@wikidata.org
  sparql: |2


    SELECT DISTINCT ?item ?itemLabel ?countryLabel ?placeLabel (YEAR(?date) as ?year) ?coords ?image
    WHERE
    {
      ?item wdt:P31/wdt:P279* wd:Q860861 .
      ?item wdt:P170 wd:Q123454 .
      OPTIONAL { ?item wdt:P17 ?country . }
      OPTIONAL { ?item wdt:P131 ?place . }
      OPTIONAL { ?item wdt:P571 ?date . }
      OPTIONAL { ?item wdt:P625 ?coords . }
      OPTIONAL { ?item wdt:P18 ?image . }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en" . }
    }
    ORDER BY ?itemLabel ?placeLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Sculptures by Max Bill
  description: ''
- name: Paintings by Rembrandt in the Louvre or the Rijkmuseum
  namespace: examples
  domain: wikidata.org
  query_id: paintings-by-rembrandt-in-the-louvre-or-the-rijkmuseum--examples@wikidata.org
  sparql: |
    #defaultView:ImageGrid

    SELECT DISTINCT ?item ?itemLabel ?itemDescription ?image ?collection WHERE {
        ?item wdt:P31 wd:Q3305213 ; # Get items that are instances of painting
              wdt:P170 wd:Q5598 ; # By creator Rembrandt
              wdt:P195/wdt:P361* ?collection . # That are in some collection

        # Only return results where 'collection' is either Rijkmuseum or Louvre
        FILTER ( ?collection = wd:Q190804 {{!}}{{!}} ?collection = wd:Q19675 )

        OPTIONAL { ?item wdt:P18 ?image } # Optionally with an image

        SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE]" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Paintings by Rembrandt in the Louvre or the Rijkmuseum
  description: ''
- name: Authority control properties usage for paintings
  namespace: examples
  domain: wikidata.org
  query_id: authority-control-properties-usage-for-paintings--examples@wikidata.org
  sparql: |2

    # Make a list of the most used authority control properties for works for paintings
    SELECT ?propertyLabel ?propertyDescription (COUNT(?propertyclaim) AS ?count) WHERE {
      ?item wdt:P31 wd:Q3305213 .

      ?property wikibase:propertyType wikibase:ExternalId .
      ?property wdt:P31 wd:Q44847669 .
      ?property wikibase:claim ?propertyclaim .

      ?item ?propertyclaim [] .
      SERVICE wikibase:label { # ... include the labels
        bd:serviceParam wikibase:language "en" .
      }
    } GROUP BY ?propertyLabel ?propertyDescription ORDER BY DESC (?count)
    LIMIT 100
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authority control properties usage for paintings
  description: ''
- name: Authority control properties usage for painters
  namespace: examples
  domain: wikidata.org
  query_id: authority-control-properties-usage-for-painters--examples@wikidata.org
  sparql: |2

    # Make a list of the most used authority control properties for people for painters
    SELECT ?propertyLabel ?propertyDescription ?count WHERE {
      {
        SELECT ?propertyclaim (COUNT(*) AS ?count) where {
          ?item wdt:P106 wd:Q1028181 .
          ?item wdt:P31 wd:Q5 .
          ?item ?propertyclaim [] .
        } GROUP BY ?propertyclaim
      }
      ?property wikibase:propertyType wikibase:ExternalId .
      ?property wdt:P31 wd:Q19595382 .
      ?property wikibase:claim ?propertyclaim .
      SERVICE wikibase:label { # ... include the labels
        bd:serviceParam wikibase:language "en" .
      }
    } ORDER BY DESC (?count)
    LIMIT 100
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Authority control properties usage for painters
  description: ''
- name: Ten random painting images
  namespace: examples
  domain: wikidata.org
  query_id: ten-random-painting-images--examples@wikidata.org
  sparql: |2

    # This returns 10 random painting images
    # RAND() returns one random number (cached like every query).
    # The string representation of the item and the random number are hashed.
    # This will give a complete different ordering every time you have a different random number.
    # You can change the LIMIT if you want to trigger a new random number
    #defaultView:ImageGrid
    SELECT ?item ?itemLabel ?image (MD5(CONCAT(str(?item),str(RAND()))) as ?random) WHERE {
      ?item wdt:P31 wd:Q3305213.
      ?item wdt:P18 ?image.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en"}
    } ORDER BY ?random
    LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Ten random painting images
  description: |-
    In cases where you want to re-run the query without getting a cached result, see the following blog post:

    * https://byabbe.se/2018/01/26/cache-busting-wikidata-sparql-queries
- name: Painters related to anonymous works
  namespace: examples
  domain: wikidata.org
  query_id: painters-related-to-anonymous-works--examples@wikidata.org
  sparql: |2

    #Paintings by anonymous painters, but are related to some other painter
    #defaultView:BubbleChart
    SELECT ?creatorqualifierLabel (COUNT(?creatorqualifier) AS ?count) WHERE {
      ?item wdt:P31 wd:Q3305213 .
      ?item wdt:P170 wd:Q4233718 .
      OPTIONAL { ?item p:P170 ?creatorstatement .
                 ?creatorstatement rdf:type wikibase:BestRank .
                 ?creatorstatement ?qualifier ?creatorqualifier .
                 ?qualifierproperty wikibase:qualifier ?qualifier }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
      } GROUP BY ?creatorqualifierLabel
    HAVING (?count > 2)
    LIMIT 20000
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Painters related to anonymous works
  description: ''
- name: Painters type of relations with anonymous works
  namespace: examples
  domain: wikidata.org
  query_id: painters-type-of-relations-with-anonymous-works--examples@wikidata.org
  sparql: |2

    #Paintings by anonymous painters, types of relationships with other painters
    #defaultView:BubbleChart
    SELECT ?qualifierpropertyLabel (COUNT(?creatorqualifier) AS ?count) WHERE {
      ?item wdt:P31 wd:Q3305213 .
      ?item wdt:P170 wd:Q4233718 .
      OPTIONAL { ?item p:P170 ?creatorstatement .
                 ?creatorstatement rdf:type wikibase:BestRank .
                 ?creatorstatement ?qualifier ?creatorqualifier .
                 ?qualifierproperty wikibase:qualifier ?qualifier }
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
      } GROUP BY ?qualifierpropertyLabel
    HAVING (?count > 2)
    LIMIT 2000
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Painters type of relations with anonymous works
  description: ''
- name: Using formatter url to construct links in SPARQL
  namespace: examples
  domain: wikidata.org
  query_id: using-formatter-url-to-construct-links-in-sparql--examples@wikidata.org
  sparql: |2

    # Get 10 paintings that have a link to RKDimages (P350)
    # Use the formatter URL (P1630) to construct the links to RKDimages
    #defaultView:ImageGrid
    SELECT ?item ?image ?rkdurl WHERE {
      wd:P350 wdt:P1630 ?formatterurl .
      ?item wdt:P31 wd:Q3305213 .
      ?item wdt:P18 ?image .
      ?item wdt:P350 ?rkdid .
      BIND(IRI(REPLACE(?rkdid, '^(.+)$', ?formatterurl)) AS ?rkdurl).
      } LIMIT 10
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Using formatter url to construct links in SPARQL
  description: ''
- name: Map of the locations of all paintings by Johannes Vermeer with an image
  namespace: examples
  domain: wikidata.org
  query_id: map-of-the-locations-of-all-paintings-by-johannes-vermeer-with-an-image--examples@wikidata.org
  sparql: |2

    #defaultView:Map
    SELECT ?painting ?paintingLabel ?location ?image where {
      ?painting wdt:P276 ?collection;
                wdt:P170 wd:Q41264;
                wdt:P18 ?image.
      ?collection wdt:P625 ?location.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Map of the locations of all paintings by Johannes Vermeer with an image
  description: ''
- name: All impressionist painters that have been in an exhibition, together with
    the amount of exhibitions they have been in
  namespace: examples
  domain: wikidata.org
  query_id: all-impressionist-painters-that-have-been-in-an-exhibition-together-with-the-amount-of-exhibitions-they-have-been-in--examples@wikidata.org
  sparql: |
    #title:<translate><!--T:783--> Impressionist painters by number of exhibitions</translate>
    SELECT DISTINCT ?painter ?painterLabel (count (DISTINCT ?exhibition) as ?exhibition_count)
    (group_concat(DISTINCT ?exhibitionLabel; separator=", ") as ?exhibitions)
    WHERE {
      ?painter wdt:P106 wd:Q1028181 . #give me all people with occupation (P106) painter (Q1028181)
      ?painter wdt:P135 wd:Q40415 . #who belonged to the impressionist (Q40415) movement (P135)
      ?painting wdt:P170 ?painter . #the paintings created by (P170) the painter
      ?painting wdt:P608 ?exhibition . #have an exhibition history (P608) at an exhibition
      ?exhibition rdfs:label ?exhibitionLabel . #give me the english Labels of these exhibitions, if possible
      FILTER (lang(?exhibitionLabel) = "en")

      SERVICE wikibase:label {bd:serviceParam wikibase:language "en".}
    } GROUP BY ?painter ?painterLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: All impressionist painters that have been in an exhibition, together with
    the amount of exhibitions they have been in
  description: ''
- name: List of theatre plays
  namespace: examples
  domain: wikidata.org
  query_id: list-of-theatre-plays--examples@wikidata.org
  sparql: |2


    SELECT ?play ?playLabel
    WHERE
    {
      ?play wdt:P31 wd:Q25379 .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en,es,pt,de,fr,ja,zh" . }
    }
    LIMIT 1000
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: List of theatre plays
  description: ''
- name: Public art in Paris
  namespace: examples
  domain: wikidata.org
  query_id: public-art-in-paris--examples@wikidata.org
  sparql: |2

    SELECT
      ?item
      (SAMPLE (?titleL) AS ?title)
      (group_concat(DISTINCT ?creatorL ; separator = ", ") as ?creator)
      (group_concat(DISTINCT ?genreL ; separator = ", ") as ?genre)
      (group_concat(DISTINCT ?placeL ; separator = ", ") as ?place)
      (group_concat(DISTINCT ?arr ; separator = ", ") as ?arrondissement)
      (SAMPLE (?img) AS ?image)
      (SAMPLE (?coord) AS ?coordinates) {

        {
          SELECT DISTINCT ?item { {
            ?item wdt:P136 wd:Q557141 ;     # genre: public art
                  wdt:P131 wd:Q90           # located in: Paris
          } UNION { # or
            ?item wdt:P136 wd:Q557141 ;     # genre: public art
                  wdt:P131/wdt:P131* wd:Q90 # located in an arrondissement of Paris
          } }
        }

        # title
        OPTIONAL { ?item rdfs:label ?titleL FILTER (lang(?titleL) = "fr") }

        # creators
        OPTIONAL { ?item wdt:P170 [rdfs:label ?creatorL] FILTER (lang(?creatorL) = "fr") }

        #genre
        OPTIONAL {
          {
            ?item wdt:P136 ?g FILTER (STR(?g) != 'http://www.wikidata.org/entity/Q557141')
          } UNION {
            ?item wdt:P31 ?g .
          }
          ?g rdfs:label ?genreL FILTER (lang(?genreL) = "fr") .
        }

        # place
        OPTIONAL {
          ?item wdt:P276 [rdfs:label ?placeL] FILTER (lang(?placeL) = "fr") .
        }

        # arrondissement
        OPTIONAL {
          ?item wdt:P131 [wdt:P131 wd:Q90 ; rdfs:label ?arrL] FILTER (lang(?arrL) = "fr").
          BIND(REPLACE(?arrL, '^([0-9]+).*$', "$1", "si") AS ?arr)
        }

        # image
        OPTIONAL { ?item wdt:P18 ?img }

        # coordinates
        OPTIONAL { ?item wdt:P625 ?coord }

    } GROUP BY ?item
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Public art in Paris
  description: ''
- name: Works of art where the name might be a rhyme
  namespace: examples
  domain: wikidata.org
  query_id: works-of-art-where-the-name-might-be-a-rhyme--examples@wikidata.org
  sparql: |2

    SELECT ?work ?title
    WHERE
    {
      ?work wdt:P31/wdt:P279* wd:Q838948;
            wdt:P1476 ?title.
      FILTER(REGEX(?title, "^\\w*(\\w{3})(\\W+\\w*\\1)+$", "i") && !REGEX(?title, "^(\\w+)(\\W+\\1)+$", "i")).
    }
    ORDER BY STR(?title)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Works of art where the name might be a rhyme
  description: ''
- name: Works of art where the title is an alliteration
  namespace: examples
  domain: wikidata.org
  query_id: works-of-art-where-the-title-is-an-alliteration--examples@wikidata.org
  sparql: |2

    SELECT ?work ?title
    WHERE
    {
      ?work wdt:P31/wdt:P279* wd:Q838948;
            wdt:P1476 ?title.
      FILTER(REGEX(STR(?title), "^(\\p{L})\\w+(?:\\W+\\1\\w+){2,}$", "i")).
    }
    ORDER BY STR(?title)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Works of art where the title is an alliteration
  description: ''
- name: Distribution of public art by place
  namespace: examples
  domain: wikidata.org
  query_id: distribution-of-public-art-by-place--examples@wikidata.org
  sparql: |2


    SELECT ?place ?placeLabel (COUNT(*) AS ?count) WHERE {
      ?item wdt:P136 wd:Q557141 .
      ?item wdt:P131 ?place .
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" . }
    }
    GROUP BY ?place ?placeLabel
    ORDER BY DESC(?count) ?placeLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Distribution of public art by place
  description: ''
- name: Birthplaces of Europeana280 artists
  namespace: examples
  domain: wikidata.org
  query_id: birthplaces-of-europeana280-artists--examples@wikidata.org
  sparql: |2


    #defaultView:Map
    SELECT ?creator ?creatorLabel ?placebirthLabel ?geoloc where {
      ?item wdt:P31/wdt:P279* wd:Q838948 . # œuvre d’art et ss-classe
      ?item wdt:P608 wd:Q20980830 . # du projet Europeana 280
      ?item wdt:P170 ?creator . # créateur
      ?creator wdt:P19 ?placebirth . # lieu de naissance
      ?placebirth wdt:P625 ?geoloc . #coordonnées géo
      SERVICE wikibase:label {
           bd:serviceParam wikibase:language "fr,es,en" .
        }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Birthplaces of Europeana280 artists
  description: ''
- name: Female artists
  namespace: examples
  domain: wikidata.org
  query_id: female-artists--examples@wikidata.org
  sparql: "\n\nSELECT DISTINCT ?women ?women_label ?women_description\nWHERE\n{\n\
    \       ?women wdt:P31 wd:Q5 .\n       ?women wdt:P21 wd:Q6581072 .\n       ?women\
    \ wdt:P106/wdt:P279* wd:Q483501 . # artists\n       OPTIONAL {?women rdfs:label\
    \ ?women_label FILTER (LANG(?women_label) = \"en\")}.\n\t   OPTIONAL {?women schema:description\
    \ ?women_description FILTER (LANG(?women_description) = \"en\")}.\n}\nLIMIT 500\n"
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Female artists
  description: ''
- name: Common phrases
  namespace: examples
  domain: wikidata.org
  query_id: common-phrases--examples@wikidata.org
  sparql: |2


    SELECT ?q ?qLabel
    WHERE
    {
      ?q wdt:P31 wd:Q15841920.
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Common phrases
  description: "* Items used: \n* Properties used:"
- name: Padua University Rectors by dates
  namespace: examples
  domain: wikidata.org
  query_id: padua-university-rectors-by-dates--examples@wikidata.org
  sparql: |2

    SELECT ?rettore ?rettoreLabel ?starttime ?endtime WHERE {
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
      ?rettore p:P106 [
        ps:P106 wd:Q212071; # is a Rector
        pq:P642 wd:Q193510; # of Padua Univerity
        pq:P580 ?starttime;
        pq:P582 ?endtime
      ].
    }
    ORDER BY ?starttime
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Padua University Rectors by dates
  description: ''
- name: Top 100 podcasts by number of statements
  namespace: examples
  domain: wikidata.org
  query_id: top-100-podcasts-by-number-of-statements--examples@wikidata.org
  sparql: |2

    # Top 100 podcasts by number of statements
    SELECT ?item ?itemLabel ?statements WHERE
    {
      ?item wdt:P31 wd:Q24634210. # Instance of: podcast
      ?item wikibase:statements ?statements. # Number of statements
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
    ORDER BY desc(?statements) # Sort by number of statements
    LIMIT 100 # Only the top 100 items
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Top 100 podcasts by number of statements
  description: ''
- name: Food & Drink
  namespace: examples
  domain: wikidata.org
  query_id: food-drink--examples@wikidata.org
  sparql: |2

    #Locations of breweries in Germany
    #defaultView:Map
    SELECT ?breweryLabel ?breweryDescription ?coord
    WHERE
    {
      ?brewery wdt:P31/wdt:P279* wd:Q131734 ;
        wdt:P17 wd:Q183 ;
        wdt:P625 ?coord .
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en, de" .
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Food & Drink
  description: ''
- name: German breweries
  namespace: examples
  domain: wikidata.org
  query_id: german-breweries--examples@wikidata.org
  sparql: |2

    #Locations of breweries in Germany
    #defaultView:Map
    SELECT ?breweryLabel ?breweryDescription ?coord
    WHERE
    {
      ?brewery wdt:P31/wdt:P279* wd:Q131734 ;
        wdt:P17 wd:Q183 ;
        wdt:P625 ?coord .
      SERVICE wikibase:label {
        bd:serviceParam wikibase:language "en, de" .
      }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: German breweries
  description: ''
- name: Sports
  namespace: examples
  domain: wikidata.org
  query_id: sports--examples@wikidata.org
  sparql: |2

    SELECT ?l
    WHERE {
      wd:Q5571382 ?p wd:Q223243 .
      ?property ?ref ?p .
      ?property rdf:type wikibase:Property .
      ?property rdfs:label ?l FILTER (lang(?l) = "en")
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Sports
  description: "* Items used: \n* Properties used: , , , , , *  Items used: , Shows\
    \ only the year instead of the default format (i.e. show all of the date information)."
- name: What is the relation between Terrell Buckley and Miami Dolphins?
  namespace: examples
  domain: wikidata.org
  query_id: what-is-the-relation-between-terrell-buckley-and-miami-dolphins--examples@wikidata.org
  sparql: |2

    SELECT ?l
    WHERE {
      wd:Q5571382 ?p wd:Q223243 .
      ?property ?ref ?p .
      ?property rdf:type wikibase:Property .
      ?property rdfs:label ?l FILTER (lang(?l) = "en")
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: What is the relation between Terrell Buckley and Miami Dolphins?
  description: '*  Items used: ,'
- name: Wikidata statements with a reference to data in Figshare
  namespace: examples
  domain: wikidata.org
  query_id: wikidata-statements-with-a-reference-to-data-in-figshare--examples@wikidata.org
  sparql: |2

    SELECT ?doi (count(?doi) as ?counts) WHERE {
       ?statement prov:wasDerivedFrom ?ref .
       ?ref pr:P356 ?doi .
       FILTER (CONTAINS(lcase(?doi), "figshare"))
    }
    GROUP BY ?doi
    ORDER BY DESC(?counts)
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Wikidata statements with a reference to data in Figshare
  description: ''
- name: Wikidata statement with a reference to data in Figshare of which a Wikicite
    item exists
  namespace: examples
  domain: wikidata.org
  query_id: wikidata-statement-with-a-reference-to-data-in-figshare-of-which-a-wikicite-item-exists--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?wikiciteLabel ?doi WHERE {
       ?wikicite p:P356/ps:P356 ?doi .
       ?statement prov:wasDerivedFrom ?ref .
       ?ref pr:P356 ?doi .
       FILTER (CONTAINS(lcase(?doi), "figshare"))
      SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Wikidata statement with a reference to data in Figshare of which a Wikicite
    item exists
  description: ''
- name: Wikidata statements with a reference to a Figshare DOI (<tvar name=1>[[Q28061352]]</tvar>)
  namespace: examples
  domain: wikidata.org
  query_id: wikidata-statements-with-a-reference-to-a-figshare-doi-tvar-name-1-q28061352-tvar--examples@wikidata.org
  sparql: |2

    SELECT DISTiNCT ?item ?itemLabel WHERE {
       ?item ?p ?statement.
       ?statement prov:wasDerivedFrom ?ref .
       ?ref ?prop wd:Q28061352 .
       SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Wikidata statements with a reference to a Figshare DOI (<tvar name=1>[[Q28061352]]</tvar>)
  description: ''
- name: Scholarly articles with "Zika" in the item label
  namespace: examples
  domain: wikidata.org
  query_id: scholarly-articles-with-zika-in-the-item-label--examples@wikidata.org
  sparql: |2

    SELECT ?item ?itemLabel ?DOI ?PMID
    WITH {
      SELECT * WHERE {
        BIND ("zika" AS ?searchfor)
      }
    } AS %p
    WITH {
      SELECT ?item
      WHERE {
        INCLUDE %p
        BIND (CONCAT("haswbstatement:P31=Q13442814 ", ?searchfor) AS ?searchstr)
        SERVICE wikibase:mwapi {
          bd:serviceParam wikibase:endpoint "www.wikidata.org" .
          bd:serviceParam wikibase:api "Generator" .
          bd:serviceParam mwapi:generator "search" .
          bd:serviceParam mwapi:gsrsearch ?searchstr .
          bd:serviceParam mwapi:gsrlimit "max" .
          bd:serviceParam mwapi:gsrnamespace "0" .
          bd:serviceParam mwapi:gsrprop "" .
          ?item wikibase:apiOutputItem mwapi:title .
        }
      }
    } AS %i
    WHERE {
      INCLUDE %i
      INCLUDE %p
      ?item rdfs:label ?itemLabel .
      FILTER (LANG(?itemLabel)="en")
      FILTER(CONTAINS(LCASE(?itemLabel), ?searchfor))
      OPTIONAL { ?item wdt:P698 ?PMID. }
      OPTIONAL { ?item wdt:P356 ?DOI. }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Scholarly articles with "Zika" in the item label
  description: ''
- name: Scientific articles that have subject Zika virus or fever and that are used
    as a reference in another item
  namespace: examples
  domain: wikidata.org
  query_id: scientific-articles-that-have-subject-zika-virus-or-fever-and-that-are-used-as-a-reference-in-another-item--examples@wikidata.org
  sparql: |2

    SELECT ?item ?itemLabel ?reference ?referenceType
    WHERE
    {
      ?item wdt:P31 wd:Q13442814 #Scientific article
      { ?item wdt:P921 wd:Q202864 } #Zika virus
      UNION
      { ?item wdt:P921 wd:Q8071861 } #Zika fever
      ?reference ?referenceType ?item #find references to item having any property and store reference type
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Scientific articles that have subject Zika virus or fever and that are used
    as a reference in another item
  description: ''
- name: CIViC Corpus
  namespace: examples
  domain: wikidata.org
  query_id: civic-corpus--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?pmid ?citation ?citationLabel
    WHERE
    {
      VALUES ?predictor {p:P3354 p:P3355 p:P3356 p:P3357 p:P3358 p:P3359 }
        ?item p:P3329 ?civicId ;
              ?predictor ?predictor_value .
        ?civicId ps:P3329 ?id .
        ?predictor_value prov:wasDerivedFrom ?reference .
        ?reference pr:P248 ?citation .
        ?citation wdt:P698 ?pmid ;
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: CIViC Corpus
  description: ''
- name: Get the CIViC citation corpus
  namespace: examples
  domain: wikidata.org
  query_id: get-the-civic-citation-corpus--examples@wikidata.org
  sparql: |2

    SELECT DISTINCT ?pmid ?citation ?citationLabel
    WHERE
    {
      VALUES ?predictor {p:P3354 p:P3355 p:P3356 p:P3357 p:P3358 p:P3359 }
        ?item p:P3329 ?civicId ;
              ?predictor ?predictor_value .
        ?civicId ps:P3329 ?id .
        ?predictor_value prov:wasDerivedFrom ?reference .
        ?reference pr:P248 ?citation .
        ?citation wdt:P698 ?pmid ;
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Get the CIViC citation corpus
  description: ''
- name: Get the Pathways citation corpus
  namespace: examples
  domain: wikidata.org
  query_id: get-the-pathways-citation-corpus--examples@wikidata.org
  sparql: |2

    SELECT ?id ?item ?itemLabel ?referenceLabel
    WHERE
    {
      {?item wdt:P3937 ?id } UNION
            {?item wdt:P2410 ?id }
            ?item wdt:P2860 ?reference .

      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Get the Pathways citation corpus
  description: ''
- name: Get the Wikipathways citation corpus
  namespace: examples
  domain: wikidata.org
  query_id: get-the-wikipathways-citation-corpus--examples@wikidata.org
  sparql: |2

    SELECT ?wpid ?item ?itemLabel ?referenceLabel
    WHERE
    {
      ?item wdt:P2410 ?wpid ;
              wdt:P2860 ?reference ;

      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Get the Wikipathways citation corpus
  description: ''
- name: Get the Reactome citation corups
  namespace: examples
  domain: wikidata.org
  query_id: get-the-reactome-citation-corups--examples@wikidata.org
  sparql: |2

    SELECT ?reactome_id ?item ?itemLabel ?referenceLabel
    WHERE
    {
      ?item wdt:P3937 ?reactome_id ;
            wdt:P2860 ?reference ;

      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Get the Reactome citation corups
  description: ''
- name: Suriname citation corpora
  namespace: examples
  domain: wikidata.org
  query_id: suriname-citation-corpora--examples@wikidata.org
  sparql: |2

    SELECT ?item ?itemLabel ?_PubMed_ID
    WHERE
    {
      ?item wdt:P31 wd:Q13442814 ;
            rdfs:label ?itemLabel .

      FILTER(CONTAINS(LCASE(?itemLabel), "suriname"))
      OPTIONAL { ?item wdt:P698 ?_PubMed_ID. }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Suriname citation corpora
  description: ''
- name: English common names and information for animals given their scientific names
  namespace: examples
  domain: wikidata.org
  query_id: english-common-names-and-information-for-animals-given-their-scientific-names--examples@wikidata.org
  sparql: |2

    # Given the scientific name for a list of animals, it will return all the
    # English common names, their length, life expectency, height, wing span and mass
    # Note: There is more information on these specific animals. Unfortunately, a lot of animals on WikiData have missing information (e.g. no life expectancy or mass)
    SELECT DISTINCT ?item ?scientific_name ?common_name ?length ?life_expectency ?height ?wing_span ?mass WHERE {
      ?item wdt:P225 ?scientific_name;
        wdt:P1843 ?common_name.
      OPTIONAL { ?item wdt:P2043 ?length. }
      OPTIONAL { ?item wdt:P2250 ?life_expectency. }
      OPTIONAL { ?item wdt:P2048 ?height. }
      OPTIONAL { ?item wdt:P2050 ?wing_span. }

      # Adult mass only. Excludes birth mass
      OPTIONAL {
        ?item p:P2067 ?mass_statement_node.
        ?mass_statement_node pq:P642 wd:Q78101716;
          ps:P2067 ?mass.
      }

      # Only return common names in English
      FILTER(LANGMATCHES(LANG(?common_name), "en"))

      # List of animals. All lowercase to avoid capitalisation issues
      FILTER(lcase(str(?scientific_name)) IN (
       "mustela erminea",
       "aquila adalberti",
       "vespula germanica",
       "accipiter nisus",
       "buteo buteo"
      ))
      SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
    }
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: English common names and information for animals given their scientific names
  description: ''
- name: External identifiers
  namespace: examples
  domain: wikidata.org
  query_id: external-identifiers--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:784--> Swedish municipalities which changed their municipality identifier at some point</translate>
    #author:Salgo60 2021-09-11
    SELECT DISTINCT ?item ?itemLabel ?kkod1 ?kkod2 ?svwp_artikel WHERE
    {
      ?item wdt:P525 ?kkod1 .
      ?item wdt:P525 ?kkod2 .
      FILTER ( ?kkod1<?kkod2 )
      SERVICE wikibase:label { bd:serviceParam wikibase:language "sv". }
      OPTIONAL { ?svwp_artikel schema:about ?item; schema:isPartOf <https://sv.wikipedia.org/> }
    }
    ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: External identifiers
  description: This is an example of an identifier which is unstable over time and
    thus unsuitable to be used as an identifier in e.g. an IT-system.
- name: Swedish municipalities which changed their municipality identifier at some
    point
  namespace: examples
  domain: wikidata.org
  query_id: swedish-municipalities-which-changed-their-municipality-identifier-at-some-point--examples@wikidata.org
  sparql: |2

    #title:<translate><!--T:784--> Swedish municipalities which changed their municipality identifier at some point</translate>
    #author:Salgo60 2021-09-11
    SELECT DISTINCT ?item ?itemLabel ?kkod1 ?kkod2 ?svwp_artikel WHERE
    {
      ?item wdt:P525 ?kkod1 .
      ?item wdt:P525 ?kkod2 .
      FILTER ( ?kkod1<?kkod2 )
      SERVICE wikibase:label { bd:serviceParam wikibase:language "sv". }
      OPTIONAL { ?svwp_artikel schema:about ?item; schema:isPartOf <https://sv.wikipedia.org/> }
    }
    ORDER BY ?itemLabel
  url: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples
  title: Swedish municipalities which changed their municipality identifier at some
    point
  description: This is an example of an identifier which is unstable over time and
    thus unsuitable to be used as an identifier in e.g. an IT-system.
